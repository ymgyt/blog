<!doctype html><html lang=ja><head><meta charset=UTF-8><meta content="width=device-width,initial-scale=1" name=viewport><link href=https://blog.ymgyt.io/favicon.ico rel=icon sizes=any><link href=https://blog.ymgyt.io/icon.svg rel=icon type=image/svg+xml><link href=https://blog.ymgyt.io/apple-touch-icon.png rel=apple-touch-icon><link href=https://blog.ymgyt.io/manifest.webmanifest rel=manifest><link href=https://blog.ymgyt.io/style.css rel=stylesheet><link href=https://blog.ymgyt.io/atom.xml rel=alternate title=Atom type=application/atom+xml><script src="https://www.googletagmanager.com/gtag/js?id=G-GTB0KMLN90" async></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[];gtag(`js`,new Date());gtag(`config`,`G-GTB0KMLN90`)</script><title>⌨️ 自作キーボードLily58Proを組み立てる | Happy developing</title><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><body><div class=world><div class=content-container><header class=blog-header-container><div class=blog-logo><a href=https://blog.ymgyt.io>Happy developing</a></div><div class=blog-nav><nav><ul><li><a href=https://blog.ymgyt.io/entry/>Entries</a><li><a href=https://blog.ymgyt.io/tags/>Tags</a><li><a href=https://blog.ymgyt.io/about/>About</a><li><a href=https://github.com/ymgyt> <img alt=Github class=icon src=https://blog.ymgyt.io/images/icon/github.svg> </a><li><a href="https://twitter.com/YAmaguchixt "> <img alt=Twitter class=icon src=https://blog.ymgyt.io/images/icon/twitter.svg> </a></ul></nav></div></header><main class=blog-main><article><header class=entry-header><h1 class=entry-title>⌨️ 自作キーボードLily58Proを組み立てる</h1><div class=entry-meta><p class=entry-meta-item>🗓 2020-08-09<p class=entry-meta-item>🏷 <span class=tag><a href=https://blog.ymgyt.io/tags/etc/>etc</a></span></div></header><aside class=entry-toc><nav><ul class=entry-toc-toplevel-list><li><a href=https://blog.ymgyt.io/entry/build-lily58pro/#zhun-bei>準備</a><li><a href=https://blog.ymgyt.io/entry/build-lily58pro/#zu-mili-te>組み立て</a> <ul><li><a href=https://blog.ymgyt.io/entry/build-lily58pro/#daiodowotukeru>ダイオードをつける</a><li><a href=https://blog.ymgyt.io/entry/build-lily58pro/#kisuitutiyong-soketutowotukeru>キースイッチ用ソケットをつける</a><li><a href=https://blog.ymgyt.io/entry/build-lily58pro/#trrskeburusoketuto-risetutoyong-togurusuitutiwotukeru>TRRSケーブルソケット、リセット用トグルスイッチをつける</a><li><a href=https://blog.ymgyt.io/entry/build-lily58pro/#oeldmoziyuruqu-rifu-kenozhun-bei>OELDモジュール取り付けの準備</a><li><a href=https://blog.ymgyt.io/entry/build-lily58pro/#pro-microwotukeru>Pro Microをつける</a><li><a href=https://blog.ymgyt.io/entry/build-lily58pro/#kisuitutinotorituke>キースイッチのとりつけ</a><li><a href=https://blog.ymgyt.io/entry/build-lily58pro/#oeldmoziyurunotorituke>OELDモジュールのとりつけ</a><li><a href=https://blog.ymgyt.io/entry/build-lily58pro/#qmk-firmwarenoshu-kiip-mi>qmk_firmwareの書き込み</a><li><a href=https://blog.ymgyt.io/entry/build-lily58pro/#kimatupunokasutamaizu>キーマップのカスタマイズ</a><li><a href=https://blog.ymgyt.io/entry/build-lily58pro/#wan-cheng>完成</a></ul></ul></nav></aside><div class=entry-content><p>この記事では自作キーボード<a href=https://yushakobo.jp/shop/lily58-pro/>Lily58 Pro</a>の組み立て工程について書いていきます。<p>普段はHHKBを使っていたのですが分離型キーボードを試してみたいと思っていました。 HHKBに近い感じがよく、CapsLock、FunctionKeyがなくてUS配列あたりで探していたのですがしっくりくるものが見つかりませんでした。 そんな中たまたま見つけた<a href=https://keyhive.xyz/shop/lily58>Lily58 Pro</a>がよさそうだったので作ってみることにしました。 詳細な<a href=https://github.com/kata0510/Lily58/blob/master/Pro/Doc/buildguide_jp.md>ビルドガイド</a>もあり自分でもできそうと思えました。<p>自作キーボードとは別にRustで組み込みがやってみたくて、オライリーからでている<a href=https://www.oreilly.co.jp/books/9784873118970/>Make: Electronics</a>に手をだしており、はんだづけまわりの道具が一通り揃っていたのでキット買うだけで始められそうだったのもちょうどよかったです。<h2 id=zhun-bei><a aria-label="Anchor link for: zhun-bei" class=zola-anchor href=#zhun-bei>準備</a></h2><figure><div class=fig-images-row><img , alt src=images/lily58pro_prepare.jpeg></div><figcaption>パーツと道具</figcaption></figure><p><a href=https://yushakobo.jp/shop/lily58-pro/>キット</a>は遊舎工房で購入しました。このキット以外で必要なパーツは<ul><li><a href=https://yushakobo.jp/shop/trrs_cable/>TRRSケーブル</a> 左右のキーボードをつなぐケーブル。<li><a href=https://www.amazon.co.jp/gp/product/B077PRD1FT>USBケーブル</a><li><a href="https://yushakobo.jp/shop/cherry-mx/?attribute_pa_stem=red-2">キースイッチ</a><li><a href=https://yushakobo.jp/shop/tai-hao-pbt-sakuramichi/>キーキャップ</a></ul><p>USBケーブルはマグネット式がおすすめされていたのでそれに倣いました。(上下を間違えると物理的に接続はできるもののデータ通信ができないので注意)<p>キースイッチに関しては実際に触ってみないとわからないことが多いので静からしい赤軸にしました。次は<a href=https://drop.com/buy/massdrop-x-invyr-holy-panda-mechanical-switches>Holy Panda</a>を買ってみようと思っています。<h2 id=zu-mili-te><a aria-label="Anchor link for: zu-mili-te" class=zola-anchor href=#zu-mili-te>組み立て</a></h2><figure><div class=fig-images-row><img , alt src=images/lily58pro_assemble_1.jpeg></div><figcaption>基盤表面</figcaption></figure><p>基盤(PCB)の表側に目印としてテープをつけていきます。基盤自体には裏表はないので適当に決めます。<h3 id=daiodowotukeru><a aria-label="Anchor link for: daiodowotukeru" class=zola-anchor href=#daiodowotukeru>ダイオードをつける</a></h3><figure><div class=fig-images-row><img , alt src=images/lily58pro_assemble_2.jpeg width=32%,><img , alt src=images/lily58pro_assemble_3.jpeg width=32%,><img , alt src=images/lily58pro_assemble_4.jpeg width=32%,></div><figcaption>ダイオードの取り付け</figcaption></figure><p>ダイオードを基盤の裏側につけていきます。非常に小さいのでピンセットで扱いました。またわかりにくいですが片側に線がひいてあり基板側の矢印と向きをあわせる必要あります。 基盤の左右でダイオードの向きが逆になるので注意。<p>取り付けるにはまず、ダイオード取り付け部分の片側にあらかじめはんだを垂らしておきます。これを予備はんだというらしいです。 どのくらいが適量なのかがわからなかったので適当にやっています。 写真ではこのあとに取り付けるスイッチソケット部分の予備はんだも一緒にやっています。<figure><div class=fig-images-row><img , alt src=images/lily58pro_assemble_5.jpeg width=32%,><img , alt src=images/lily58pro_assemble_6.jpeg width=32%,><img , alt src=images/lily58pro_assemble_7.jpeg width=32%,></div><figcaption>予備はんだづけ</figcaption></figure><p>予備はんだが終わったら左手でダイオードをピンセットで持ちながら予備はんだ部分にはんだごてをあててはんだを溶かしダイオードをつけていきます。<figure><div class=fig-images-row><img , alt src=images/lily58pro_assemble_8.jpeg width=48%,><img , alt src=images/lily58pro_assemble_9.jpeg width=48%,></div><figcaption>ダイオードの取り付け</figcaption></figure><p>着け終わったらもう片方もはんだづけしていきます。この作業を左右とも行います。<h3 id=kisuitutiyong-soketutowotukeru><a aria-label="Anchor link for: kisuitutiyong-soketutowotukeru" class=zola-anchor href=#kisuitutiyong-soketutowotukeru>キースイッチ用ソケットをつける</a></h3><figure><div class=fig-images-row><img , alt src=images/lily58pro_assemble_10.jpeg width=32%,><img , alt src=images/lily58pro_assemble_11.jpeg width=32%,><img , alt src=images/lily58pro_assemble_12.jpeg width=32%,></div><figcaption>ソケットの取り付け</figcaption></figure><p>ダイオードをつける際に一緒につけておいた予備はんだを利用してキースイッチ用ソケットをはんだづけしていきます。写真はMX用のものです。 作業時には気づけなかったのですがこの段階で導通確認をしておくべきでした。写真のソケットのうち3箇所はんだづけ不良のものがあります。<h3 id=trrskeburusoketuto-risetutoyong-togurusuitutiwotukeru><a aria-label="Anchor link for: trrskeburusoketuto-risetutoyong-togurusuitutiwotukeru" class=zola-anchor href=#trrskeburusoketuto-risetutoyong-togurusuitutiwotukeru>TRRSケーブルソケット、リセット用トグルスイッチをつける</a></h3><figure><div class=fig-images-row><img , alt src=images/lily58pro_assemble_13.jpeg width=48%,><img , alt src=images/lily58pro_assemble_14.jpeg width=48%,></div><figcaption>ソケットとトグルスイッチの取り付け</figcaption></figure><p>TRRSケーブル用ソケットとトグルスイッチをつけていきます。左右でとりつける位置が微妙に異なります。<h3 id=oeldmoziyuruqu-rifu-kenozhun-bei><a aria-label="Anchor link for: oeldmoziyuruqu-rifu-kenozhun-bei" class=zola-anchor href=#oeldmoziyuruqu-rifu-kenozhun-bei>OELDモジュール取り付けの準備</a></h3><figure><div class=fig-images-row><img , alt src=images/lily58pro_assemble_15.jpeg width=48%,><img , alt src=images/lily58pro_assemble_16.jpeg width=48%,></div><figcaption>OELFモジュールの準備</figcaption></figure><p>OELDモジュールをとりつけるために指定箇所にはんだづけをおこないジャンプさせます。またソケットをはめて裏からはんだづけします。写真のひとつだけ大きいなはんだづけ箇所はやり直しています。<h3 id=pro-microwotukeru><a aria-label="Anchor link for: pro-microwotukeru" class=zola-anchor href=#pro-microwotukeru>Pro Microをつける</a></h3><figure><div class=fig-images-row><img , alt src=images/lily58pro_assemble_17.jpeg width=32%,><img , alt src=images/lily58pro_assemble_18.jpeg width=32%,><img , alt src=images/lily58pro_assemble_19.jpeg width=32%,></div><figcaption>Pro Microの取り付け</figcaption></figure><p>Pro Microを取り付けます。左右両方に必要なのでふたつあります。Pro Microのはんだづけは自信がなかったので、余分に買っておいて練習してからのぞみました。 後からおもうとこの段階でqmkの書き込みを行い、ジャンパー線等でソケットを押してみて各キーが認識されているかのチェックをおこなっておくべきだったなと思っております。<h3 id=kisuitutinotorituke><a aria-label="Anchor link for: kisuitutinotorituke" class=zola-anchor href=#kisuitutinotorituke>キースイッチのとりつけ</a></h3><figure><div class=fig-images-row><img , alt src=images/lily58pro_assemble_20.jpeg width=24%,><img , alt src=images/lily58pro_assemble_21.jpeg width=24%,><img , alt src=images/lily58pro_assemble_22.jpeg width=24%,><img , alt src=images/lily58pro_assemble_23.jpeg width=24%,></div><figcaption>キースイッチの取り付け</figcaption></figure><p>スペーサをとりつけてキースイッチをはめていきます。スイッチはめていく際にうまくはまらずに中で足がまがってしまうことがあったので注意です。 キースイッチを<a href="https://www.amazon.co.jp/%E3%83%A1%E3%82%AB%E3%83%8B%E3%82%AB%E3%83%AB%E3%82%AD%E3%83%BC%E3%83%9C%E3%83%BC%E3%83%89-%E3%82%AD%E3%83%BC%E3%83%88%E3%83%83%E3%83%97%E5%BC%95%E6%8A%9C%E5%B7%A5%E5%85%B7-%E3%82%AD%E3%83%BC%E3%82%AD%E3%83%A3%E3%83%83%E3%83%97%EF%BC%86%E3%82%AD%E3%83%BC%E3%82%B9%E3%82%A4%E3%83%83%E3%83%81-%E3%82%AD%E3%83%BC%E3%83%9C%E3%83%BC%E3%83%89%E3%83%A1%E3%83%B3%E3%83%86%E3%83%8A%E3%83%B3%E3%82%B9%E7%94%A8%E5%B7%A5%E5%85%B7-%E5%BC%95%E3%81%8D%E6%8A%9C%E3%81%91%E3%82%8B%E3%82%AD%E3%83%BC/dp/B07SDQ2ZGN/ref=pd_lpo_147_t_0/">ひきぬく道具</a>を準備しておけばよかったです。<h3 id=oeldmoziyurunotorituke><a aria-label="Anchor link for: oeldmoziyurunotorituke" class=zola-anchor href=#oeldmoziyurunotorituke>OELDモジュールのとりつけ</a></h3><figure><div class=fig-images-row><img , alt src=images/lily58pro_assemble_24.jpeg width=32%,><img , alt src=images/lily58pro_assemble_25.jpeg width=32%,><img , alt src=images/lily58pro_assemble_26.jpeg width=32%,></div><figcaption>OELDモジュールの取り付け</figcaption></figure><p>OELDモジュールをとりつけます。(アクリルの保護シートをとりはずすのにかなり苦労しました。)<h3 id=qmk-firmwarenoshu-kiip-mi><a aria-label="Anchor link for: qmk-firmwarenoshu-kiip-mi" class=zola-anchor href=#qmk-firmwarenoshu-kiip-mi>qmk_firmwareの書き込み</a></h3><p><a href=https://github.com/qmk/qmk_firmware>qmk_firmware</a>を書き込んでいきます。<p>かなり詳しい<a href=https://docs.qmk.fm/#/newbs_getting_started>document</a>が用意されているのでそれにしたがってセットアップします。 自分の環境はmacOSなので、git cloneしてきた後<code>brew install qmk/qmk/qmk</code>で必要な準備が整いました。 キーマップを書き込むには、<code>cd qmk_firmware && make lily58:default:avrdude</code>を実行します。resetまちになるので、リセットトグルスイッチをおしてやります。 TRRSケーブルははずした状態で左右それぞれでUSBケーブルを接続して<code>make lily58:default:avrdude</code>を実行します。<h3 id=kimatupunokasutamaizu><a aria-label="Anchor link for: kimatupunokasutamaizu" class=zola-anchor href=#kimatupunokasutamaizu>キーマップのカスタマイズ</a></h3><p>qmkを書き込みすべてのキーが動作することのを確認できたらキーマップをカスタマイズしていきます。 <code>qmk_firmware/keyboards/lily58/keymaps/custom</code> directoryを作成して<code>lily58/keymaps/default</code>以下をコピーしてきます。<pre class=z-code><code><span class="z-text z-plain">ls -l keymaps/custom
</span><span class="z-text z-plain">total 8
</span><span class="z-text z-plain">-rw-r--r-- 1 ymgyt staff 1274 Aug  2 15:57 config.h
</span><span class="z-text z-plain">lrwxr-xr-x 1 ymgyt staff   48 Aug  4 09:11 keymap.c -> /Users/ymgyt/ws/kb/my_qmk_keymap/lily58/keymap.c
</span><span class="z-text z-plain">-rw-r--r-- 1 ymgyt staff 1481 Aug  2 15:57 rules.mk
</span></code></pre><p><a href=https://github.com/ymgyt/my_qmk_keymap/blob/master/lily58/keymap.c>キーマップ</a>はgit管理したかったのでsymlinkを貼りました。 このあたりは使いながらqmkのdocを読んでいろいろ試していこうと思っています。<br> 書き込む際は <code>make lily58:custom:avrdude</code>を実行します。左右それぞれにやらなくてはいけないのですこし面倒です。<h3 id=wan-cheng><a aria-label="Anchor link for: wan-cheng" class=zola-anchor href=#wan-cheng>完成</a></h3><figure><div class=fig-images-row><img , alt src=images/lily58pro_assemble_27.jpeg></div><figcaption>完成</figcaption></figure><p>キーキャップをはめてこのようになりました。 初めての自作キーボードでしたが動くものが作れて仕事で利用できています。道具さえ揃えてしまえばはんだづけは大変でしたがなんとかなったので電子工作の入門としてちょうどいいのではないかなと思います。 副作用としてHHKBが使えない体になってしまい、家用で2台目をつくるためにさっそく新しいキースイッチを購入してしまいました。</div></article></main><footer class=blog-footer><p>© 2025 <a href=https://blog.ymgyt.io> ymgyt </a> | Made with <a href=https://www.getzola.org rel=noopener target=_blank>Zola</a> | <a href=https://github.com/ymgyt/blog>Repository</a> | <a href=https://blog.ymgyt.io/atom.xml target=_blank title=rss> <svg viewbox="0 0 24 24" class=icon fill=none height=24 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=24 xmlns=http://www.w3.org/2000/svg><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx=5 cy=19 r=1></circle></svg> </a></footer></div></div>