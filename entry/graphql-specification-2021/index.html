<!doctype html><html lang=ja><head><meta charset=UTF-8><meta content="width=device-width,initial-scale=1" name=viewport><link href=https://blog.ymgyt.io/favicon.ico rel=icon sizes=any><link href=https://blog.ymgyt.io/icon.svg rel=icon type=image/svg+xml><link href=https://blog.ymgyt.io/apple-touch-icon.png rel=apple-touch-icon><link href=https://blog.ymgyt.io/manifest.webmanifest rel=manifest><link href=https://blog.ymgyt.io/style.css rel=stylesheet><link href=https://blog.ymgyt.io/atom.xml rel=alternate title=Atom type=application/atom+xml><script src="https://www.googletagmanager.com/gtag/js?id=G-GTB0KMLN90" async></script><script>window.dataLayer = window.dataLayer || [];
	function gtag() {dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-GTB0KMLN90');</script><title>ğŸ•¸  GraphQL Specificationã‚’èª­ã‚“ã§ã¿ã‚‹ | Happy developing</title><meta content=GraphQLã®ä»•æ§˜ã‚’èª­ã‚“ã§ã¿ãŸæ„Ÿæƒ³ã«ã¤ã„ã¦ name=description><meta content=summary name=twitter:card><meta content="@YAmaguchixt " name=twitter:site><meta content="ğŸ•¸  GraphQL Specificationã‚’èª­ã‚“ã§ã¿ã‚‹" name=twitter:title><meta content=GraphQLã®ä»•æ§˜ã‚’èª­ã‚“ã§ã¿ãŸæ„Ÿæƒ³ã«ã¤ã„ã¦ name=twitter:description><meta content=https://blog.ymgyt.io/images/emoji/spider_web.png name=twitter:image><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><body><div class=world><div class=content-container><header class=blog-header-container><div class=blog-logo><a href=https://blog.ymgyt.io>Happy developing</a></div><div class=blog-nav><nav><ul><li><a href=https://blog.ymgyt.io/entry/>Entries</a><li><a href=https://blog.ymgyt.io/tags/>Tags</a><li><a href=https://blog.ymgyt.io/about/>About</a><li><a href=https://github.com/ymgyt> <img alt=Github class=icon src=https://blog.ymgyt.io/images/icon/github.svg> </a><li><a href="https://twitter.com/YAmaguchixt "> <img alt=Twitter class=icon src=https://blog.ymgyt.io/images/icon/twitter.svg> </a></ul></nav></div></header><main class=blog-main><article><header class=entry-header><h1 class=entry-title>ğŸ•¸ GraphQL Specificationã‚’èª­ã‚“ã§ã¿ã‚‹</h1><div class=entry-meta><p class=entry-meta-item>ğŸ—“ 2022-11-04<p class=entry-meta-item>ğŸ· <span class=tag><a href=https://blog.ymgyt.io/tags/book/>book</a></span></div></header><aside class=entry-toc><nav><ul class=entry-toc-toplevel-list><li><a href=https://blog.ymgyt.io/entry/graphql-specification-2021/#1-overview>1 Overview</a> <ul><li><a href=https://blog.ymgyt.io/entry/graphql-specification-2021/#graphql-design-principals>GraphQL design principals</a></ul><li><a href=https://blog.ymgyt.io/entry/graphql-specification-2021/#2-language>2 Language</a> <ul><li><a href=https://blog.ymgyt.io/entry/graphql-specification-2021/#operations>Operations</a><li><a href=https://blog.ymgyt.io/entry/graphql-specification-2021/#selection-sets>Selection Sets</a><li><a href=https://blog.ymgyt.io/entry/graphql-specification-2021/#values>Values</a><li><a href=https://blog.ymgyt.io/entry/graphql-specification-2021/#variables>Variables</a></ul><li><a href=https://blog.ymgyt.io/entry/graphql-specification-2021/#3-type-system>3 Type System</a> <ul><li><a href=https://blog.ymgyt.io/entry/graphql-specification-2021/#descriptions>Descriptions</a><li><a href=https://blog.ymgyt.io/entry/graphql-specification-2021/#schema>Schema</a><li><a href=https://blog.ymgyt.io/entry/graphql-specification-2021/#types>Types</a><li><a href=https://blog.ymgyt.io/entry/graphql-specification-2021/#scalars>Scalars</a><li><a href=https://blog.ymgyt.io/entry/graphql-specification-2021/#interfaces>Interfaces</a><li><a href=https://blog.ymgyt.io/entry/graphql-specification-2021/#unions>Unions</a><li><a href=https://blog.ymgyt.io/entry/graphql-specification-2021/#non-null>Non-Null</a><li><a href=https://blog.ymgyt.io/entry/graphql-specification-2021/#directives-1>Directives</a></ul><li><a href=https://blog.ymgyt.io/entry/graphql-specification-2021/#4-introspection>4 Introspection</a><li><a href=https://blog.ymgyt.io/entry/graphql-specification-2021/#5-validation>5 Validation</a><li><a href=https://blog.ymgyt.io/entry/graphql-specification-2021/#6-execution>6 Execution</a> <ul><li><a href=https://blog.ymgyt.io/entry/graphql-specification-2021/#executing-requests>Executing Requests</a><li><a href=https://blog.ymgyt.io/entry/graphql-specification-2021/#executing-operations>Executing Operations</a><li><a href=https://blog.ymgyt.io/entry/graphql-specification-2021/#executing-selection-sets>Executing Selection Sets</a></ul><li><a href=https://blog.ymgyt.io/entry/graphql-specification-2021/#7-response>7 Response</a> <ul><li><a href=https://blog.ymgyt.io/entry/graphql-specification-2021/#response-format>Response format</a><li><a href=https://blog.ymgyt.io/entry/graphql-specification-2021/#serialization-format>Serialization Format</a></ul><li><a href=https://blog.ymgyt.io/entry/graphql-specification-2021/#appendix>Appendix</a><li><a href=https://blog.ymgyt.io/entry/graphql-specification-2021/#matome>ã¾ã¨ã‚</a></ul></nav></aside><div class=entry-content><figure><div class=fig-images-row><img , alt src=images/gql_spec.png></div></figure><p>æœ¬è¨˜äº‹ã§ã¯GraphQLã®<a href=https://spec.graphql.org/October2021/ rel=external>ä»•æ§˜</a>ã‚’èª­ã‚“ã æ„Ÿæƒ³ã«ã¤ã„ã¦æ›¸ãã¾ã™ã€‚å…·ä½“çš„ã«ã¯October 2021 Editionã§ã™ã€‚<br> <a href=https://spec.graphql.org/October2021/ rel=external>ä»•æ§˜</a>ã‚’èª­ã‚“ã§ã¿ã‚ˆã†ã¨ãŠã‚‚ã£ãŸãã£ã‹ã‘ãªã®ã§ã™ãŒã€Githubã®graphql apiã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚ã†ã¨Http requestã‚’ä½œã£ã¦ã„ãŸéš›ã«æœ€çµ‚çš„ã«ã©ã†ã„ã†jsonã®bodyã‚’ä½œã‚Œã°ã„ã„ã‹ã‚ã‹ã‚‰ãšä»•æ§˜ã§ã©ã†ãªã£ã¦ã„ã‚‹ã®ã‹æ°—ã«ãªã£ãŸã®ãŒãã£ã‹ã‘ã§ã™ã€‚ã¾ãŸ<a href=https://spec.graphql.org/October2021/ rel=external>ä»•æ§˜</a>ã«ã¯å…·ä½“ä¾‹ã‚‚ã®ã£ã¦ãŠã‚Šæ€ã£ãŸã‚ˆã‚Šèª­ã¿ã‚„ã™ãã†ã¨ã„ã†å°è±¡ã‚‚ã†ã‘ã¾ã—ãŸã€‚ğŸ•¸<h2 id=1-overview><a aria-label="Anchor link for: 1-overview" class=zola-anchor href=#1-overview>1 Overview</a></h2><p>GraphQLã®æ¦‚è¦ã«ã¤ã„ã¦ã€‚<blockquote><p>GraphQL is a query language designed to build client applications by providing an intuitive and flexible syntax and system for describing their data requirements and interactions.</blockquote><p>GraphQLã¯client applicationãŒæ¬²ã—ã„ãƒ‡ãƒ¼ã‚¿ã‚’ç›´æ„Ÿçš„ã‹ã¤æŸ”è»Ÿã«è¡¨ç¾ã§ãã‚‹syntaxã‚’æä¾›ã™ã‚‹ã€‚<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=graphql><span class=giallo-l><span style=color:#eceff4>{</span></span>
<span class=giallo-l><span>  user(id</span><span style=color:#eceff4>:</span><span style=color:#b48ead> 4</span><span>)</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>    name</span></span>
<span class=giallo-l><span style=color:#eceff4>  }</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span></code></pre><p>ç¢ºã‹ã«ä¸Šè¨˜ã®queryã§user idãŒ4ã®userã®nameã‚’å–å¾—ã—ãŸã„ã¨ç´ ç›´ã«èª­ã‚ã¾ã™ã€‚<blockquote><p>GraphQL is not a programming language capable of arbitrary computation, but is instead a language used to make requests to application services that have capabilities defined in this specification. GraphQL does not mandate a particular programming language or storage system for application services that implement it.</blockquote><ul><li>GraphQLã¯GraphQL serverã¸ã®requestã‚’ä½œã‚‹ãŸã‚ã®language<li>ç‰¹å®šã®programmingè¨€èªã‚’å¼·åˆ¶ã—ãªã„</ul><h3 id=graphql-design-principals><a aria-label="Anchor link for: graphql-design-principals" class=zola-anchor href=#graphql-design-principals>GraphQL design principals</a></h3><p>GraphQLã«ã¯ä»¥ä¸‹ã®design principlesãŒã‚ã‚‹ãã†ã§ã™ã€‚<ul><li>Product-centric<li>Hierarchical<li>Strong-typing<li>Client-specified response<li>Introspective</ul><h4 id=product-centric><a aria-label="Anchor link for: product-centric" class=zola-anchor href=#product-centric>Product-centric</a></h4><blockquote><p>GraphQL is unapologetically driven by the requirements of views and the front-end engineers that write them. GraphQL starts with their way of thinking and requirements and builds the language and runtime necessary to enable that.</blockquote><p>ç”»é¢ã‚’ä½œã‚‹frontendã®ãŸã‚ã®è¨€èªã§ã‚ã‚‹ã“ã¨ãŒæœ€åˆã«å®£è¨€ã•ã‚Œã¦ã„ã‚‹ã®ãŒå°è±¡çš„ã§ã™ã€‚<h4 id=hierarchical><a aria-label="Anchor link for: hierarchical" class=zola-anchor href=#hierarchical>Hierarchical</a></h4><blockquote><p>Most product development today involves the creation and manipulation of view hierarchies. To achieve congruence with the structure of these applications, a GraphQL request itself is structured hierarchically. The request is shaped just like the data in its response. It is a natural way for clients to describe data requirements.</blockquote><p>ä»Šæ—¥ã®productã«ãŠã„ã¦ã¯view hierarchiesã‚’æ‰±ã†ã®ãŒä¸€èˆ¬çš„ã€‚<br> view hierarchiesã®ç†è§£ãŒã‚ã‚„ã—ã„ã§ã™ãŒã€ä¾‹ãˆã°Githubã®ã‚ã‚‹repositoryã®issueã®titleä¸€è¦§ãŒæ¬²ã—ã„ã¿ãŸã„ãªå¿…è¦ãªdataãŒ<code>aaa.bbb.ccc.ddd</code>ã®ã‚ˆã†ã«resourceã®é–¢ä¿‚æ€§ã§è¡¨ç¾ã§ãã‚‹ã¨ã„ã†ã‚ˆã†ãªã“ã¨ã§ã—ã‚‡ã†ã‹ã€‚ç¢ºã‹ã«ã‚ã‚‹repositoryã®issueã®titleä¸€è¦§ã‚’å–å¾—ã—ã‚ˆã†ã¨æ€ã£ãŸæ™‚ã«<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=graphql><span class=giallo-l><span style=color:#88c0d0>repository</span><span>(owner</span><span style=color:#eceff4>: "</span><span style=color:#616e88>kubernetes"</span><span style=color:#eceff4>,</span><span> name</span><span style=color:#eceff4>: "</span><span style=color:#616e88>kubernetes"</span><span>)</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>    id</span><span style=color:#eceff4>,</span></span>
<span class=giallo-l><span>    issues(</span></span>
<span class=giallo-l><span>        orderBy</span><span style=color:#eceff4>:</span><span> {</span><span style=color:#a3be8c>field</span><span style=color:#eceff4>:</span><span style=color:#ebcb8b> UPDATED_AT</span><span>,</span><span style=color:#a3be8c> direction</span><span style=color:#eceff4>:</span><span style=color:#ebcb8b> ASC</span><span> }</span><span style=color:#eceff4>,</span></span>
<span class=giallo-l><span>        states</span><span style=color:#eceff4>:</span><span> [</span><span style=color:#ebcb8b>OPEN</span><span>]</span><span style=color:#eceff4>,</span></span>
<span class=giallo-l><span>        first</span><span style=color:#eceff4>:</span><span style=color:#b48ead> 10</span><span style=color:#eceff4>,</span></span>
<span class=giallo-l><span>    )</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>        pageInfo</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>            startCursor</span><span style=color:#eceff4>,</span></span>
<span class=giallo-l><span>            endCursor</span><span style=color:#eceff4>,</span></span>
<span class=giallo-l><span>            hasNextPage</span><span style=color:#eceff4>,</span></span>
<span class=giallo-l><span>            hasPreviousPage</span><span style=color:#eceff4>,</span></span>
<span class=giallo-l><span style=color:#eceff4>        },</span></span>
<span class=giallo-l><span>        totalCount</span><span style=color:#eceff4>,</span></span>
<span class=giallo-l><span>        edges</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>            cursor</span><span style=color:#eceff4>,</span></span>
<span class=giallo-l><span>            node</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>                id</span><span style=color:#eceff4>,</span></span>
<span class=giallo-l><span>                number</span><span style=color:#eceff4>,</span></span>
<span class=giallo-l><span>                title</span><span style=color:#eceff4>,</span></span>
<span class=giallo-l><span style=color:#eceff4>            }</span></span>
<span class=giallo-l><span style=color:#eceff4>        }</span></span>
<span class=giallo-l><span style=color:#eceff4>    }</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span></code></pre><p>ã®ã‚ˆã†ãªqueryã‚’apiã«ãªã’ã‚‹ã®ã§ã™ãŒ, responseã¨ã—ã¦<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=json><span class=giallo-l><span style=color:#eceff4> "</span><span style=color:#a3be8c>data</span><span style=color:#eceff4>"</span><span>: </span><span style=color:#eceff4>{</span></span>
<span class=giallo-l><span style=color:#eceff4>    "</span><span style=color:#8fbcbb>repository</span><span style=color:#eceff4>": {</span></span>
<span class=giallo-l><span style=color:#eceff4>      "</span><span style=color:#8fbcbb>id</span><span style=color:#eceff4>": "</span><span style=color:#a3be8c>MDEwOlJlcG9zaXRvcnkyMDU4MDQ5OA==</span><span style=color:#eceff4>",</span></span>
<span class=giallo-l><span style=color:#eceff4>      "</span><span style=color:#8fbcbb>issues</span><span style=color:#eceff4>": {</span></span>
<span class=giallo-l><span style=color:#eceff4>        "</span><span style=color:#8fbcbb>pageInfo</span><span style=color:#eceff4>": {</span></span>
<span class=giallo-l><span style=color:#eceff4>          "</span><span style=color:#8fbcbb>startCursor</span><span style=color:#eceff4>": "</span><span style=color:#a3be8c>Y3Vyc29yOnYyOpK5MjAxOC0wMS0xNlQyMTo1OToxOSswOTowMM4Gha_N</span><span style=color:#eceff4>",</span></span>
<span class=giallo-l><span style=color:#eceff4>          "</span><span style=color:#8fbcbb>endCursor</span><span style=color:#eceff4>": "</span><span style=color:#a3be8c>Y3Vyc29yOnYyOpK5MjAxOS0wNS0wN1QwNDoyNzo0NyswOTowMM4CkpIm</span><span style=color:#eceff4>",</span></span>
<span class=giallo-l><span style=color:#eceff4>          "</span><span style=color:#8fbcbb>hasNextPage</span><span style=color:#eceff4>":</span><span style=color:#81a1c1> true</span><span style=color:#eceff4>,</span></span>
<span class=giallo-l><span style=color:#eceff4>          "</span><span style=color:#8fbcbb>hasPreviousPage</span><span style=color:#eceff4>":</span><span style=color:#81a1c1> false</span></span>
<span class=giallo-l><span style=color:#eceff4>        },</span></span>
<span class=giallo-l><span style=color:#eceff4>        "</span><span style=color:#8fbcbb>totalCount</span><span style=color:#eceff4>":</span><span style=color:#b48ead> 1576</span><span style=color:#eceff4>,</span></span>
<span class=giallo-l><span style=color:#eceff4>        "</span><span style=color:#8fbcbb>edges</span><span style=color:#eceff4>": [</span></span>
<span class=giallo-l><span style=color:#eceff4>          {</span></span>
<span class=giallo-l><span style=color:#eceff4>            "</span><span style=color:#8fbcbb>cursor</span><span style=color:#eceff4>": "</span><span style=color:#a3be8c>Y3Vyc29yOnYyOpK5MjAxOC0wMS0xNlQyMTo1OToxOSswOTowMM4Gha_N</span><span style=color:#eceff4>",</span></span>
<span class=giallo-l><span style=color:#eceff4>            "</span><span style=color:#8fbcbb>node</span><span style=color:#eceff4>": {</span></span>
<span class=giallo-l><span style=color:#eceff4>              "</span><span style=color:#8fbcbb>id</span><span style=color:#eceff4>": "</span><span style=color:#a3be8c>MDU6SXNzdWUxMDk0MjQ1ODk=</span><span style=color:#eceff4>",</span></span>
<span class=giallo-l><span style=color:#eceff4>              "</span><span style=color:#8fbcbb>number</span><span style=color:#eceff4>":</span><span style=color:#b48ead> 14961</span><span style=color:#eceff4>,</span></span>
<span class=giallo-l><span style=color:#eceff4>              "</span><span style=color:#8fbcbb>title</span><span style=color:#eceff4>": "</span><span style=color:#a3be8c>Write proposal for controller pod management: adoption, orphaning, ownership, etc. (aka controllers v2)</span><span style=color:#eceff4>",</span></span>
<span class=giallo-l><span style=color:#eceff4>            }</span></span>
<span class=giallo-l><span style=color:#eceff4>          },</span></span>
<span class=giallo-l><span style=color:#eceff4>          {</span></span>
<span class=giallo-l><span style=color:#eceff4>            "</span><span style=color:#8fbcbb>cursor</span><span style=color:#eceff4>": "</span><span style=color:#a3be8c>Y3Vyc29yOnYyOpK5MjAxOC0wMS0xOFQxNDoxMzozMSswOTowMM4LjpVk</span><span style=color:#eceff4>",</span></span>
<span class=giallo-l><span style=color:#eceff4>            "</span><span style=color:#8fbcbb>node</span><span style=color:#eceff4>": {</span></span>
<span class=giallo-l><span style=color:#eceff4>              "</span><span style=color:#8fbcbb>id</span><span style=color:#eceff4>": "</span><span style=color:#a3be8c>MDU6SXNzdWUxOTM4OTM3MzI=</span><span style=color:#eceff4>",</span></span>
<span class=giallo-l><span style=color:#eceff4>              "</span><span style=color:#8fbcbb>number</span><span style=color:#eceff4>":</span><span style=color:#b48ead> 38216</span><span style=color:#eceff4>,</span></span>
<span class=giallo-l><span style=color:#eceff4>              "</span><span style=color:#8fbcbb>title</span><span style=color:#eceff4>": "</span><span style=color:#a3be8c>Expose enough information to resolve object references and label selectors generically</span><span style=color:#eceff4>",</span></span>
<span class=giallo-l><span style=color:#eceff4>            }</span></span>
<span class=giallo-l><span style=color:#eceff4>          },</span></span></code></pre><p>ã®ã‚ˆã†ã«queryã®æ§‹é€ ã«å¯¾å¿œã™ã‚‹responseãŒè¿”ã£ã¦ãã¦éå¸¸ã«ç›´æ„Ÿçš„ã§ã™ã€‚<h4 id=strong-typing><a aria-label="Anchor link for: strong-typing" class=zola-anchor href=#strong-typing>Strong-typing</a></h4><blockquote><p>Every GraphQL service defines an application-specific type system. Requests are executed within the context of that type system. Given a GraphQL operation, tools can ensure that it is both syntactically correct and valid within that type system before execution, i.e. at development time, and the service can make certain guarantees about the shape and nature of the response.</blockquote><p>å‹ã¥ã‘ã•ã‚Œã¦ã„ã‚‹ã€‚<h4 id=client-specified-response><a aria-label="Anchor link for: client-specified-response" class=zola-anchor href=#client-specified-response>Client-specified response</a></h4><blockquote><p>Through its type system, a GraphQL service publishes the capabilities that its clients are allowed to consume. It is the client that is responsible for specifying exactly how it will consume those published capabilities. These requests are specified at field-level granularity. In the majority of client-server applications written without GraphQL, the service determines the shape of data returned from its various endpoints. A GraphQL response, on the other hand, contains exactly what a client asks for and no more.</blockquote><p>GraphQLã§ã¯responseã®æ§‹é€ ã‚’clientãŒæ±ºã‚ã‚‹ã€‚<br> ã“ã‚ŒãŒã‚„ã‚ŠãŸãã¦GraphQLä½¿ã„ãŸã„ã¿ãŸã„ãªã¨ã“ã‚ãŒã‚ã‚Šã¾ã™ã€‚RESTã§APIé–‹ç™ºã—ã¦ã„ã¦ã“ã®endpointã§ã©ã“ã¾ã§é–¢é€£ã™ã‚‹ãƒªã‚½ãƒ¼ã‚¹è¿”ã™ã‹ã¯ã„ã¤ã‚‚æ‚©ã¿ã©ã“ã‚ã§ã—ãŸã€‚(ã ã„ãŸã„æœ€åˆã®é–‹ç™ºãŒç”»é¢ã«å¼•ãã¥ã‚‰ã‚Œã¦è² å‚µã«ãªã‚‹)<h4 id=introspective><a aria-label="Anchor link for: introspective" class=zola-anchor href=#introspective>Introspective</a></h4><blockquote><p>GraphQL is introspective. A GraphQL serviceâ€™s type system can be queryable by the GraphQL language itself, as will be described in this specification. GraphQL introspection serves as a powerful platform for building common tools and client software libraries.</blockquote><p>GraphQLã®apiã¯GraphQLè‡ªèº«ã§èª¿ã¹ã‚‰ã‚Œã‚‹ã€‚ä¾¿åˆ©ã ãªãã‚‰ã„ã«æ€ã£ã¦ã„ã¾ã—ãŸãŒä»•æ§˜ã§æœ€åˆã‹ã‚‰è€ƒæ…®ã•ã‚Œã¦ã„ãŸã‚“ã§ã™ã­ã€‚<h4 id=design-principles-matome><a aria-label="Anchor link for: design-principles-matome" class=zola-anchor href=#design-principles-matome>Design principles ã¾ã¨ã‚</a></h4><blockquote><p>Because of these principles, ... Product developers and designers building applications against working GraphQL servicesâ€”supported with quality toolsâ€”can quickly become productive without reading extensive documentation and with little or no formal training.</blockquote><p>ã“ã‚Œã‚‰ã®åŸå‰‡ã®ãŠã‹ã’ã§extensive documentationã‚’èª­ã‚€ã“ã¨ãªãã»ã¨ã‚“ã©formal trainingãªã—ã«productiveã«ãªã‚Œã‚‹ã¿ãŸã„ã§ã™ã€‚<br> (GraphQLã‚„ã£ã¦ã¿ã‚‹ã«ã‚ãŸã‚Šå‰²ã¨è‰²ã€…è§£èª¬è¨˜äº‹æ¢ã—ãŸã‚Šã—ã¦ã„ãŸã®ã§ã€quickly become productiveã«ãªã‚Œã¦ã„ãªãã¦ç„¦ã‚Šã¾ã™ã€‚)<p>ã¾ã¨ã‚ã‚‹ã¨GraphQLã¯ã€frontend engineersãŒæ¬²ã—ã„ãƒ‡ãƒ¼ã‚¿ã‚’é–¢ä¿‚æ€§å«ã‚ã¦å‹ã«åŸºã¥ã„ã¦è¡¨ç¾ã§ãã‚‹è¨€èªã¨ã„ã†æ„Ÿã˜ã§ã—ã‚‡ã†ã‹ã€‚(+ Metaæƒ…å ±ã®å…¬é–‹ã®ä»•æ–¹ã‚‚æ±ºã¾ã£ã¦ã„ã‚‹)<h2 id=2-language><a aria-label="Anchor link for: 2-language" class=zola-anchor href=#2-language>2 Language</a></h2><p>GraphQLã®operation(query,mutation,subscription)ã‚„selection set, variable, data typeã¨ã„ã£ãŸcomponentã«ã¤ã„ã¦ã€‚<blockquote><p>Clients use the GraphQL query language to make requests to a GraphQL service. We refer to these request sources as documents. A document may contain operations (queries, mutations, and subscriptions) as well as fragments, a common unit of composition allowing for data requirement reuse.</blockquote><p>GraphQL serverã¸ã®requestã«ã¯documentã‚’å«ã‚ã‚‹ã€‚documentã«ã¯operationsã‚„fragmentsã‚’å«ã‚ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚<br> Githubã®graphql apiã¸http requestä½œã‚ã†ã¨ã—ãŸéš›ã«ã©ã‚“ãªjsonæŠ•ã’ã‚Œã°ã„ã„ã®ã‹çŸ¥ã‚ŠãŸãã¦æœ¬ä»•æ§˜ã‚’è¦‹ã¦ã¿ãŸã®ã§ã™ãŒã€ä»•æ§˜ä¸Šã¯ãªã‚“ã‚‰ã‹ã®æ–¹æ³•ã§"document"ã‚’å«ã‚ã‚‹ã¨ã„ã†ã‚ˆã†ãªæ›¸ãã¶ã‚Šã§ã—ãŸã€‚<blockquote><p>A GraphQL document is defined as a syntactic grammar where terminal symbols are tokens (indivisible lexical units). These tokens are defined in a lexical grammar which matches patterns of source characters. In this document, syntactic grammar productions are distinguished with a colon : while lexical grammar productions are distinguished with a double-colon ::.</blockquote><blockquote><p>The source text of a GraphQL document must be a sequence of SourceCharacter. The character sequence must be described by a sequence of Token and Ignored lexical grammars. The lexical token sequence, omitting Ignored, must be described by a single Document syntactic grammar.</blockquote><p>GraphQLã®documentã¯tokenã‚’çµ‚ç«¯è¨˜å·ã¨ã™ã‚‹syntactic grammarã§å®šç¾©ã•ã‚Œã‚‹ã€‚syntactic grammarã®productionsã¯<code>:</code>ã§å®šç¾©ã•ã‚Œã‚‹ã€‚<br> tokenã¯lexical grammarã§å®šç¾©ã•ã‚Œã‚‹ã€‚lexical grammar productionsã¯<code>::</code>ã§å®šç¾©ã•ã‚Œã‚‹ã€‚<br> ã‚½ãƒ¼ã‚¹ -> tokenåˆ— -> documentã¨ã„ã†æµã‚Œã§parseã•ã‚Œã‚‹ã¨ã„ã†ç†è§£ã§ã™ã€‚<br> ãã®ä»–ã€Source Textã¨ã—ã¦æœ‰åŠ¹ãªunicode code pointãŒå®šç¾©ã•ã‚Œã¦ã„ãŸã‚Šã€æ”¹è¡Œã‚³ãƒ¼ãƒ‰ãŒå®šç¾©ã•ã‚Œã¦ã„ãŸã‚Šã—ã¾ã™ã€‚UnicodeBOMå…¥ã£ã¦ã„ã¦ã‚‚ä»•æ§˜ä¸Šæœ‰åŠ¹ã¨ã„ã†ç™ºè¦‹ãŒã‚ã‚Šã¾ã—ãŸã€‚<h3 id=operations><a aria-label="Anchor link for: operations" class=zola-anchor href=#operations>Operations</a></h3><p>å®Ÿéš›ã«æ›¸ãGraphQL queryã‚„mutationã¯ã©ã®ã‚ˆã†ã«è¦å®šã•ã‚Œã¦ã„ã‚‹ã‹ã€‚<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=plain><span class=giallo-l><span>OperationDefinition :</span></span>
<span class=giallo-l><span>  - OperationType Name? VariableDefinitions? Directives? SelectionSet</span></span>
<span class=giallo-l><span>  - SelectionSet</span></span>
<span class=giallo-l><span> </span></span>
<span class=giallo-l><span>OperationType : one of `query` `mutation` `subscription`</span></span></code></pre><p>Operationã¯ä¸Šè¨˜ã®ã‚ˆã†ã«å®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚<br> GraphQLã¯ã˜ã‚ãŸéš›ã«<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=graphql><span class=giallo-l><span style=color:#eceff4>{</span></span>
<span class=giallo-l><span>    repository(name</span><span style=color:#eceff4>: "</span><span style=color:#a3be8c>xxx</span><span style=color:#eceff4>"</span><span>)</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>        id</span><span style=color:#eceff4>,</span></span>
<span class=giallo-l><span style=color:#eceff4>    }</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span></code></pre><pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=graphql><span class=giallo-l><span style=color:#81a1c1>query</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>    repository(name</span><span style=color:#eceff4>: "</span><span style=color:#a3be8c>xxx</span><span style=color:#eceff4>"</span><span>)</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>        id</span><span style=color:#eceff4>,</span></span>
<span class=giallo-l><span style=color:#eceff4>    }</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span></code></pre><pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=graphql><span class=giallo-l><span style=color:#81a1c1>query</span><span style=color:#88c0d0> FetchRepository</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>    repository(name</span><span style=color:#eceff4>: "</span><span style=color:#a3be8c>xxx</span><span style=color:#eceff4>"</span><span>)</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>        id</span><span style=color:#eceff4>,</span></span>
<span class=giallo-l><span style=color:#eceff4>    }</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span></code></pre><p>ã®ã‚ˆã†ã«è‰²ã€…ãªæ›¸ãæ–¹ãŒã‚ã£ã¦æ··ä¹±ã—ã¦ã„ãŸã®ã§ã™ãŒOperationTypeã‚’çœç•¥ã—ãŸéš›ã¯queryã¨è§£é‡ˆã•ã‚Œã¦ã€operation nameã¯çœç•¥å¯èƒ½ã¨ã„ã†ã“ã¨ã ã£ãŸã‚“ã§ã™ã­ã€‚<h3 id=selection-sets><a aria-label="Anchor link for: selection-sets" class=zola-anchor href=#selection-sets>Selection Sets</a></h3><blockquote><p>An operation selects the set of information it needs, and will receive exactly that information and nothing more, avoiding over-fetching and under-fetching data.</blockquote><p>å¿…è¦ãªæƒ…å ±ã ã‘ã‚’å®£è¨€ã™ã‚‹selectionã«ã¤ã„ã¦ã€‚<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=plain><span class=giallo-l><span>SelectionSet : { Selection+ }</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span>Selection :</span></span>
<span class=giallo-l><span>  - Field</span></span>
<span class=giallo-l><span>  - FragmentSpread</span></span>
<span class=giallo-l><span>  - InlineFragment</span></span></code></pre><p>fieldã‹fragmentã‚’ã‹ã‘ã‚‹ã€‚fragmentã‚‚åˆ¥ã§å®šç¾©ã™ã‚‹ã‹inlineã§æ›¸ã‘ã‚‹ã€‚<h4 id=field><a aria-label="Anchor link for: field" class=zola-anchor href=#field>Field</a></h4><pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=plain><span class=giallo-l><span>Field : Alias? Name Arguments? Directives? SelectionSet?</span></span></code></pre><p>Fieldã¯ä¸Šè¨˜ã®ã‚ˆã†ã«å®šç¾©ã•ã‚Œã¦ã„ã‚‹ã€‚aliasãŒæ›¸ã‘ã‚‹ã“ã¨ã‚„ã€å†å¸°çš„ã«SelectionSetãŒæ›¸ã‘ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚<blockquote><p>Some fields describe complex data or relationships to other data. In order to further explore this data, a field may itself contain a selection set, allowing for deeply nested requests. All GraphQL operations must specify their selections down to fields which return scalar values to ensure an unambiguously shaped response.</blockquote><p>SelectionSetã‚’nestã•ã›ã¦ã‚‚æœ€çµ‚çš„ã«ã¯scalarã®fieldã«ãªã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=graphql><span class=giallo-l><span style=color:#81a1c1>query</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>    user(id</span><span style=color:#eceff4>:</span><span style=color:#b48ead> 3</span><span>)</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>        id</span><span style=color:#eceff4>,</span></span>
<span class=giallo-l><span>        birthday</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>            month</span><span style=color:#eceff4>,</span></span>
<span class=giallo-l><span style=color:#eceff4>        },</span></span>
<span class=giallo-l><span style=color:#a3be8c>        smallPic</span><span style=color:#eceff4>:</span><span> profilePic(size</span><span style=color:#eceff4>:</span><span style=color:#b48ead> 64</span><span>)</span><span style=color:#eceff4>,</span></span>
<span class=giallo-l><span style=color:#a3be8c>        bigPic</span><span style=color:#eceff4>:</span><span> profilePic(size</span><span style=color:#eceff4>:</span><span style=color:#b48ead> 1024</span><span>)</span><span style=color:#eceff4>,</span></span>
<span class=giallo-l><span style=color:#eceff4>    }</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span></code></pre><p>ã®ã‚ˆã†ãªqueryãŒæ›¸ã‘ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã—ãŸã€‚<h4 id=fragment><a aria-label="Anchor link for: fragment" class=zola-anchor href=#fragment>Fragment</a></h4><p>GraphQLã ã¨userã‚’å–å¾—ã®ã‚ˆã†ãªã“ã¨ã¯ã§ããšå¿…ãšuserã®ã©ã®fieldã‚’å–å¾—ã™ã‚‹ã‹æ¯å›æŒ‡å®šã—ãªã„ã¨ã„ã‘ãªã„ã€‚ãã®ãŸã‚ã€SelectionSetã‚’å†åˆ©ç”¨ã—ãŸããªã‚Šã€ãã®ãŸã‚ã®ä»•çµ„ã¿ã¨ã„ã†ç†è§£ã§ã™ã€‚<blockquote><p>Fragments are the primary unit of composition in GraphQL.</blockquote><blockquote><p>Fragments allow for the reuse of common repeated selections of fields, reducing duplicated text in the document. Inline Fragments can be used directly within a selection to condition upon a type condition when querying against an interface or union.</blockquote><p>ä»•æ§˜ã«ã‚‚"reuse of common repeated selections of fields"ã¨ã‚ã‚Šã¾ã™ã­ã€‚<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=graphql><span class=giallo-l><span style=color:#81a1c1>query</span><span style=color:#88c0d0> withNestedFragments</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>  user(id</span><span style=color:#eceff4>:</span><span style=color:#b48ead> 4</span><span>)</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>    friends(first</span><span style=color:#eceff4>:</span><span style=color:#b48ead> 10</span><span>)</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span style=color:#81a1c1>      ...</span><span>friendFields</span></span>
<span class=giallo-l><span style=color:#eceff4>    }</span></span>
<span class=giallo-l><span>    mutualFriends(first</span><span style=color:#eceff4>:</span><span style=color:#b48ead> 10</span><span>)</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span style=color:#81a1c1>      ...</span><span>friendFields</span></span>
<span class=giallo-l><span style=color:#eceff4>    }</span></span>
<span class=giallo-l><span style=color:#eceff4>  }</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span>
<span class=giallo-l><span style=color:#81a1c1>fragment</span><span> friendFields</span><span style=color:#81a1c1> on</span><span style=color:#8fbcbb> User</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>  id</span></span>
<span class=giallo-l><span>  name</span></span>
<span class=giallo-l><span style=color:#81a1c1>  ...</span><span>standardProfilePic</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span>
<span class=giallo-l><span style=color:#81a1c1>fragment</span><span> standardProfilePic</span><span style=color:#81a1c1> on</span><span style=color:#8fbcbb> User</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>  profilePic(size</span><span style=color:#eceff4>:</span><span style=color:#b48ead> 50</span><span>)</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span></code></pre><p>fragmentã‹ã‚‰fragmentå‚ç…§ã§ãã‚‹ã®ã¯çŸ¥ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=graphql><span class=giallo-l><span style=color:#81a1c1>query</span><span style=color:#88c0d0> FragmentTyping</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>  profiles(handles</span><span style=color:#eceff4>:</span><span> [</span><span style=color:#eceff4>"</span><span style=color:#616e88>zuck"</span><span>,</span><span style=color:#eceff4> "</span><span style=color:#a3be8c>coca-cola</span><span style=color:#eceff4>"</span><span>])</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>    handle</span></span>
<span class=giallo-l><span style=color:#81a1c1>    ...</span><span>userFragment</span></span>
<span class=giallo-l><span style=color:#81a1c1>    ...</span><span>pageFragment</span></span>
<span class=giallo-l><span style=color:#eceff4>  }</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#81a1c1>fragment</span><span> userFragment</span><span style=color:#81a1c1> on</span><span style=color:#8fbcbb> User</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>  friends</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>    count</span></span>
<span class=giallo-l><span style=color:#eceff4>  }</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#81a1c1>fragment</span><span> pageFragment</span><span style=color:#81a1c1> on</span><span style=color:#8fbcbb> Page</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>  likers</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>    count</span></span>
<span class=giallo-l><span style=color:#eceff4>  }</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span></code></pre><p>fragmentã¯é©ç”¨å¯¾è±¡ã®å‹ã‚’æ˜ç¤ºã™ã‚‹å¿…è¦ãŒã‚ã‚Šã€ä¸Šè¨˜ã®ä¾‹ã§ã¯<code>profiles</code>ãŒ<code>User</code>ã‹<code>Page</code>ã‚’è¿”ã™ã®ã§<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=json><span class=giallo-l><span style=color:#eceff4>{</span></span>
<span class=giallo-l><span style=color:#eceff4>  "</span><span style=color:#8fbcbb>profiles</span><span style=color:#eceff4>": [</span></span>
<span class=giallo-l><span style=color:#eceff4>    {</span></span>
<span class=giallo-l><span style=color:#eceff4>      "</span><span style=color:#8fbcbb>handle</span><span style=color:#eceff4>": "</span><span style=color:#a3be8c>zuck</span><span style=color:#eceff4>",</span></span>
<span class=giallo-l><span style=color:#eceff4>      "</span><span style=color:#8fbcbb>friends</span><span style=color:#eceff4>": { "</span><span style=color:#8fbcbb>count</span><span style=color:#eceff4>":</span><span style=color:#b48ead> 1234</span><span style=color:#eceff4> }</span></span>
<span class=giallo-l><span style=color:#eceff4>    },</span></span>
<span class=giallo-l><span style=color:#eceff4>    {</span></span>
<span class=giallo-l><span style=color:#eceff4>      "</span><span style=color:#8fbcbb>handle</span><span style=color:#eceff4>": "</span><span style=color:#a3be8c>coca-cola</span><span style=color:#eceff4>",</span></span>
<span class=giallo-l><span style=color:#eceff4>      "</span><span style=color:#8fbcbb>likers</span><span style=color:#eceff4>": { "</span><span style=color:#8fbcbb>count</span><span style=color:#eceff4>":</span><span style=color:#b48ead> 90234512</span><span style=color:#eceff4> }</span></span>
<span class=giallo-l><span style=color:#eceff4>    }</span></span>
<span class=giallo-l><span style=color:#eceff4>  ]</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span></code></pre><p>ãã‚Œãã‚Œã®å‹ã«å¯¾å¿œã—ãŸfragmentãŒé©ç”¨ã•ã‚Œã¾ã™ã€‚<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=plain><span class=giallo-l><span>InlineFragment : ... TypeCondition? Directives? SelectionSet</span></span></code></pre><p>fragmentã¯inlineã§ã‚‚æ›¸ã‘ã¦ä¸Šè¨˜ã®ä¾‹ã‚’inlineã§æ›¸ãã¨ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=graphql><span class=giallo-l><span style=color:#81a1c1>query</span><span style=color:#88c0d0> inlineFragmentTyping</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>  profiles(handles</span><span style=color:#eceff4>:</span><span> [</span><span style=color:#eceff4>"</span><span style=color:#616e88>zuck"</span><span>,</span><span style=color:#eceff4> "</span><span style=color:#a3be8c>coca-cola</span><span style=color:#eceff4>"</span><span>])</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>    handle</span></span>
<span class=giallo-l><span style=color:#81a1c1>    ... on</span><span style=color:#8fbcbb> User</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>      friends</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>        count</span></span>
<span class=giallo-l><span style=color:#eceff4>      }</span></span>
<span class=giallo-l><span style=color:#eceff4>    }</span></span>
<span class=giallo-l><span style=color:#81a1c1>    ... on</span><span style=color:#8fbcbb> Page</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>      likers</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>        count</span></span>
<span class=giallo-l><span style=color:#eceff4>      }</span></span>
<span class=giallo-l><span style=color:#eceff4>    }</span></span>
<span class=giallo-l><span style=color:#eceff4>  }</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span></code></pre><p>ã¾ãŸfragmentã¯directiveã®é©ç”¨ç¯„å›²ã‚’æŒ‡å®šã™ã‚‹ã®ã«ã‚‚ä½¿ãˆã‚‹ã¨ã®ã“ã¨ã§ã™ã€‚<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=graphql><span class=giallo-l><span style=color:#81a1c1>query</span><span style=color:#88c0d0> inlineFragmentNoType</span><span>($expandedInfo</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> Boolean</span><span>)</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>  user(handle</span><span style=color:#eceff4>: "</span><span style=color:#a3be8c>zuck</span><span style=color:#eceff4>"</span><span>)</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>    id</span></span>
<span class=giallo-l><span>    name</span></span>
<span class=giallo-l><span style=color:#81a1c1>    ...</span><span style=color:#88c0d0> @include</span><span>(if</span><span style=color:#eceff4>:</span><span> $expandedInfo)</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>      firstName</span></span>
<span class=giallo-l><span>      lastName</span></span>
<span class=giallo-l><span>      birthday</span></span>
<span class=giallo-l><span style=color:#eceff4>    }</span></span>
<span class=giallo-l><span style=color:#eceff4>  }</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span></code></pre><h3 id=values><a aria-label="Anchor link for: values" class=zola-anchor href=#values>Values</a></h3><p>Int, Float, Boolean, String, Enum, List, Objectã«ã¤ã„ã¦ã¯å‰²æ„›ã€‚<h4 id=null-value><a aria-label="Anchor link for: null-value" class=zola-anchor href=#null-value>Null Value</a></h4><p>è¤‡æ•°ã®programmingè¨€èªã¾ãŸãã¨ãªã«ã‹ã¨å•é¡Œã«ãªã‚ŠãŒã¡ãªnullã«ã¤ã„ã¦ã€‚<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=plain><span class=giallo-l><span>NullValue : `null`</span></span></code></pre><blockquote><p>Null values are represented as the keyword null.</blockquote><blockquote><p>GraphQL has two semantically different ways to represent the lack of a value: Explicitly providing the literal value: null. Implicitly not providing a value at all.</blockquote><p>å€¤ãŒãªã„ã“ã¨ã‚’è¡¨ç¾ã™ã‚‹ã«ã¯2ç¨®é¡ã®æ–¹æ³•ãŒã‚ã‚‹ã€‚ä¸€ã¤ã¯æ˜ç¤ºçš„ã«<code>null</code>ã‚’æ¸¡ã™ã€‚ã‚‚ã†ä¸€ã¤ã¯valueã‚’æ¸¡ã•ãªã„ã€‚<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=graphql><span class=giallo-l><span style=color:#eceff4>{</span></span>
<span class=giallo-l><span>  field(arg</span><span style=color:#eceff4>:</span><span style=color:#81a1c1> null</span><span>)</span></span>
<span class=giallo-l><span>  field</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span></code></pre><p>ä¸Šè¨˜ã¯ç•°ãªã£ã¦è§£é‡ˆã•ã‚Œã‚‹å ´åˆãŒã‚ã‚‹ãã†ã§ã™ã€‚ä¾‹ãˆã°mutationã«ãŠã„ã¦ã€nullã‚’æ¸¡ã™ã¨å½“è©²fieldã‚’å‰Šé™¤ã—ã¦ã€ä½•ã‚‚æ¸¡ã•ãªã„å ´åˆã¯å¤‰æ›´ã—ãªã„ç­‰ã€‚<blockquote><p>The same two methods of representing the lack of a value are possible via variables by either providing the variable value as null or not providing a variable value at all.</blockquote><p>å¤‰æ•°ã«ã¤ã„ã¦ã‚‚nullã‚’æ¸¡ã™å ´åˆã¨variableã‚’ãã‚‚ãã‚‚æ¸¡ã•ãªã„å ´åˆã®2ç¨®é¡ãŒã‚ã‚Šãˆã‚‹ã¨ã„ã†ã“ã¨ã¿ãŸã„ã§ã™ã€‚<br> å€‹äººçš„ã«ã¯nullæ¸¡ã™ã®ã¨ãªã«ã‚‚æ¸¡ã•ãªã„ã§æŒ™å‹•ãŒå¤‰ã‚ã‚‹APIã¯é¿ã‘ãŸã„æ´¾ã§ã™ã€‚äºŒã¤ã®æŒ™å‹•ã‚ã‚‹ãªã‚‰ENUMã§å‹ã¨ã—ã¦è¡¨ç¾ã—ãŸã„ã§ã™ã€‚<br> (nullæ¸¡ã™ã®ã¨filedãŒãã‚‚ãã‚‚ãªã„ã®ã‚’åŒºåˆ¥ã™ã‚‹ã®jsã ã‘ã ã¨æ€ã†ã®ã§ãã‚Œã‚’APIã«ã¾ã§ä¼æ’­ã•ã›ãªã„ã§ã»ã—ã„ã¨æ€ã£ãŸã‚Š)<h3 id=variables><a aria-label="Anchor link for: variables" class=zola-anchor href=#variables>Variables</a></h3><p>operationã‹ã‚‰å‹•çš„ãªéƒ¨åˆ†ã‚’åˆ†é›¢ã™ã‚‹ãŸã‚ã«variableãŒä½¿ãˆã‚‹ã€‚<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=plain><span class=giallo-l><span>Variable : $ Name</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span>VariableDefinitions : ( VariableDefinition+ )</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span>VariableDefinition : Variable : Type DefaultValue? Directives[Const]?</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span>DefaultValue : = Value[Const]</span></span></code></pre><pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=graphql><span class=giallo-l><span style=color:#81a1c1>query</span><span style=color:#88c0d0> getZuckProfile</span><span>($devicePicSize</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> Int</span><span>)</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>  user(id</span><span style=color:#eceff4>:</span><span style=color:#b48ead> 4</span><span>)</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>    id</span></span>
<span class=giallo-l><span>    name</span></span>
<span class=giallo-l><span>    profilePic(size</span><span style=color:#eceff4>:</span><span> $devicePicSize)</span></span>
<span class=giallo-l><span style=color:#eceff4>  }</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span></code></pre><blockquote><p>A GraphQL operation can be parameterized with variables, maximizing reuse, and avoiding costly string building in clients at runtime.</blockquote><blockquote><p>Variables must be defined at the top of an operation and are in scope throughout the execution of that operation. Values for those variables are provided to a GraphQL service as part of a request so they may be substituted in during execution.</blockquote><p>ã“ã“ã§ã‚‚variableã¯requestã®ä¸€éƒ¨ã¨ã„ã†è¨€åŠã®ã¿ã§å…·ä½“çš„ã«ã©ã†æ¸¡ã™ã‹æ›¸ã„ã¦ã„ãªã„ã€‚<h4 id=directives><a aria-label="Anchor link for: directives" class=zola-anchor href=#directives>Directives</a></h4><p>GraphQLã®è¡¨ç¾åŠ›ã‚’å‘ä¸Šã•ã›ã‚‰ã‚Œã¦ã€é‹ç”¨ä¸Šå¤§äº‹ã«ãªã£ã¦ããã†ã ã‘ã©ã„ã¾ã„ã¡ç†è§£ã§ãã¦ã„ãªã„directiveã«ã¤ã„ã¦ã€‚<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=graphql><span class=giallo-l><span style=color:#88c0d0>Directives</span><span>[</span><span style=color:#88c0d0>Const</span><span>] :</span><span style=color:#88c0d0> Directive</span><span>[?</span><span style=color:#88c0d0>Const</span><span>]+</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#88c0d0>Directive</span><span>[</span><span style=color:#88c0d0>Const</span><span>] :</span><span style=color:#88c0d0> @ Name Arguments</span><span>[?</span><span style=color:#88c0d0>Const</span><span>]?</span></span></code></pre><blockquote><p>Directives provide a way to describe alternate runtime execution and type validation behavior in a GraphQL document.</blockquote><p>ã¨ã‚ã‚‹ã®ã§ã€runtimeã®æŒ™å‹•ã‚’å¤‰ãˆã‚‹ã®ã¨validationãŒç”¨é€”ã¿ãŸã„ã§ã™ã€‚<p>directiveã¯å®£è¨€ã™ã‚‹é †ç•ªã‚‚å½±éŸ¿ã™ã‚‹ã®ã§ä¸‹è¨˜ã®ä¾‹ã§ã¯different semantic meaningã‚’ã‚‚ã¤<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=graphql><span class=giallo-l><span style=color:#81a1c1>type</span><span style=color:#8fbcbb> Person</span></span>
<span class=giallo-l><span style=color:#88c0d0>  @addExternalFields</span><span>(source</span><span style=color:#eceff4>: "</span><span style=color:#a3be8c>profiles</span><span style=color:#eceff4>"</span><span>)</span></span>
<span class=giallo-l><span style=color:#88c0d0>  @excludeField</span><span>(name</span><span style=color:#eceff4>: "</span><span style=color:#a3be8c>photo</span><span style=color:#eceff4>"</span><span>)</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span style=color:#a3be8c>  name</span><span style=color:#eceff4>:</span><span> String</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span>
<span class=giallo-l><span style=color:#81a1c1>type</span><span style=color:#8fbcbb> Person</span></span>
<span class=giallo-l><span style=color:#88c0d0>  @excludeField</span><span>(name</span><span style=color:#eceff4>: "</span><span style=color:#a3be8c>photo</span><span style=color:#eceff4>"</span><span>)</span></span>
<span class=giallo-l><span style=color:#88c0d0>  @addExternalFields</span><span>(source</span><span style=color:#eceff4>: "</span><span style=color:#a3be8c>profiles</span><span style=color:#eceff4>"</span><span>)</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span style=color:#a3be8c>  name</span><span style=color:#eceff4>:</span><span> String</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span></code></pre><h2 id=3-type-system><a aria-label="Anchor link for: 3-type-system" class=zola-anchor href=#3-type-system>3 Type System</a></h2><p>GraphQLã®å‹ã«ã¤ã„ã¦ã€‚<blockquote><p>The GraphQL Type system describes the capabilities of a GraphQL service and is used to determine if a requested operation is valid, to guarantee the type of response results, and describes the input types of variables to determine if values provided at request time are valid.</blockquote><p>GraphQLã®å‹systemã¯<ul><li>GraphQL serverãŒã§ãã‚‹ã“ã¨ã‚’è¡¨ç¾<li>Requestã®operationã¨variableã®validationã«åˆ©ç”¨ã•ã‚Œã‚‹<li>Responseã®å‹ã‚’ä¿è¨¼</ul><h3 id=descriptions><a aria-label="Anchor link for: descriptions" class=zola-anchor href=#descriptions>Descriptions</a></h3><blockquote><p>Documentation is a first-class feature of GraphQL type systems.</blockquote><p>GraphiQLç­‰ã§APIè§¦ã£ã¦ã„ã¦ã‚‚documentãŒã™ãå‡ºã¦ãã‚‹ã®ã§åˆ¥ã§èª¿ã¹ã«è¡Œã‹ãªãã¦ã‚ˆãã¦ä¾¿åˆ©ã ãªã¨æ€ã£ã¦ã„ã¾ã—ãŸãŒã€ä»•æ§˜ä¸Šã‹ã‚‰first classã ã£ãŸã‚“ã§ã™ã­ã€‚<h3 id=schema><a aria-label="Anchor link for: schema" class=zola-anchor href=#schema>Schema</a></h3><blockquote><p>A GraphQL serviceâ€™s collective type system capabilities are referred to as that serviceâ€™s â€œschemaâ€. A schema is defined in terms of the types and directives it supports as well as the root operation types for each kind of operation: query, mutation, and subscription; this determines the place in the type system where those operations begin.</blockquote><p>GraphQL Serverã®æ©Ÿèƒ½ã¯schemaã¨ã—ã¦è¡¨ç¾ã•ã‚Œã‚‹ã€‚<br> top levelã«å„query, mutation, subscriptionã§ã§ãã‚‹ã“ã¨ãŒå®šç¾©ã•ã‚Œã‚‹ã€‚ ã¾ãŸã€å‹ã‚„directiveã¯schemaä¸Šã§uniqueã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=graphql><span class=giallo-l><span style=color:#81a1c1>schema</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>  query</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> MyQueryRootType</span></span>
<span class=giallo-l><span>  mutation</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> MyMutationRootType</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#81a1c1>type</span><span style=color:#8fbcbb> MyQueryRootType</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>  someField</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> String</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#81a1c1>type</span><span style=color:#8fbcbb> MyMutationRootType</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>  setSomeField(to</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> String</span><span>)</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> String</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span></code></pre><p>schemaã‚’ä¸Šè¨˜ã®ã‚ˆã†ã«å®šç¾©ã™ã‚‹ã¨<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=graphql><span class=giallo-l><span style=color:#81a1c1>query</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>    someField</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span></code></pre><pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=graphql><span class=giallo-l><span style=color:#81a1c1>mutation</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>    setSomeField(to</span><span style=color:#eceff4>: "</span><span style=color:#a3be8c>xxx</span><span style=color:#eceff4>"</span><span>)</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>        newField</span></span>
<span class=giallo-l><span style=color:#eceff4>    }</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span></code></pre><p>ã®ã‚ˆã†ã«operationã‚’æ›¸ã‘ã‚‹ã€‚<br> ã¾ãŸã€mutationã¨subscriptionã®root typeã¯optionalã§ã‚ã‚Šã€<code>Query</code>å‹ã‚’å®šç¾©ã™ã‚‹ã¨queryã®root typeã¨ãªã‚‹ã®ã§ã€ä»¥ä¸‹ã®schemaå®šç¾©ã¯æœ‰åŠ¹ã€‚<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=graphql><span class=giallo-l><span style=color:#81a1c1>type</span><span style=color:#8fbcbb> Query</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>    someField</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> String</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span></code></pre><h3 id=types><a aria-label="Anchor link for: types" class=zola-anchor href=#types>Types</a></h3><pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=plain><span class=giallo-l><span>TypeDefinition :</span></span>
<span class=giallo-l><span>  - ScalarTypeDefinition</span></span>
<span class=giallo-l><span>  - ObjectTypeDefinition</span></span>
<span class=giallo-l><span>  - InterfaceTypeDefinition</span></span>
<span class=giallo-l><span>  - UnionTypeDefinition</span></span>
<span class=giallo-l><span>  - EnumTypeDefinition</span></span>
<span class=giallo-l><span>  - InputObjectTypeDefinition</span></span></code></pre><blockquote><p>The fundamental unit of any GraphQL Schema is the type. There are six kinds of named type definitions in GraphQL, and two wrapping types.</blockquote><p>6ã¤ã®named typeã¨2ã¤ã®wrapping typesãŒã‚ã‚‹ã€‚(wrapping typesã¯Listã¨NonNull)<br> Scalarã¨Objectã¯ãã®ã¾ã¾ã®æ„å‘³ã€‚<blockquote><p>GraphQL supports two abstract types: interfaces and unions.</blockquote><p>abstract typeã¨ã—ã¦interfaceã¨unionãŒã‚ã‚‹ã€‚<blockquote><p>An Interface defines a list of fields; Object types and other Interface types which implement this Interface are guaranteed to implement those fields. Whenever a field claims it will return an Interface type, it will return a valid implementing Object type during execution.</blockquote><p>Interfaceã¯fieldã®listã§ã€schemaä¸Šinterfaceã‚’è¿”ã™ã¨å®£è¨€ã•ã‚Œã¦ã„ã‚‹å ´åˆã€å®Ÿéš›ã«ã¯objectå‹ãŒè¿”ã£ã¦ãã‚‹ã€‚<blockquote><p>A Union defines a list of possible types; similar to interfaces, whenever the type system claims a union will be returned, one of the possible types will be returned.</blockquote><p>Interfaceã¨åŒæ§˜ã«schemaä¸Šã§unionãŒè¿”ã•ã‚Œã‚‹ã¨å®£è¨€ã•ã‚Œã¦ã„ã‚‹å ´åˆã€å®Ÿéš›ã«ã¯ãã®ã†ã¡ã®ã©ã‚Œã‹ãŒè¿”ã£ã¦ãã‚‹ã€‚<blockquote><p>Finally, oftentimes it is useful to provide complex structs as inputs to GraphQL field arguments or variables; the Input Object type allows the schema to define exactly what data is expected.</blockquote><p>CreateXxxInputå‹å®šç¾©ã—ãŒã¡ã§ã™ãŒã€Inputå‹ã¨ã—ã¦first classãªã®ãŒä»–ã®å‹systemã¨é•ã£ã¦ç‰¹å¾´ã§ãã ãªã¨æ€ã£ãŸã‚Šã—ã¾ã—ãŸã€‚<h4 id=wrapping-types><a aria-label="Anchor link for: wrapping-types" class=zola-anchor href=#wrapping-types>Wrapping Types</a></h4><p>ä¸Šè¨˜ã®å‹ã¯ã™ã¹ã¦nullableã‹ã¤singularã€‚<br> <code>Non-Null</code>å‹ã¨<code>List</code>ãŒç”¨æ„ã•ã‚Œã¦ãŠã‚Šwrapping typesã¨ã—ã¦ä»–ã®named typesã¨åŒºåˆ¥ã•ã‚Œã‚‹ã€‚<h4 id=input-and-output-types><a aria-label="Anchor link for: input-and-output-types" class=zola-anchor href=#input-and-output-types>Input and Output Types</a></h4><p>GraphQL serverã¸ã®å…¥åŠ›ã«ä½¿ã‚ã‚Œã‚‹ã‹responseã®å‹å®šç¾©ã«ä½¿ã‚ã‚Œã‚‹ã‹ã§input typeã¨output typeãŒåŒºåˆ¥ã§ãã‚‹ã€‚<blockquote><p>Types are used throughout GraphQL to describe both the values accepted as input to arguments and variables as well as the values output by fields. These two uses categorize types as input types and output types. Some kinds of types, like Scalar and Enum types, can be used as both input types and output types; other kinds of types can only be used in one or the other. Input Object types can only be used as input types. Object, Interface, and Union types can only be used as output types. Lists and Non-Null types may be used as input types or output types depending on how the wrapped type may be used.</blockquote><ul><li>Scalar,Enum: input/outputä¸¡æ–¹ä½¿ç”¨åŒ–<li>InputObject: inputã®ã¿<li>Object,Interface,Union: outputã®ã¿</ul><p>åˆ¤å®šæ–¹æ³•ã¯ä»¥ä¸‹<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=plain><span class=giallo-l><span>IsInputType(type) :</span></span>
<span class=giallo-l><span>  * If {type} is a List type or Non-Null type:</span></span>
<span class=giallo-l><span>    * Let {unwrappedType} be the unwrapped type of {type}.</span></span>
<span class=giallo-l><span>    * Return IsInputType({unwrappedType})</span></span>
<span class=giallo-l><span>  * If {type} is a Scalar, Enum, or Input Object type:</span></span>
<span class=giallo-l><span>    * Return {true}</span></span>
<span class=giallo-l><span>  * Return {false}</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span>IsOutputType(type) :</span></span>
<span class=giallo-l><span>  * If {type} is a List type or Non-Null type:</span></span>
<span class=giallo-l><span>    * Let {unwrappedType} be the unwrapped type of {type}.</span></span>
<span class=giallo-l><span>    * Return IsOutputType({unwrappedType})</span></span>
<span class=giallo-l><span>  * If {type} is a Scalar, Object, Interface, Union, or Enum type:</span></span>
<span class=giallo-l><span>    * Return {true}</span></span>
<span class=giallo-l><span>  * Return {false}</span></span></code></pre><h3 id=scalars><a aria-label="Anchor link for: scalars" class=zola-anchor href=#scalars>Scalars</a></h3><blockquote><p>Scalar types represent primitive leaf values in a GraphQL type system. GraphQL responses take the form of a hierarchical tree; the leaves of this tree are typically GraphQL Scalar types (but may also be Enum types or null values).</blockquote><p>SectionSetã§æœ€çµ‚çš„ã«å–å¾—ã™ã‚‹ã®ã¯scalarã€‚<br> Built-inã¨ã—ã¦ã€Int,Float, String, Boolean, IDãŒã‚ã‚‹ã€‚<h4 id=custom-scalars><a aria-label="Anchor link for: custom-scalars" class=zola-anchor href=#custom-scalars>Custom Scalars</a></h4><p>Built-in scalarsã«åŠ ãˆã¦custom scalarsã‚’ä½¿ã†ã“ã¨ãŒã§ãã‚‹ã€‚<br> ä¾‹ãˆã°<code>UUID</code>ã‚„<code>URL</code>ã‚’ä½¿ã†å ´åˆãŒè€ƒãˆã‚‰ã‚Œã‚‹ã€‚<blockquote><p>When defining a custom scalar, GraphQL services should provide a scalar specification URL via the @specifiedBy directive or the specifiedByURL introspection field. This URL must link to a human-readable specification of the data format, serialization, and coercion rules for the scalar.</blockquote><p>Custom scalarsã‚’å®šç¾©ã™ã‚‹å ´åˆã¯<code>@specifiedBy</code>directiveã§ä»•æ§˜ã®URLã‚’æ˜ç¤ºã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚(é€†ã«Builtinã®ä»•æ§˜ã¯æœ¬ä»•æ§˜ã«å®šã‚ã‚‰ã‚Œã¦ã„ã‚‹ã®ã§ä»˜ä¸ã—ã¦ã¯ã„ã‘ãªã„)<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=graphql><span class=giallo-l><span style=color:#81a1c1>scalar</span><span> UUID</span><span style=color:#88c0d0> @specifiedBy</span><span>(url</span><span style=color:#eceff4>: "</span><span style=color:#a3be8c>https://tools.ietf.org/html/rfc4122</span><span style=color:#eceff4>"</span><span>)</span></span>
<span class=giallo-l><span style=color:#81a1c1>scalar</span><span> URL</span><span style=color:#88c0d0> @specifiedBy</span><span>(url</span><span style=color:#eceff4>: "</span><span style=color:#a3be8c>https://tools.ietf.org/html/rfc3986</span><span style=color:#eceff4>"</span><span>)</span></span></code></pre><blockquote><p>A GraphQL service, when preparing a field of a given scalar type, must uphold the contract the scalar type describes, either by coercing the value or producing a field error if a value cannot be coerced or if coercion may result in data loss.</blockquote><p>ã¾ãŸã€Scalarã®å‹ã«å¿œã˜ã¦coercionã‚’ã™ã‚‹ã“ã¨ãŒè¨±ã•ã‚Œã‚‹ã‚ˆã†ã§ã™ã€‚<br> ã‚‚ã£ã¨ã‚‚å…·ä½“çš„ã«ã©ã®ã‚ˆã†ã«coercionã•ã‚Œã‚‹ã‹ã¯å®Ÿè£…ä¾å­˜ã§ä»•æ§˜ã§ã¯å®šç¾©ã•ã‚Œã¦ã„ãªã„ã¨æ€ã‚ã‚Œã¾ã™ãŒBuilt-in scalarsã«ã¤ã„ã¦ã¯Result Coercion, Input Coercionãã‚Œãã‚Œä»•æ§˜ã§å®šã‚ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚<blockquote><p>Since this coercion behavior is not observable to clients of the GraphQL service, the precise rules of coercion are left to the implementation</blockquote><h3 id=interfaces><a aria-label="Anchor link for: interfaces" class=zola-anchor href=#interfaces>Interfaces</a></h3><blockquote><p>GraphQL interfaces represent a list of named fields and their arguments. GraphQL objects and interfaces can then implement these interfaces which requires that the implementing type will define all fields defined by those interfaces.</blockquote><pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=graphql><span class=giallo-l><span style=color:#81a1c1>interface</span><span style=color:#8fbcbb> NamedEntity</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>  name</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> String</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#81a1c1>interface</span><span style=color:#8fbcbb> ValuedEntity</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>  value</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> Int</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#81a1c1>type</span><span style=color:#8fbcbb> Person</span><span style=color:#81a1c1> implements</span><span style=color:#8fbcbb> NamedEntity</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>  name</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> String</span></span>
<span class=giallo-l><span>  age</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> Int</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#81a1c1>type</span><span style=color:#8fbcbb> Business</span><span style=color:#81a1c1> implements</span><span style=color:#8fbcbb> NamedEntity</span><span style=color:#81a1c1> &</span><span style=color:#8fbcbb> ValuedEntity</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>  name</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> String</span></span>
<span class=giallo-l><span>  value</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> Int</span></span>
<span class=giallo-l><span>  employeeCount</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> Int</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#81a1c1>type</span><span style=color:#8fbcbb> Contact</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>    entity</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> NamedEntity</span></span>
<span class=giallo-l><span>    phoneNumber</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> String</span></span>
<span class=giallo-l><span>    address</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> String</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span></code></pre><p>è‡ªåˆ†ã¯å°‚ã‚‰Rustã®codeã‹ã‚‰graphqlã®schemaã‚’ç”Ÿæˆã™ã‚‹ã®ãŒãƒ¡ã‚¤ãƒ³ã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ãªã®ã§ã™ãŒã€graphqlçš„ãªè¦³ç‚¹ã‹ã‚‰ç¶ºéº—ãªinterfaceå®šç¾©ã§ãã‚‹ã‹èª²é¡Œã§ã™ã€‚<br> ä¾‹ãˆã°<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=rust><span class=giallo-l><span style=color:#81a1c1>struct</span><span style=color:#8fbcbb> Contact</span><span style=color:#eceff4>&lt;</span><span style=color:#8fbcbb>E</span><span style=color:#eceff4>> {</span></span>
<span class=giallo-l><span>    entity</span><span style=color:#81a1c1>:</span><span style=color:#8fbcbb> E</span><span style=color:#eceff4>,</span></span>
<span class=giallo-l><span>    phoneNumber</span><span style=color:#81a1c1>:</span><span style=color:#8fbcbb> String</span><span style=color:#eceff4>,</span></span>
<span class=giallo-l><span>    address</span><span style=color:#81a1c1>:</span><span style=color:#8fbcbb> String</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#81a1c1>impl</span><span style=color:#eceff4>&lt;</span><span style=color:#8fbcbb>E</span><span style=color:#eceff4>></span><span style=color:#8fbcbb> Contact</span><span style=color:#eceff4>&lt;</span><span style=color:#8fbcbb>E</span><span style=color:#eceff4>></span></span>
<span class=giallo-l><span style=color:#81a1c1>where</span><span style=color:#8fbcbb>  E</span><span style=color:#81a1c1>:</span><span style=color:#8fbcbb> NamedEntity</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span style=color:#81a1c1>    fn</span><span style=color:#88c0d0> xxx</span><span style=color:#eceff4>() {}</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span></code></pre><p>ã®ã‚ˆã†ã«structå®šç¾©ã«ã¯trait boundè¨­ã‘ãªã„ã§, implã§trait boundè¨­å®šã™ã‚‹ã®ãŒã‚ˆã—ã¨ã•ã‚Œã¦ã„ã‚‹ã®ã§ã“ã“ã‹ã‚‰graphqlã®å‹ã‚’ç”Ÿæˆã—ãŸã¨ãã«ä¸Šè¨˜ã®ã‚ˆã†ã«ãªã‚‰ãªã„ãªã¨ã„ã†èª²é¡Œæ„Ÿã§ã™ã€‚(code firstãŒå‰æã®è©±)<h3 id=unions><a aria-label="Anchor link for: unions" class=zola-anchor href=#unions>Unions</a></h3><blockquote><p>GraphQL Unions represent an object that could be one of a list of GraphQL Object types, but provides for no guaranteed fields between those types. They also differ from interfaces in that Object types declare what interfaces they implement, but are not aware of what unions contain them.</blockquote><p>responseã®objectãŒã©ã‚Œã‹ã«ãªã‚‹ã“ã¨ã‚’è¡¨ã™ã€‚unionã®typeé–“ã§å…±é€šã™ã‚‹fieldãŒã‚ã‚‹ã“ã¨ã¯ä¿è¨¼ã•ã‚Œãªã„ã€‚ã¾ãŸobjectã¯interfaceã‚’æ˜ç¤ºçš„ã«implã™ã‚‹ãŒã©ã®unionã«å«ã¾ã‚Œã‚‹ã‹ã«ã¯é–¢ä¸ã—ãªã„ã€‚<blockquote><p>With interfaces and objects, only those fields defined on the type can be queried directly; to query other fields on an interface, typed fragments must be used. This is the same as for unions, but unions do not define any fields, so no fields may be queried on this type without the use of type refining fragments or inline fragments (with the exception of the meta-field __typename).</blockquote><p>Unionã§ã¯fieldã«é–¢ã™ã‚‹ä¿è¨¼ãŒãªã„ã®ã§queryã™ã‚‹éš›ã¯å‹ã‚’æ˜ç¤ºã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=graphql><span class=giallo-l><span style=color:#81a1c1>union</span><span style=color:#8fbcbb> SearchResult</span><span style=color:#eceff4> =</span><span style=color:#8fbcbb> Photo</span><span style=color:#eceff4> |</span><span style=color:#8fbcbb> Person</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#81a1c1>type</span><span style=color:#8fbcbb> Person</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>  name</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> String</span></span>
<span class=giallo-l><span>  age</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> Int</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#81a1c1>type</span><span style=color:#8fbcbb> Photo</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>  height</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> Int</span></span>
<span class=giallo-l><span>  width</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> Int</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#81a1c1>type</span><span style=color:#8fbcbb> SearchQuery</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>  firstSearchResult</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> SearchResult</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span></code></pre><pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=graphql><span class=giallo-l><span style=color:#eceff4>{</span></span>
<span class=giallo-l><span>  firstSearchResult</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span style=color:#81a1c1>    ... on</span><span style=color:#8fbcbb> Person</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>      name</span></span>
<span class=giallo-l><span style=color:#eceff4>    }</span></span>
<span class=giallo-l><span style=color:#81a1c1>    ... on</span><span style=color:#8fbcbb> Photo</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>      height</span></span>
<span class=giallo-l><span style=color:#eceff4>    }</span></span>
<span class=giallo-l><span style=color:#eceff4>  }</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span></code></pre><h3 id=non-null><a aria-label="Anchor link for: non-null" class=zola-anchor href=#non-null>Non-Null</a></h3><blockquote><p>By default, all types in GraphQL are nullable; the null value is a valid response for all of the above types. To declare a type that disallows null, the GraphQL Non-Null type can be used. This type wraps an underlying type, and this type acts identically to that wrapped type, with the exception that null is not a valid response for the wrapping type. A trailing exclamation mark is used to denote a field that uses a Non-Null type like this: name: String!.</blockquote><p>åŸå‰‡ã¨ã—ã¦ã€GraphQLã®å‹ã¯nullableã€‚nullã‚’è¨±å®¹ã—ãªã„å ´åˆã¯ã€æœ«å°¾ã«<code>!</code>ã‚’ã¤ã‘ã‚‹ã€‚<br> Listã¨çµ„ã¿åˆã‚ã›ã‚‹ã¨ä¸‹è¨˜ã®å®£è¨€ãŒå¯èƒ½ã€‚<ul><li><code>[Int]</code><li><code>[Int]!</code><li><code>[Int!]</code><li><code>[Int!]!</code></ul><h3 id=directives-1><a aria-label="Anchor link for: directives-1" class=zola-anchor href=#directives-1>Directives</a></h3><blockquote><p>A GraphQL schema describes directives which are used to annotate various parts of a GraphQL document as an indicator that they should be evaluated differently by a validator, executor, or client tool such as a code generator.</blockquote><p>directiveã¨ã¯ãªã‚“ãªã®ã‹ã¨ã„ã†ã¨ã€ä»•æ§˜çš„ã«ã¯validatorãŒexecutorã‹client toolã«ç•°ãªã‚‹è§£é‡ˆã‚’æŒ‡ç¤ºã™ã‚‹indicatorã¨ã„ã†å®šç¾©ãªã‚“ã§ã™ã­ã€‚<h4 id=built-in-directives><a aria-label="Anchor link for: built-in-directives" class=zola-anchor href=#built-in-directives>Built-in Directives</a></h4><ul><li><code>@skip</code><li><code>@include</code><li><code>@deprecated</code><li><code>@specifiedBy</code></ul><p>ä¸Šè¨˜ãŒbuilt-inã®directiveã€‚ãã‚Œä»¥å¤–ã¯custom directivesã€‚<h5 id=skip><a aria-label="Anchor link for: skip" class=zola-anchor href=#skip><code>@skip</code></a></h5><pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=graphql><span class=giallo-l><span style=color:#81a1c1>directive</span><span style=color:#88c0d0> @skip</span><span>(if</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> Boolean</span><span style=color:#81a1c1>!</span><span>)</span><span style=color:#81a1c1> on</span><span style=color:#8fbcbb> FIELD</span><span> | </span><span style=color:#8fbcbb>FRAGMENT_SPREAD</span><span> | </span><span style=color:#8fbcbb>INLINE_FRAGMENT</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#81a1c1>query</span><span style=color:#88c0d0> myQuery</span><span>($someTest</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> Boolean</span><span style=color:#81a1c1>!</span><span>)</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>    experimentalField</span><span style=color:#88c0d0> @skip</span><span>(if</span><span style=color:#eceff4>:</span><span> $someTest)</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span></code></pre><p>å¼•æ•°ã®<code>if</code>ã§çµæœã«å½“è©²filedã‚’å«ã‚ã‚‹ã‹åˆ¶å¾¡ã§ãã‚‹ã€‚<h5 id=include><a aria-label="Anchor link for: include" class=zola-anchor href=#include><code>@include</code></a></h5><pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=graphql><span class=giallo-l><span style=color:#81a1c1>directive</span><span style=color:#88c0d0> @include</span><span>(if</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> Boolean</span><span style=color:#81a1c1>!</span><span>)</span><span style=color:#81a1c1> on</span><span style=color:#8fbcbb> FIELD</span><span> | </span><span style=color:#8fbcbb>FRAGMENT_SPREAD</span><span> | </span><span style=color:#8fbcbb>INLINE_FRAGMENT</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#81a1c1>query</span><span style=color:#88c0d0> myQuery</span><span>($someTest</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> Boolean</span><span style=color:#81a1c1>!</span><span>)</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>    experimentalField</span><span style=color:#88c0d0> @include</span><span>(if</span><span style=color:#eceff4>:</span><span> $someTest)</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span></code></pre><p><code>@skip</code>ã®é€†ã®æŒ™å‹•ã€‚<code>@skip</code>ã¨<code>@include</code>ãŒä¸¡æ–¹æŒ‡å®šã•ã‚ŒãŸå ´åˆã«ã¤ã„ã¦ã‚‚è¦å®šã•ã‚Œã¦ã„ã‚‹ãŒãã‚“ãªApiã«ã¯ãªã‚‰ãªã„ã»ã†ãŒã„ã„ã¨æ€ã†ã€‚<h5 id=deprecated><a aria-label="Anchor link for: deprecated" class=zola-anchor href=#deprecated><code>@deprecated</code></a></h5><pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=graphql><span class=giallo-l><span style=color:#81a1c1>directive</span><span style=color:#88c0d0> @deprecated</span><span>(</span></span>
<span class=giallo-l><span>  reason</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> String</span><span style=color:#eceff4> = "</span><span style=color:#a3be8c>No longer supported</span><span style=color:#eceff4>"</span></span>
<span class=giallo-l><span>)</span><span style=color:#81a1c1> on</span><span style=color:#8fbcbb> FIELD_DEFINITION</span><span> | </span><span style=color:#8fbcbb>ENUM_VALUE</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#81a1c1>type</span><span style=color:#8fbcbb> ExampleType</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>    newField</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> String</span></span>
<span class=giallo-l><span>    oldField</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> String</span><span style=color:#88c0d0> @deprecated</span><span>(reason</span><span style=color:#eceff4>: "</span><span style=color:#a3be8c>Use `newField`.</span><span style=color:#eceff4>"</span><span>)</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span></code></pre><p>schemaã®å¤‰æ›´ãŒåˆã‚ã‹ã‚‰è€ƒæ…®ã•ã‚Œã¦ã„ã¦ç¾ä»£çš„ã ãªã¨æ€ã„ã¾ã—ãŸã€‚<h5 id=specifiedby><a aria-label="Anchor link for: specifiedby" class=zola-anchor href=#specifiedby><code>@specifiedBy</code></a></h5><pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=graphql><span class=giallo-l><span style=color:#81a1c1>directive</span><span style=color:#88c0d0> @specifiedBy</span><span>(url</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> String</span><span style=color:#81a1c1>!</span><span>)</span><span style=color:#81a1c1> on</span><span style=color:#8fbcbb> SCALAR</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#81a1c1>scalar</span><span> UUID</span><span style=color:#88c0d0> @specifiedBy</span><span>(url</span><span style=color:#eceff4>: "</span><span style=color:#a3be8c>https://tools.ietf.org/html/rfc4122</span><span style=color:#eceff4>"</span><span>)</span></span></code></pre><p>custom scalarã®ä»•æ§˜ã‚’æ˜ç¤ºã™ã‚‹directiveã€‚ä»•æ§˜ä¸Šshouldã§ã—ãŸã€‚<h4 id=custom-directives><a aria-label="Anchor link for: custom-directives" class=zola-anchor href=#custom-directives>Custom Directives</a></h4><blockquote><p>When defining a custom directive, it is recommended to prefix the directiveâ€™s name to make its scope of usage clear and to prevent a collision with built-in directive which may be specified by future versions of this document (which will not include _ in their name).</blockquote><p>custom directivesã‚’å®šç¾©ã™ã‚‹éš›ã¯ã€å°†æ¥çš„ãªcollisionã‚’é˜²æ­¢ã™ã‚‹è¦³ç‚¹ã‹ã‚‰prefixã¤ã‘ã‚‹ã“ã¨ãŒæ¨å¥¨ã•ã‚Œã¦ã„ã¾ã™ã€‚<p>directiveã®æ›¸ãæ–¹ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«å®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=plain><span class=giallo-l><span>DirectiveDefinition : Description? directive @ Name ArgumentsDefinition? `repeatable`? on DirectiveLocations</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span>DirectiveLocations :</span></span>
<span class=giallo-l><span>  - DirectiveLocations | DirectiveLocation</span></span>
<span class=giallo-l><span>  - `|`? DirectiveLocation</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span>DirectiveLocation :</span></span>
<span class=giallo-l><span>  - ExecutableDirectiveLocation</span></span>
<span class=giallo-l><span>  - TypeSystemDirectiveLocation</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span>ExecutableDirectiveLocation : one of</span></span>
<span class=giallo-l><span>  - `QUERY`</span></span>
<span class=giallo-l><span>  - `MUTATION`</span></span>
<span class=giallo-l><span>  - `SUBSCRIPTION`</span></span>
<span class=giallo-l><span>  - `FIELD`</span></span>
<span class=giallo-l><span>  - `FRAGMENT_DEFINITION`</span></span>
<span class=giallo-l><span>  - `FRAGMENT_SPREAD`</span></span>
<span class=giallo-l><span>  - `INLINE_FRAGMENT`</span></span>
<span class=giallo-l><span>  - `VARIABLE_DEFINITION`</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span>TypeSystemDirectiveLocation : one of</span></span>
<span class=giallo-l><span>  - `SCHEMA`</span></span>
<span class=giallo-l><span>  - `SCALAR`</span></span>
<span class=giallo-l><span>  - `OBJECT`</span></span>
<span class=giallo-l><span>  - `FIELD_DEFINITION`</span></span>
<span class=giallo-l><span>  - `ARGUMENT_DEFINITION`</span></span>
<span class=giallo-l><span>  - `INTERFACE`</span></span>
<span class=giallo-l><span>  - `UNION`</span></span>
<span class=giallo-l><span>  - `ENUM`</span></span>
<span class=giallo-l><span>  - `ENUM_VALUE`</span></span>
<span class=giallo-l><span>  - `INPUT_OBJECT`</span></span>
<span class=giallo-l><span>  - `INPUT_FIELD_DEFINITION`</span></span></code></pre><p><code>directive @ my_directive on</code>QUERY`ã®ã‚ˆã†ã«onã§é©ç”¨ã‚¹ã‚³ãƒ¼ãƒ—ã‚’æ˜ç¤ºã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‚ˆã†ã§ã™ã€‚<p>å…·ä½“ä¾‹ã€‚<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=graphql><span class=giallo-l><span style=color:#81a1c1>directive</span><span style=color:#88c0d0> @example</span><span style=color:#81a1c1> on</span><span style=color:#8fbcbb> FIELD_DEFINITION</span><span> | </span><span style=color:#8fbcbb>ARGUMENT_DEFINITION</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#81a1c1>type</span><span style=color:#8fbcbb> SomeType</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>  field(arg</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> Int</span><span style=color:#88c0d0> @example</span><span>)</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> String</span><span style=color:#88c0d0> @example</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span></code></pre><pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=graphql><span class=giallo-l><span style=color:#81a1c1>directive</span><span style=color:#88c0d0> @delegateField</span><span>(name</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> String</span><span style=color:#81a1c1>!</span><span>)</span><span style=color:#88c0d0> repeatable on OBJECT</span><span> |</span><span style=color:#88c0d0> INTERFACE</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#81a1c1>type</span><span style=color:#8fbcbb> Book</span><span style=color:#88c0d0> @delegateField</span><span>(name</span><span style=color:#eceff4>: "</span><span style=color:#a3be8c>pageCount</span><span style=color:#eceff4>"</span><span>)</span><span style=color:#88c0d0> @delegateField</span><span>(name</span><span style=color:#eceff4>: "</span><span style=color:#a3be8c>author</span><span style=color:#eceff4>"</span><span>)</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>  id</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> ID</span><span style=color:#81a1c1>!</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#81a1c1>extend type</span><span style=color:#8fbcbb> Book</span><span style=color:#88c0d0> @delegateField</span><span>(name</span><span style=color:#eceff4>: "</span><span style=color:#a3be8c>index</span><span style=color:#eceff4>"</span><span>)</span></span></code></pre><h2 id=4-introspection><a aria-label="Anchor link for: 4-introspection" class=zola-anchor href=#4-introspection>4 Introspection</a></h2><p>GraphQL serverã®schemaã¯GraphQLã‚’ä½¿ã£ã¦èª¿ã¹ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚<br> Ecosystemã‚’å¿µé ­ã«metaæƒ…å ±ã®å…¬é–‹æ–¹æ³•ã¾ã§ä»•æ§˜ã§æ±ºã‚ã¦ã„ã‚‹ã®ã¯ã†ã‚Œã—ã„ã§ã™ã­ã€‚<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=graphql><span class=giallo-l><span style=color:#81a1c1>type</span><span style=color:#8fbcbb> User</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>  id</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> String</span></span>
<span class=giallo-l><span>  name</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> String</span></span>
<span class=giallo-l><span>  birthday</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> Date</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span></code></pre><p>ã“ã®ã‚ˆã†ãªå‹å®šç¾©ã‚’ã‚‚ã¤GraphQL serverã«å¯¾ã—ã¦<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=graphql><span class=giallo-l><span style=color:#eceff4>{</span></span>
<span class=giallo-l><span>  __type(name</span><span style=color:#eceff4>: "</span><span style=color:#a3be8c>User</span><span style=color:#eceff4>"</span><span>)</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>    name</span></span>
<span class=giallo-l><span>    fields</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>      name</span></span>
<span class=giallo-l><span>      type</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>        name</span></span>
<span class=giallo-l><span style=color:#eceff4>      }</span></span>
<span class=giallo-l><span style=color:#eceff4>    }</span></span>
<span class=giallo-l><span style=color:#eceff4>  }</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span></code></pre><p>ã“ã®requestã«å¯¾ã—ã¦ä»¥ä¸‹ã®ã‚ˆã†ãªresponseãŒå¾—ã‚‰ã‚Œã‚‹<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=json><span class=giallo-l><span style=color:#eceff4>{</span></span>
<span class=giallo-l><span style=color:#eceff4>  "</span><span style=color:#8fbcbb>__type</span><span style=color:#eceff4>": {</span></span>
<span class=giallo-l><span style=color:#eceff4>    "</span><span style=color:#8fbcbb>name</span><span style=color:#eceff4>": "</span><span style=color:#a3be8c>User</span><span style=color:#eceff4>",</span></span>
<span class=giallo-l><span style=color:#eceff4>    "</span><span style=color:#8fbcbb>fields</span><span style=color:#eceff4>": [</span></span>
<span class=giallo-l><span style=color:#eceff4>      {</span></span>
<span class=giallo-l><span style=color:#eceff4>        "</span><span style=color:#8fbcbb>name</span><span style=color:#eceff4>": "</span><span style=color:#a3be8c>id</span><span style=color:#eceff4>",</span></span>
<span class=giallo-l><span style=color:#eceff4>        "</span><span style=color:#8fbcbb>type</span><span style=color:#eceff4>": { "</span><span style=color:#8fbcbb>name</span><span style=color:#eceff4>": "</span><span style=color:#a3be8c>String</span><span style=color:#eceff4>" }</span></span>
<span class=giallo-l><span style=color:#eceff4>      },</span></span>
<span class=giallo-l><span style=color:#eceff4>      {</span></span>
<span class=giallo-l><span style=color:#eceff4>        "</span><span style=color:#8fbcbb>name</span><span style=color:#eceff4>": "</span><span style=color:#a3be8c>name</span><span style=color:#eceff4>",</span></span>
<span class=giallo-l><span style=color:#eceff4>        "</span><span style=color:#8fbcbb>type</span><span style=color:#eceff4>": { "</span><span style=color:#8fbcbb>name</span><span style=color:#eceff4>": "</span><span style=color:#a3be8c>String</span><span style=color:#eceff4>" }</span></span>
<span class=giallo-l><span style=color:#eceff4>      },</span></span>
<span class=giallo-l><span style=color:#eceff4>      {</span></span>
<span class=giallo-l><span style=color:#eceff4>        "</span><span style=color:#8fbcbb>name</span><span style=color:#eceff4>": "</span><span style=color:#a3be8c>birthday</span><span style=color:#eceff4>",</span></span>
<span class=giallo-l><span style=color:#eceff4>        "</span><span style=color:#8fbcbb>type</span><span style=color:#eceff4>": { "</span><span style=color:#8fbcbb>name</span><span style=color:#eceff4>": "</span><span style=color:#a3be8c>Date</span><span style=color:#eceff4>" }</span></span>
<span class=giallo-l><span style=color:#eceff4>      }</span></span>
<span class=giallo-l><span style=color:#eceff4>    ]</span></span>
<span class=giallo-l><span style=color:#eceff4>  }</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span></code></pre><p>introspection systemã§åˆ©ç”¨ã™ã‚‹typeã‚„fieldã¯<code>__</code>ã‹ã‚‰å§‹ã¾ã‚‹ã€‚<br> introspection systemã§åˆ©ç”¨ã§ãã‚‹schemaè‡ªèº«ã‚‚GraphQL schemaã§ä»¥ä¸‹ã®ã‚ˆã†ã«å®šç¾©ã•ã‚Œã¦ã„ã‚‹ã€‚<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=graphql><span class=giallo-l><span style=color:#81a1c1>type</span><span style=color:#8fbcbb> __Schema</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>  description</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> String</span></span>
<span class=giallo-l><span>  types</span><span style=color:#eceff4>:</span><span> [</span><span style=color:#8fbcbb>__Type</span><span style=color:#81a1c1>!</span><span>]</span><span style=color:#81a1c1>!</span></span>
<span class=giallo-l><span>  queryType</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> __Type</span><span style=color:#81a1c1>!</span></span>
<span class=giallo-l><span>  mutationType</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> __Type</span></span>
<span class=giallo-l><span>  subscriptionType</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> __Type</span></span>
<span class=giallo-l><span>  directives</span><span style=color:#eceff4>:</span><span> [</span><span style=color:#8fbcbb>__Directive</span><span style=color:#81a1c1>!</span><span>]</span><span style=color:#81a1c1>!</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#81a1c1>type</span><span style=color:#8fbcbb> __Type</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>  kind</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> __TypeKind</span><span style=color:#81a1c1>!</span></span>
<span class=giallo-l><span>  name</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> String</span></span>
<span class=giallo-l><span>  description</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> String</span></span>
<span class=giallo-l><span style=color:#616e88>  # must be non-null for OBJECT and INTERFACE, otherwise null.</span></span>
<span class=giallo-l><span>  fields(includeDeprecated</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> Boolean</span><span style=color:#eceff4> =</span><span style=color:#81a1c1> false</span><span>)</span><span style=color:#eceff4>:</span><span> [</span><span style=color:#8fbcbb>__Field</span><span style=color:#81a1c1>!</span><span>]</span></span>
<span class=giallo-l><span style=color:#616e88>  # must be non-null for OBJECT and INTERFACE, otherwise null.</span></span>
<span class=giallo-l><span>  interfaces</span><span style=color:#eceff4>:</span><span> [</span><span style=color:#8fbcbb>__Type</span><span style=color:#81a1c1>!</span><span>]</span></span>
<span class=giallo-l><span style=color:#616e88>  # must be non-null for INTERFACE and UNION, otherwise null.</span></span>
<span class=giallo-l><span>  possibleTypes</span><span style=color:#eceff4>:</span><span> [</span><span style=color:#8fbcbb>__Type</span><span style=color:#81a1c1>!</span><span>]</span></span>
<span class=giallo-l><span style=color:#616e88>  # must be non-null for ENUM, otherwise null.</span></span>
<span class=giallo-l><span>  enumValues(includeDeprecated</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> Boolean</span><span style=color:#eceff4> =</span><span style=color:#81a1c1> false</span><span>)</span><span style=color:#eceff4>:</span><span> [</span><span style=color:#8fbcbb>__EnumValue</span><span style=color:#81a1c1>!</span><span>]</span></span>
<span class=giallo-l><span style=color:#616e88>  # must be non-null for INPUT_OBJECT, otherwise null.</span></span>
<span class=giallo-l><span>  inputFields</span><span style=color:#eceff4>:</span><span> [</span><span style=color:#8fbcbb>__InputValue</span><span style=color:#81a1c1>!</span><span>]</span></span>
<span class=giallo-l><span style=color:#616e88>  # must be non-null for NON_NULL and LIST, otherwise null.</span></span>
<span class=giallo-l><span>  ofType</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> __Type</span></span>
<span class=giallo-l><span style=color:#616e88>  # may be non-null for custom SCALAR, otherwise null.</span></span>
<span class=giallo-l><span>  specifiedByURL</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> String</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#81a1c1>enum</span><span style=color:#8fbcbb> __TypeKind</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span style=color:#ebcb8b>  SCALAR</span></span>
<span class=giallo-l><span style=color:#ebcb8b>  OBJECT</span></span>
<span class=giallo-l><span style=color:#ebcb8b>  INTERFACE</span></span>
<span class=giallo-l><span style=color:#ebcb8b>  UNION</span></span>
<span class=giallo-l><span style=color:#ebcb8b>  ENUM</span></span>
<span class=giallo-l><span style=color:#ebcb8b>  INPUT_OBJECT</span></span>
<span class=giallo-l><span style=color:#ebcb8b>  LIST</span></span>
<span class=giallo-l><span style=color:#ebcb8b>  NON_NULL</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#81a1c1>type</span><span style=color:#8fbcbb> __Field</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>  name</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> String</span><span style=color:#81a1c1>!</span></span>
<span class=giallo-l><span>  description</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> String</span></span>
<span class=giallo-l><span>  args</span><span style=color:#eceff4>:</span><span> [</span><span style=color:#8fbcbb>__InputValue</span><span style=color:#81a1c1>!</span><span>]</span><span style=color:#81a1c1>!</span></span>
<span class=giallo-l><span>  type</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> __Type</span><span style=color:#81a1c1>!</span></span>
<span class=giallo-l><span>  isDeprecated</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> Boolean</span><span style=color:#81a1c1>!</span></span>
<span class=giallo-l><span>  deprecationReason</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> String</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#81a1c1>type</span><span style=color:#8fbcbb> __InputValue</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>  name</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> String</span><span style=color:#81a1c1>!</span></span>
<span class=giallo-l><span>  description</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> String</span></span>
<span class=giallo-l><span>  type</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> __Type</span><span style=color:#81a1c1>!</span></span>
<span class=giallo-l><span>  defaultValue</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> String</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#81a1c1>type</span><span style=color:#8fbcbb> __EnumValue</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>  name</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> String</span><span style=color:#81a1c1>!</span></span>
<span class=giallo-l><span>  description</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> String</span></span>
<span class=giallo-l><span>  isDeprecated</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> Boolean</span><span style=color:#81a1c1>!</span></span>
<span class=giallo-l><span>  deprecationReason</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> String</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#81a1c1>type</span><span style=color:#8fbcbb> __Directive</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>  name</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> String</span><span style=color:#81a1c1>!</span></span>
<span class=giallo-l><span>  description</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> String</span></span>
<span class=giallo-l><span>  locations</span><span style=color:#eceff4>:</span><span> [</span><span style=color:#8fbcbb>__DirectiveLocation</span><span style=color:#81a1c1>!</span><span>]</span><span style=color:#81a1c1>!</span></span>
<span class=giallo-l><span>  args</span><span style=color:#eceff4>:</span><span> [</span><span style=color:#8fbcbb>__InputValue</span><span style=color:#81a1c1>!</span><span>]</span><span style=color:#81a1c1>!</span></span>
<span class=giallo-l><span>  isRepeatable</span><span style=color:#eceff4>:</span><span style=color:#8fbcbb> Boolean</span><span style=color:#81a1c1>!</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#81a1c1>enum</span><span style=color:#8fbcbb> __DirectiveLocation</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span style=color:#ebcb8b>  QUERY</span></span>
<span class=giallo-l><span style=color:#ebcb8b>  MUTATION</span></span>
<span class=giallo-l><span style=color:#ebcb8b>  SUBSCRIPTION</span></span>
<span class=giallo-l><span style=color:#ebcb8b>  FIELD</span></span>
<span class=giallo-l><span style=color:#ebcb8b>  FRAGMENT_DEFINITION</span></span>
<span class=giallo-l><span style=color:#ebcb8b>  FRAGMENT_SPREAD</span></span>
<span class=giallo-l><span style=color:#ebcb8b>  INLINE_FRAGMENT</span></span>
<span class=giallo-l><span style=color:#ebcb8b>  VARIABLE_DEFINITION</span></span>
<span class=giallo-l><span style=color:#ebcb8b>  SCHEMA</span></span>
<span class=giallo-l><span style=color:#ebcb8b>  SCALAR</span></span>
<span class=giallo-l><span style=color:#ebcb8b>  OBJECT</span></span>
<span class=giallo-l><span style=color:#ebcb8b>  FIELD_DEFINITION</span></span>
<span class=giallo-l><span style=color:#ebcb8b>  ARGUMENT_DEFINITION</span></span>
<span class=giallo-l><span style=color:#ebcb8b>  INTERFACE</span></span>
<span class=giallo-l><span style=color:#ebcb8b>  UNION</span></span>
<span class=giallo-l><span style=color:#ebcb8b>  ENUM</span></span>
<span class=giallo-l><span style=color:#ebcb8b>  ENUM_VALUE</span></span>
<span class=giallo-l><span style=color:#ebcb8b>  INPUT_OBJECT</span></span>
<span class=giallo-l><span style=color:#ebcb8b>  INPUT_FIELD_DEFINITION</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span></code></pre><p>è©¦ã—ã«Github GraphQL apiã«directiveã‚’å•ã„åˆã‚ã›ã¦ã¿ã‚‹ã¨<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=graphql><span class=giallo-l><span style=color:#eceff4>{</span></span>
<span class=giallo-l><span>  __schema</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>    directives</span><span style=color:#eceff4>{</span></span>
<span class=giallo-l><span>      name</span></span>
<span class=giallo-l><span style=color:#eceff4>    }</span></span>
<span class=giallo-l><span style=color:#eceff4>  }</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span></code></pre><p>ä»¥ä¸‹ã®ã‚ˆã†ãªresponseãŒå¾—ã‚‰ã‚ŒãŸã€‚<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=json><span class=giallo-l><span style=color:#eceff4>{</span></span>
<span class=giallo-l><span style=color:#eceff4>  "</span><span style=color:#8fbcbb>data</span><span style=color:#eceff4>": {</span></span>
<span class=giallo-l><span style=color:#eceff4>    "</span><span style=color:#8fbcbb>__schema</span><span style=color:#eceff4>": {</span></span>
<span class=giallo-l><span style=color:#eceff4>      "</span><span style=color:#8fbcbb>directives</span><span style=color:#eceff4>": [</span></span>
<span class=giallo-l><span style=color:#eceff4>        {</span></span>
<span class=giallo-l><span style=color:#eceff4>          "</span><span style=color:#8fbcbb>name</span><span style=color:#eceff4>": "</span><span style=color:#a3be8c>include</span><span style=color:#eceff4>"</span></span>
<span class=giallo-l><span style=color:#eceff4>        },</span></span>
<span class=giallo-l><span style=color:#eceff4>        {</span></span>
<span class=giallo-l><span style=color:#eceff4>          "</span><span style=color:#8fbcbb>name</span><span style=color:#eceff4>": "</span><span style=color:#a3be8c>skip</span><span style=color:#eceff4>"</span></span>
<span class=giallo-l><span style=color:#eceff4>        },</span></span>
<span class=giallo-l><span style=color:#eceff4>        {</span></span>
<span class=giallo-l><span style=color:#eceff4>          "</span><span style=color:#8fbcbb>name</span><span style=color:#eceff4>": "</span><span style=color:#a3be8c>deprecated</span><span style=color:#eceff4>"</span></span>
<span class=giallo-l><span style=color:#eceff4>        },</span></span>
<span class=giallo-l><span style=color:#eceff4>        {</span></span>
<span class=giallo-l><span style=color:#eceff4>          "</span><span style=color:#8fbcbb>name</span><span style=color:#eceff4>": "</span><span style=color:#a3be8c>requiredCapabilities</span><span style=color:#eceff4>"</span></span>
<span class=giallo-l><span style=color:#eceff4>        }</span></span>
<span class=giallo-l><span style=color:#eceff4>      ]</span></span>
<span class=giallo-l><span style=color:#eceff4>    }</span></span>
<span class=giallo-l><span style=color:#eceff4>  }</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span></code></pre><h2 id=5-validation><a aria-label="Anchor link for: 5-validation" class=zola-anchor href=#5-validation>5 Validation</a></h2><blockquote><p>Typically validation is performed in the context of a request immediately before execution, however a GraphQL service may execute a request without explicitly validating it if that exact same request is known to have been validated before. For example: the request may be validated during development, provided it does not later change, or a service may validate a request once and memoize the result to avoid validating the same request again in the future. Any client-side or development-time tool should report validation errors and not allow the formulation or execution of requests known to be invalid at that given point in time.</blockquote><p>validationã¯requestã®å®Ÿè¡Œå‰ã«ãªã•ã‚Œã‚‹ãŒã€äº‹å‰ã«validã§ã‚ã‚‹ã¨ã‚ã‹ã£ã¦ã„ã‚‹å ´åˆã«ã¯çœç•¥ã™ã‚‹ã“ã¨ã‚‚ã‚ã‚‹ã€‚<blockquote><p>As GraphQL type system schema evolves over time by adding new types and new fields, it is possible that a request which was previously valid could later become invalid. Any change that can cause a previously valid request to become invalid is considered a breaking change. GraphQL services and schema maintainers are encouraged to avoid breaking changes</blockquote><p>ä»¥å‰ã¯validã ã£ãŸrequestãŒinvalidã«ãªã‚‹ã‚ˆã†ãªå¤‰æ›´ã¯breaking changeã¨ã¿ãªã•ã‚Œã‚‹ã€‚breaking changeã¯ã§ãã‚‹ã ã‘é¿ã‘ã‚‹ã“ã¨ãŒæœ›ã¾ã—ã„ã€‚<br> ã“ã®ã‚ã¨ã«ç¶šãä»¥ä¸‹ã®æ–‡ç« ã¯ã„ã¾ã„ã¡ç†è§£ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚<blockquote><p>however in order to be more resilient to these breaking changes, sophisticated GraphQL systems may still allow for the execution of requests which at some point were known to be free of any validation errors, and have not changed since.</blockquote><p>ã“ã®ã‚ã¨ã¯fragmentã®mergeã®ruleã ã£ãŸã‚Šã€argumentã‚„variableã®validation ruleãŒè¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™ã€‚ç´ ç›´ã«ä½¿ãˆã°ã‚ã¾ã‚Šæ„è­˜ã—ãªãã¦ã‚ˆã•ãã†ã¨æ€ã‚ã‚Œã‚‹ã®ã§å‰²æ„›ã€‚<h2 id=6-execution><a aria-label="Anchor link for: 6-execution" class=zola-anchor href=#6-execution>6 Execution</a></h2><p>GraphQLã®å®Ÿè¡Œæ–¹æ³•ã«ã¤ã„ã¦ã€‚<br> Requestã¯ä»¥ä¸‹ã®æƒ…å ±ã‹ã‚‰æ§‹æˆã•ã‚Œã‚‹ã€‚<ul><li>schema<li>document(operationã¨fragmentã®definitionã‚’å«ã‚€)<li>operation name(optional)<li>operationã§å®šç¾©ã•ã‚Œã¦ã„ã‚‹variablesã®values(optional)<li>an initial value corresponding to the root type being executed(ã“ã‚Œã„ã¾ã„ã¡ç†è§£ã§ããš)</ul><h3 id=executing-requests><a aria-label="Anchor link for: executing-requests" class=zola-anchor href=#executing-requests>Executing Requests</a></h3><blockquote><p>To execute a request, the executor must have a parsed Document and a selected operation name to run if the document defines multiple operations, otherwise the document is expected to only contain a single operation. The result of the request is determined by the result of executing this operation according to the â€œExecuting Operationsâ€ section below.</blockquote><p>ã¾ãšdocumentã‚’parseã—ã¦å®Ÿè¡Œã™ã‚‹operationã‚’ç‰¹å®šã™ã‚‹ã€‚operationã®å®Ÿè¡ŒçµæœãŒrequestã®å®Ÿè¡Œçµæœã«ãªã‚‹ã€‚<br> validationãŒå¿…è¦ãªã‚‰å®Ÿè¡Œå‰ã«è¡Œã†ã€‚ã¾ãŸã€variablesãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹å ´åˆã¯ã“ã“ã§å¿…è¦ãªvariablesãŒrequestã«å«ã¾ã‚Œã‚‹ã‹ã®validationãŒè¡Œã‚ã‚Œã‚‹ã€‚<h3 id=executing-operations><a aria-label="Anchor link for: executing-operations" class=zola-anchor href=#executing-operations>Executing Operations</a></h3><p>Schemaã§è¿°ã¹ãŸã‚ˆã†ã«schemaã®top levelã§query root typeãŒæŒ‡å®šã•ã‚Œã¦ã„ã‚‹ã€‚mutationã¨subscriptionã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ãªã‚‰ãã‚Œã‚‰ã‚‚åŒæ§˜ã€‚<br> ExecuteOperationã®å®Ÿè¡Œçµæœã¯ãã‚Œãã‚Œã®å®Ÿè¡Œçµæœã€‚<h4 id=query><a aria-label="Anchor link for: query" class=zola-anchor href=#query>Query</a></h4><blockquote><p>If the operation is a query, the result of the operation is the result of executing the operationâ€™s top level selection set with the query root operation type.</blockquote><p>operationã®top level selection setã«å¯¾å¿œã™ã‚‹query rootã®å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹ã€‚<blockquote><p>allowing parallelization</blockquote><p>ã¨ã‚ã‚‹ã®ã§selection setã®å®Ÿè¡Œã‚’ä¸¦åˆ—åŒ–ã—ã¦ã‚‚ã‚ˆã„ã€‚<h4 id=mutation><a aria-label="Anchor link for: mutation" class=zola-anchor href=#mutation>Mutation</a></h4><blockquote><p>If the operation is a mutation, the result of the operation is the result of executing the operationâ€™s top level selection set on the mutation root object type. This selection set should be executed serially.</blockquote><p>QueryåŒæ§˜ã«operationã®top level selectionã«å¯¾å¿œã™ã‚‹mutation rootã®å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹ã€‚ãŸã ã—ã€mutationã®å ´åˆã¯serialã«å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒä»•æ§˜ã§è¦å®šã•ã‚Œã¦ã„ã‚‹ã€‚<blockquote><p>It is expected that the top level fields in a mutation operation perform side-effects on the underlying data system. Serial execution of the provided mutations ensures against race conditions during these side-effects.</blockquote><p>ã“ã“ã‹ã‚‰underlying data systemã«å¯¾ã™ã‚‹side effectã‚ã‚‹ã‹ã©ã†ã‹ãŒqueryã¨mutationã‚’åˆ†ã‘ã‚‹åŸºæº–ã«ãªã‚‹ã¨è€ƒãˆã‚‰ã‚Œã‚‹ã€‚(queryã¨mutationã¨ã„ã†åå‰ã‹ã‚‰æ˜ã‚‰ã‹ã§ã¯ã‚ã‚‹ãŒ)<h4 id=subscription><a aria-label="Anchor link for: subscription" class=zola-anchor href=#subscription>Subscription</a></h4><p>Queryã¨mutationã¯ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ã¨å¤‰æ›´ã§ã‚ã‹ã‚Šã‚„ã™ã„ã®ã§ã™ãŒã€subscriptionã£ã¦å…·ä½“çš„ã«ã¯ãªã‚“ã ã£ã¦ãªã‚Šã¾ã—ãŸã€‚websocketç­‰ã®connectionã¯ã£ã¦serverå´ã‹ã‚‰å¤‰æ›´ã‚’é€šçŸ¥ã™ã‚‹å‡¦ç†ã®æŠ½è±¡åŒ–ãªã‚“ã ã‚ã†ãªã¨æ€ã£ã¦ã„ãŸã®ã§ä»•æ§˜ã§ã©ã†å®šç¾©ã•ã‚Œã¦ã„ã‚‹ã‹æ°—ã«ãªã‚Šã¾ã™ã€‚<blockquote><p>If the operation is a subscription, the result is an event stream called the â€œResponse Streamâ€ where each event in the event stream is the result of executing the operation for each new event on an underlying â€œSource Streamâ€.</blockquote><p>ã¨ã‚ã‚‹ã®ã§ã€responseã¨ã—ã¦ã¯Response Streamã§ã€response streamã¯eventã‚’è¿”ã™ç†è§£ã§ã—ã‚‡ã†ã‹ã€‚ãã®eventã¯ãªã«ã‹ã¨ã„ã†ã¨underlying Source Streamã®æ–°è¦eventã«å¯¾ã™ã‚‹operationã®å®Ÿè¡Œçµæœã®ã“ã¨ã¿ãŸã„ã§ã™ã€‚<br> ã‚ˆã†ã¯Source Streamã«å¯¾ã™ã‚‹eventã®iterationã¨ã„ã†ã“ã¨ã§ã—ã‚‡ã†ã‹ã€‚<br> å…·ä½“ä¾‹ã¨ã—ã¦ä»¥ä¸‹ãŒæŒ™ã’ã‚‰ã‚Œã¦ã„ã¾ã™<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=graphql><span class=giallo-l><span style=color:#88c0d0>subscription NewMessages</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>  newMessage(roomId</span><span style=color:#eceff4>:</span><span style=color:#b48ead> 123</span><span>)</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>    sender</span></span>
<span class=giallo-l><span>    text</span></span>
<span class=giallo-l><span style=color:#eceff4>  }</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span></code></pre><pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=json><span class=giallo-l><span style=color:#eceff4>{</span></span>
<span class=giallo-l><span style=color:#eceff4>  "</span><span style=color:#8fbcbb>data</span><span style=color:#eceff4>": {</span></span>
<span class=giallo-l><span style=color:#eceff4>    "</span><span style=color:#8fbcbb>newMessage</span><span style=color:#eceff4>": {</span></span>
<span class=giallo-l><span style=color:#eceff4>      "</span><span style=color:#8fbcbb>sender</span><span style=color:#eceff4>": "</span><span style=color:#a3be8c>Hagrid</span><span style=color:#eceff4>",</span></span>
<span class=giallo-l><span style=color:#eceff4>      "</span><span style=color:#8fbcbb>text</span><span style=color:#eceff4>": "</span><span style=color:#a3be8c>You're a wizard!</span><span style=color:#eceff4>"</span></span>
<span class=giallo-l><span style=color:#eceff4>    }</span></span>
<span class=giallo-l><span style=color:#eceff4>  }</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span></code></pre><h5 id=supporting-subscriptions-at-scale><a aria-label="Anchor link for: supporting-subscriptions-at-scale" class=zola-anchor href=#supporting-subscriptions-at-scale>Supporting Subscriptions at Scale</a></h5><blockquote><p>Supporting subscriptions is a significant change for any GraphQL service. Query and mutation operations are stateless, allowing scaling via cloning of GraphQL service instances. Subscriptions, by contrast, are stateful and require maintaining the GraphQL document, variables, and other context over the lifetime of the subscription.</blockquote><p>Subscriptionã¯query,mutationã¨é•ã£ã¦çŠ¶æ…‹ç®¡ç†ãŒå¿…è¦ã«ãªã‚‹ã€‚<blockquote><p>Consider the behavior of your system when state is lost due to the failure of a single machine in a service. Durability and availability may be improved by having separate dedicated services for managing subscription state and client connectivity.</blockquote><p>subscriptionã®çŠ¶æ…‹ç®¡ç†ã®ãŸã‚ã«separate dedicated serviceã‚’ç”¨æ„ã™ã‚‹ã“ã¨ãŒææ¡ˆã•ã‚Œã¦ã„ã‚‹ã€‚<br> (å®Ÿè£…ã—ãŸã“ã¨ãªã„ã®ã§å®Ÿè£…ã—ã¦ã¿ãŸã„..!)<h5 id=delivery-agnostic><a aria-label="Anchor link for: delivery-agnostic" class=zola-anchor href=#delivery-agnostic>Delivery Agnostic</a></h5><blockquote><p>GraphQL subscriptions do not require any specific serialization format or transport mechanism. Subscriptions specifies algorithms for the creation of a stream, the content of each payload on that stream, and the closing of that stream. There are intentionally no specifications for message acknowledgement, buffering, resend requests, or any other quality of service (QoS) details. Message serialization, transport mechanisms, and quality of service details should be chosen by the implementing service.</blockquote><p>subscriptionã«ãŠã„ã¦ãªã«ã§å®Ÿç¾ã™ã‚‹ã‹ã¯ä»•æ§˜ã§å®šã‚ã¦ã„ãªã„ã€‚<br> ã¾ãŸã€messagingã«ãŠã‘ã‚‹ackã®æ–¹æ³•ç­‰ã‚‚å®Ÿè£…ã«å§”ã­ã‚‰ã‚Œã¦ã„ã‚‹ã€‚<br> Unsubscribeã«ã¤ã„ã¦ã‚‚<blockquote><p>Cancel responseStream</blockquote><p>ã¨ã ã‘è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ã€‚<h3 id=executing-selection-sets><a aria-label="Anchor link for: executing-selection-sets" class=zola-anchor href=#executing-selection-sets>Executing Selection Sets</a></h3><p>Selection setã®å®Ÿè¡Œæ–¹æ³•ã«ã¤ã„ã¦è©³ç´°ã«å®šã‚ã‚‰ã‚Œã¦ã„ã‚‹ã€‚<br> Fragmentã¨selectionã§fieldãŒé‡è¤‡ã—ãŸå ´åˆã‚„selection setã®mergeç­‰ã€‚<br> filedã®resolveæ™‚ã«ã‚¨ãƒ©ãƒ¼ãŒã‚ã£ãŸå ´åˆã«ã¤ã„ã¦ã¯<blockquote><p>If a field error is raised while resolving a field, it is handled as though the field returned null, and the error must be added to the "errors" list in the response.</blockquote><p>å½“è©²filedã®responseã«ã¯nullã‚’ã„ã‚Œã¦errorã‚’<code>errors</code>ã«è¿½åŠ ã™ã‚‹ã“ã¨ã«ãªã£ã¦ã„ã‚‹ã€‚fieldãŒ<code>Non-Null</code>ã®å ´åˆã¯ãã®è¦ªã‚’nullã«ã™ã‚‹ã€‚è¦ªã‚‚<code>Non-Null</code>ã ã£ãŸå ´åˆã¯responseã®dataãŒnullã«ãªã‚‹ã€‚<p>è‡ªåˆ†ã§GraphQLã®responseç›´æ¥ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã™ã‚‹éš›ã¯filed resolveæ™‚ã«ã‚¨ãƒ©ãƒ¼ã‚ã£ã¦ã‚‚dataã«ã¯nullã¨ã—ã¦è¡¨ç¾ã•ã‚Œã€errors fieldèª¿ã¹ãªã„ã¨ã„ã‘ãªã„ã®ã§æ³¨æ„ãŒå¿…è¦ã§ã™ã­ã€‚<h2 id=7-response><a aria-label="Anchor link for: 7-response" class=zola-anchor href=#7-response>7 Response</a></h2><p>GraphQL serverãŒè¿”ã™responseã«ã¤ã„ã¦ã€‚<blockquote><p>A response may contain both a partial response as well as any field errors in the case that a field error was raised on a field and was replaced with null.</blockquote><p>æˆåŠŸã‹å¤±æ•—ã§ãªãã€ä¸€éƒ¨æˆåŠŸã®ã‚ˆã†ãªresponseãŒã‚ã‚Šãˆã‚‹ã®ãŒç‰¹å¾´ã ãªã¨æ€ã„ã¾ã—ãŸã€‚<h3 id=response-format><a aria-label="Anchor link for: response-format" class=zola-anchor href=#response-format>Response format</a></h3><blockquote><p>A response to a GraphQL request must be a map.</blockquote><blockquote><p>If the request raised any errors, the response map must contain an entry with key errors. The value of this entry is described in the â€œErrorsâ€ section. If the request completed without raising any errors, this entry must not be present.</blockquote><blockquote><p>If the request included execution, the response map must contain an entry with key data. The value of this entry is described in the â€œDataâ€ section. If the request failed before execution, due to a syntax error, missing information, or validation error, this entry must not be present.</blockquote><blockquote><p>The response map may also contain an entry with key extensions. This entry, if set, must have a map as its value. This entry is reserved for implementors to extend the protocol however they see fit, and hence there are no additional restrictions on its contents.</blockquote><blockquote><p>To ensure future changes to the protocol do not break existing services and clients, the top level response map must not contain any entries other than the three described above.</blockquote><ul><li>ã‚¨ãƒ©ãƒ¼ã®å ´åˆã¯<code>errors</code> fieldã«ã„ã‚Œã‚‹ã€‚<li>çµæœã¯<code>data</code> fieldã«ã„ã‚Œã‚‹<li>ãã‚Œä»¥å¤–ã®æ‹¡å¼µã¯<code>extensions</code>ã«ã„ã‚Œã‚‹ã€‚<li>å°†æ¥ã®å¤‰æ›´ã®ãŸã‚ã«top levelã§ã¯3ã¤ä»¥å¤–ã®fieldã‚’å«ã‚“ã§ã¯ãªã‚‰ãªã„ã€‚(must not)</ul><p>ResponseãŒjsonã§ã‚ã‚‹ã¨ã¯é™ã‚‰ãªã„ã‹ã‚‰entryã¨ã„ã†ãµã†ã«æŠ½è±¡åŒ–ã•ã‚Œã¦ã„ã¦ã€entry = jsonã®fieldã¨èª­ã¿æ›¿ãˆã¦ã¾ã™ã€‚<h4 id=data><a aria-label="Anchor link for: data" class=zola-anchor href=#data>Data</a></h4><p>request operationã®å®Ÿè¡Œçµæœã¯<code>data</code> fieldã«ã„ã‚Œã‚‹ã€‚<blockquote><p>If an error was raised before execution begins, the data entry should not be present in the result.</blockquote><p>executionã®å‰ã«ã‚¨ãƒ©ãƒ¼ãŒèµ·ããŸå ´åˆã¯<code>data</code> fieldã¯responseã«ã„ã‚Œãªã„<blockquote><p>If an error was raised during the execution that prevented a valid response, the data entry in the response should be null.</blockquote><p>fieldã®resolveæ™‚ã®ã‚¨ãƒ©ãƒ¼ã®å ´åˆã¯<code>data</code> fieldã«nullã‚’ã„ã‚Œã‚‹ã€‚<h4 id=errors><a aria-label="Anchor link for: errors" class=zola-anchor href=#errors>Errors</a></h4><p>errorã®formatã«ã¤ã„ã¦ã€‚<blockquote><p>Every error must contain an entry with the key message with a string description of the error intended for the developer as a guide to understand and correct the error.</blockquote><blockquote><p>f an error can be associated to a particular point in the requested GraphQL document, it should contain an entry with the key locations with a list of locations, where each location is a map with the keys line and column, both positive numbers starting from 1 which describe the beginning of an associated syntax element.</blockquote><blockquote><p>If an error can be associated to a particular field in the GraphQL result, it must contain an entry with the key path that details the path of the response field which experienced the error. This allows clients to identify whether a null result is intentional or caused by a runtime error.</blockquote><ul><li><code>message</code>ã§developerã‚€ã‘ã«descriptionã‚’å«ã¾ãªã‘ã‚Œã°ãªã‚‰ãªã„(must)<li><code>locations</code>ã§graphql documentã®ã‚¨ãƒ©ãƒ¼ç®‡æ‰€ã‚’æ˜ç¤ºã™ã¹ã(should)<li><code>path</code>ã§errorã®åŸå› ã¨ãªã£ã¦filedã‚’æ˜ç¤ºã—ãªã‘ã‚Œã°ãªã‚‰ãªã„(must)</ul><p>å…·ä½“ä¾‹ã¨ã—ã¦<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=graphql><span class=giallo-l><span style=color:#eceff4>{</span></span>
<span class=giallo-l><span>  hero(episode</span><span style=color:#eceff4>:</span><span> $episode)</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>    name</span></span>
<span class=giallo-l><span style=color:#a3be8c>    heroFriends</span><span style=color:#eceff4>:</span><span> friends</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>      id</span></span>
<span class=giallo-l><span>      name</span></span>
<span class=giallo-l><span style=color:#eceff4>    }</span></span>
<span class=giallo-l><span style=color:#eceff4>  }</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span></code></pre><p>ã®queryã§friendsã®ä¸€éƒ¨ã®nameã®å–å¾—ã«å¤±æ•—ã—ãŸå ´åˆã€ä»¥ä¸‹ã®ã‚¨ãƒ©ãƒ¼ãŒè¿”ã‚‹ã€‚<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=json><span class=giallo-l><span style=color:#eceff4>{</span></span>
<span class=giallo-l><span style=color:#eceff4>  "</span><span style=color:#8fbcbb>errors</span><span style=color:#eceff4>": [</span></span>
<span class=giallo-l><span style=color:#eceff4>    {</span></span>
<span class=giallo-l><span style=color:#eceff4>      "</span><span style=color:#8fbcbb>message</span><span style=color:#eceff4>": "</span><span style=color:#a3be8c>Name for character with ID 1002 could not be fetched.</span><span style=color:#eceff4>",</span></span>
<span class=giallo-l><span style=color:#eceff4>      "</span><span style=color:#8fbcbb>locations</span><span style=color:#eceff4>": [{ "</span><span style=color:#8fbcbb>line</span><span style=color:#eceff4>":</span><span style=color:#b48ead> 6</span><span style=color:#eceff4>, "</span><span style=color:#8fbcbb>column</span><span style=color:#eceff4>":</span><span style=color:#b48ead> 7</span><span style=color:#eceff4> }],</span></span>
<span class=giallo-l><span style=color:#eceff4>      "</span><span style=color:#8fbcbb>path</span><span style=color:#eceff4>": ["</span><span style=color:#a3be8c>hero</span><span style=color:#eceff4>", "</span><span style=color:#a3be8c>heroFriends</span><span style=color:#eceff4>",</span><span style=color:#b48ead> 1</span><span style=color:#eceff4>, "</span><span style=color:#a3be8c>name</span><span style=color:#eceff4>"]</span></span>
<span class=giallo-l><span style=color:#eceff4>    }</span></span>
<span class=giallo-l><span style=color:#eceff4>  ],</span></span>
<span class=giallo-l><span style=color:#eceff4>  "</span><span style=color:#8fbcbb>data</span><span style=color:#eceff4>": {</span></span>
<span class=giallo-l><span style=color:#eceff4>    "</span><span style=color:#8fbcbb>hero</span><span style=color:#eceff4>": {</span></span>
<span class=giallo-l><span style=color:#eceff4>      "</span><span style=color:#8fbcbb>name</span><span style=color:#eceff4>": "</span><span style=color:#a3be8c>R2-D2</span><span style=color:#eceff4>",</span></span>
<span class=giallo-l><span style=color:#eceff4>      "</span><span style=color:#8fbcbb>heroFriends</span><span style=color:#eceff4>": [</span></span>
<span class=giallo-l><span style=color:#eceff4>        {</span></span>
<span class=giallo-l><span style=color:#eceff4>          "</span><span style=color:#8fbcbb>id</span><span style=color:#eceff4>": "</span><span style=color:#a3be8c>1000</span><span style=color:#eceff4>",</span></span>
<span class=giallo-l><span style=color:#eceff4>          "</span><span style=color:#8fbcbb>name</span><span style=color:#eceff4>": "</span><span style=color:#a3be8c>Luke Skywalker</span><span style=color:#eceff4>"</span></span>
<span class=giallo-l><span style=color:#eceff4>        },</span></span>
<span class=giallo-l><span style=color:#eceff4>        {</span></span>
<span class=giallo-l><span style=color:#eceff4>          "</span><span style=color:#8fbcbb>id</span><span style=color:#eceff4>": "</span><span style=color:#a3be8c>1002</span><span style=color:#eceff4>",</span></span>
<span class=giallo-l><span style=color:#eceff4>          "</span><span style=color:#8fbcbb>name</span><span style=color:#eceff4>":</span><span style=color:#81a1c1> null</span></span>
<span class=giallo-l><span style=color:#eceff4>        },</span></span>
<span class=giallo-l><span style=color:#eceff4>        {</span></span>
<span class=giallo-l><span style=color:#eceff4>          "</span><span style=color:#8fbcbb>id</span><span style=color:#eceff4>": "</span><span style=color:#a3be8c>1003</span><span style=color:#eceff4>",</span></span>
<span class=giallo-l><span style=color:#eceff4>          "</span><span style=color:#8fbcbb>name</span><span style=color:#eceff4>": "</span><span style=color:#a3be8c>Leia Organa</span><span style=color:#eceff4>"</span></span>
<span class=giallo-l><span style=color:#eceff4>        }</span></span>
<span class=giallo-l><span style=color:#eceff4>      ]</span></span>
<span class=giallo-l><span style=color:#eceff4>    }</span></span>
<span class=giallo-l><span style=color:#eceff4>  }</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span></code></pre><p><code>name</code>ãŒ<code>Non-Null</code>ã ã£ãŸå ´åˆã€entryè‡ªä½“ãŒnullã«ãªã‚‹ã€‚<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=json><span class=giallo-l><span style=color:#eceff4>{</span></span>
<span class=giallo-l><span style=color:#eceff4>  "</span><span style=color:#8fbcbb>errors</span><span style=color:#eceff4>": [</span></span>
<span class=giallo-l><span style=color:#eceff4>    {</span></span>
<span class=giallo-l><span style=color:#eceff4>      "</span><span style=color:#8fbcbb>message</span><span style=color:#eceff4>": "</span><span style=color:#a3be8c>Name for character with ID 1002 could not be fetched.</span><span style=color:#eceff4>",</span></span>
<span class=giallo-l><span style=color:#eceff4>      "</span><span style=color:#8fbcbb>locations</span><span style=color:#eceff4>": [{ "</span><span style=color:#8fbcbb>line</span><span style=color:#eceff4>":</span><span style=color:#b48ead> 6</span><span style=color:#eceff4>, "</span><span style=color:#8fbcbb>column</span><span style=color:#eceff4>":</span><span style=color:#b48ead> 7</span><span style=color:#eceff4> }],</span></span>
<span class=giallo-l><span style=color:#eceff4>      "</span><span style=color:#8fbcbb>path</span><span style=color:#eceff4>": ["</span><span style=color:#a3be8c>hero</span><span style=color:#eceff4>", "</span><span style=color:#a3be8c>heroFriends</span><span style=color:#eceff4>",</span><span style=color:#b48ead> 1</span><span style=color:#eceff4>, "</span><span style=color:#a3be8c>name</span><span style=color:#eceff4>"]</span></span>
<span class=giallo-l><span style=color:#eceff4>    }</span></span>
<span class=giallo-l><span style=color:#eceff4>  ],</span></span>
<span class=giallo-l><span style=color:#eceff4>  "</span><span style=color:#8fbcbb>data</span><span style=color:#eceff4>": {</span></span>
<span class=giallo-l><span style=color:#eceff4>    "</span><span style=color:#8fbcbb>hero</span><span style=color:#eceff4>": {</span></span>
<span class=giallo-l><span style=color:#eceff4>      "</span><span style=color:#8fbcbb>name</span><span style=color:#eceff4>": "</span><span style=color:#a3be8c>R2-D2</span><span style=color:#eceff4>",</span></span>
<span class=giallo-l><span style=color:#eceff4>      "</span><span style=color:#8fbcbb>heroFriends</span><span style=color:#eceff4>": [</span></span>
<span class=giallo-l><span style=color:#eceff4>        {</span></span>
<span class=giallo-l><span style=color:#eceff4>          "</span><span style=color:#8fbcbb>id</span><span style=color:#eceff4>": "</span><span style=color:#a3be8c>1000</span><span style=color:#eceff4>",</span></span>
<span class=giallo-l><span style=color:#eceff4>          "</span><span style=color:#8fbcbb>name</span><span style=color:#eceff4>": "</span><span style=color:#a3be8c>Luke Skywalker</span><span style=color:#eceff4>"</span></span>
<span class=giallo-l><span style=color:#eceff4>        },</span></span>
<span class=giallo-l><span style=color:#81a1c1>        null</span><span style=color:#eceff4>,</span></span>
<span class=giallo-l><span style=color:#eceff4>        {</span></span>
<span class=giallo-l><span style=color:#eceff4>          "</span><span style=color:#8fbcbb>id</span><span style=color:#eceff4>": "</span><span style=color:#a3be8c>1003</span><span style=color:#eceff4>",</span></span>
<span class=giallo-l><span style=color:#eceff4>          "</span><span style=color:#8fbcbb>name</span><span style=color:#eceff4>": "</span><span style=color:#a3be8c>Leia Organa</span><span style=color:#eceff4>"</span></span>
<span class=giallo-l><span style=color:#eceff4>        }</span></span>
<span class=giallo-l><span style=color:#eceff4>      ]</span></span>
<span class=giallo-l><span style=color:#eceff4>    }</span></span>
<span class=giallo-l><span style=color:#eceff4>  }</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span></code></pre><p>ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ã‚’è¿”ã—ãŸã„å ´åˆã¯ä»¥ä¸‹ã®ã‚ˆã†ã«<code>extensions</code>ã‚’ä½¿ã†ã€‚<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=json><span class=giallo-l><span style=color:#eceff4>{</span></span>
<span class=giallo-l><span style=color:#eceff4>  "</span><span style=color:#8fbcbb>errors</span><span style=color:#eceff4>": [</span></span>
<span class=giallo-l><span style=color:#eceff4>    {</span></span>
<span class=giallo-l><span style=color:#eceff4>      "</span><span style=color:#8fbcbb>message</span><span style=color:#eceff4>": "</span><span style=color:#a3be8c>Name for character with ID 1002 could not be fetched.</span><span style=color:#eceff4>",</span></span>
<span class=giallo-l><span style=color:#eceff4>      "</span><span style=color:#8fbcbb>locations</span><span style=color:#eceff4>": [{ "</span><span style=color:#8fbcbb>line</span><span style=color:#eceff4>":</span><span style=color:#b48ead> 6</span><span style=color:#eceff4>, "</span><span style=color:#8fbcbb>column</span><span style=color:#eceff4>":</span><span style=color:#b48ead> 7</span><span style=color:#eceff4> }],</span></span>
<span class=giallo-l><span style=color:#eceff4>      "</span><span style=color:#8fbcbb>path</span><span style=color:#eceff4>": ["</span><span style=color:#a3be8c>hero</span><span style=color:#eceff4>", "</span><span style=color:#a3be8c>heroFriends</span><span style=color:#eceff4>",</span><span style=color:#b48ead> 1</span><span style=color:#eceff4>, "</span><span style=color:#a3be8c>name</span><span style=color:#eceff4>"],</span></span>
<span class=giallo-l><span style=color:#eceff4>      "</span><span style=color:#8fbcbb>extensions</span><span style=color:#eceff4>": {</span></span>
<span class=giallo-l><span style=color:#eceff4>        "</span><span style=color:#8fbcbb>code</span><span style=color:#eceff4>": "</span><span style=color:#a3be8c>CAN_NOT_FETCH_BY_ID</span><span style=color:#eceff4>",</span></span>
<span class=giallo-l><span style=color:#eceff4>        "</span><span style=color:#8fbcbb>timestamp</span><span style=color:#eceff4>": "</span><span style=color:#a3be8c>Fri Feb 9 14:33:09 UTC 2018</span><span style=color:#eceff4>"</span></span>
<span class=giallo-l><span style=color:#eceff4>      }</span></span>
<span class=giallo-l><span style=color:#eceff4>    }</span></span>
<span class=giallo-l><span style=color:#eceff4>  ]</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span></code></pre><p>ä»¥ä¸‹ã®ã‚ˆã†ã«<code>errors</code>ã®entryã‚‚ç‹¬è‡ªæ‹¡å¼µã—ã¦ã¯ãªã‚‰ãªã„(should not)<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=json><span class=giallo-l><span style=color:#eceff4>{</span></span>
<span class=giallo-l><span style=color:#eceff4>  "</span><span style=color:#8fbcbb>errors</span><span style=color:#eceff4>": [</span></span>
<span class=giallo-l><span style=color:#eceff4>    {</span></span>
<span class=giallo-l><span style=color:#eceff4>      "</span><span style=color:#8fbcbb>message</span><span style=color:#eceff4>": "</span><span style=color:#a3be8c>Name for character with ID 1002 could not be fetched.</span><span style=color:#eceff4>",</span></span>
<span class=giallo-l><span style=color:#eceff4>      "</span><span style=color:#8fbcbb>locations</span><span style=color:#eceff4>": [{ "</span><span style=color:#8fbcbb>line</span><span style=color:#eceff4>":</span><span style=color:#b48ead> 6</span><span style=color:#eceff4>, "</span><span style=color:#8fbcbb>column</span><span style=color:#eceff4>":</span><span style=color:#b48ead> 7</span><span style=color:#eceff4> }],</span></span>
<span class=giallo-l><span style=color:#eceff4>      "</span><span style=color:#8fbcbb>path</span><span style=color:#eceff4>": ["</span><span style=color:#a3be8c>hero</span><span style=color:#eceff4>", "</span><span style=color:#a3be8c>heroFriends</span><span style=color:#eceff4>",</span><span style=color:#b48ead> 1</span><span style=color:#eceff4>, "</span><span style=color:#a3be8c>name</span><span style=color:#eceff4>"],</span></span>
<span class=giallo-l><span style=color:#eceff4>      "</span><span style=color:#8fbcbb>code</span><span style=color:#eceff4>": "</span><span style=color:#a3be8c>CAN_NOT_FETCH_BY_ID</span><span style=color:#eceff4>",</span></span>
<span class=giallo-l><span style=color:#eceff4>      "</span><span style=color:#8fbcbb>timestamp</span><span style=color:#eceff4>": "</span><span style=color:#a3be8c>Fri Feb 9 14:33:09 UTC 2018</span><span style=color:#eceff4>"</span></span>
<span class=giallo-l><span style=color:#eceff4>    }</span></span>
<span class=giallo-l><span style=color:#eceff4>  ]</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span></code></pre><h3 id=serialization-format><a aria-label="Anchor link for: serialization-format" class=zola-anchor href=#serialization-format>Serialization Format</a></h3><blockquote><p>GraphQL does not require a specific serialization format. However, clients should use a serialization format that supports the major primitives in the GraphQL response.</blockquote><p>åŸºæœ¬ã¯jsonã ã¨æ€ã†ãŒä»•æ§˜çš„ã«ã¯serialization formatã«ã¤ã„ã¦ã¯è¦å®šã—ã¦ã„ãªã„ã€‚ãŸã ã—ã€Mapã‚„List,Nullç­‰ã‚’è¡¨ç¾ã§ãã‚‹ã“ã¨ã¯è¦æ±‚ã—ã¦ã„ã‚‹ã€‚<blockquote><p>Since the result of evaluating a selection set is ordered, the serialized Map of results should preserve this order by writing the map entries in the same order as those fields were requested as defined by selection set execution.</blockquote><p>mapã®orderã«ã¤ã„ã¦ã¯operationã®selection setã¨å¯¾å¿œã™ã‚‹ã“ã¨ãŒè¦æ±‚ã•ã‚Œã¦ã„ã‚‹ã€‚<br> Protocol bufferã®mapã ã¨mapã®orderã¯æœªå®šç¾©ãªã®ã§åœ°å‘³ã«å•é¡Œã«ãªã‚Šãã†ã ãªã¨æ€ã£ãŸã‚Šã—ã¾ã—ãŸã€‚<h2 id=appendix><a aria-label="Anchor link for: appendix" class=zola-anchor href=#appendix>Appendix</a></h2><p>ä»•æ§˜ã§ä½¿ã‚ã‚Œã¦ã„ã‚‹Notation Conventionsã®èª¬æ˜ãŒã®ã£ã¦ã„ã¾ã™ã€‚<h2 id=matome><a aria-label="Anchor link for: matome" class=zola-anchor href=#matome>ã¾ã¨ã‚</a></h2><ul><li>GraphQLã®å…¨ä½“åƒãŒã‚ã‹ã£ãŸ <ul><li>ã©ã“ã¾ã§ãŒä»•æ§˜ã§å®šç¾©ã•ã‚Œã¦ã„ã¦ã€ã“ã‚Œã¯libraryå´ã®è©±ç­‰ã€‚</ul><li>ãã‚Œãã‚Œã®æ©Ÿèƒ½ãŒã©ã‚“ãªæ„å›³ã§è¨­è¨ˆã•ã‚ŒãŸã‹ãŒæ›¸ã„ã¦ã‚ã£ã¦ãŠã‚‚ã—ã‚ã‹ã£ãŸ<li>å…·ä½“çš„ã«Httpãƒ¬ãƒ™ãƒ«ã§ã©ã†ãƒªã‚¯ã‚¨ã‚¹ãƒˆä½œã‚‹ã‹ã«ã¤ã„ã¦ã¯è¦å®šã•ã‚Œã¦ã„ãªã„ã®ãŒæ„å¤–ã ã£ãŸã€‚<li>extendã¾ã‚ã‚Šã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ãŒã‚ã‹ã£ã¦ã„ãªã„<li><a href=https://spec-md.com/ rel=external>Spec Markdown</a>ã§æ›¸ã‹ã‚Œã¦ã„ãŸã‚Šã€å…·ä½“ä¾‹è±Šå¯Œã§èª­ã¿ã‚„ã™ã‹ã£ãŸ</ul></div></article></main><footer class=blog-footer><p>Â© 2026 <a href=https://blog.ymgyt.io> ymgyt </a> | Made with <a href=https://www.getzola.org rel=noopener target=_blank>Zola</a> | <a href=https://github.com/ymgyt/blog>Repository</a> | <a href=https://blog.ymgyt.io/atom.xml target=_blank title=rss> <svg viewbox="0 0 24 24" class=icon fill=none height=24 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=24 xmlns=http://www.w3.org/2000/svg><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx=5 cy=19 r=1></circle></svg> </a></footer></div></div>