<!doctype html><html lang=ja><head><meta charset=UTF-8><meta content="width=device-width,initial-scale=1" name=viewport><link href=https://blog.ymgyt.io/favicon.ico rel=icon sizes=any><link href=https://blog.ymgyt.io/icon.svg rel=icon type=image/svg+xml><link href=https://blog.ymgyt.io/apple-touch-icon.png rel=apple-touch-icon><link href=https://blog.ymgyt.io/manifest.webmanifest rel=manifest><link href=https://blog.ymgyt.io/style.css rel=stylesheet><link href=https://blog.ymgyt.io/atom.xml rel=alternate title=Atom type=application/atom+xml><script src="https://www.googletagmanager.com/gtag/js?id=G-GTB0KMLN90" async></script><script>window.dataLayer = window.dataLayer || [];
	function gtag() {dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-GTB0KMLN90');</script><title>ğŸ¥ error-stackã‚’è©¦ã—ã¦ã¿ã‚‹ | Happy developing</title><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><body><div class=world><div class=content-container><header class=blog-header-container><div class=blog-logo><a href=https://blog.ymgyt.io>Happy developing</a></div><div class=blog-nav><nav><ul><li><a href=https://blog.ymgyt.io/entry/>Entries</a><li><a href=https://blog.ymgyt.io/tags/>Tags</a><li><a href=https://blog.ymgyt.io/about/>About</a><li><a href=https://github.com/ymgyt> <img alt=Github class=icon src=https://blog.ymgyt.io/images/icon/github.svg> </a><li><a href="https://twitter.com/YAmaguchixt "> <img alt=Twitter class=icon src=https://blog.ymgyt.io/images/icon/twitter.svg> </a></ul></nav></div></header><main class=blog-main><article><header class=entry-header><h1 class=entry-title>ğŸ¥ error-stackã‚’è©¦ã—ã¦ã¿ã‚‹</h1><div class=entry-meta><p class=entry-meta-item>ğŸ—“ 2022-07-21<p class=entry-meta-item>ğŸ· <span class=tag><a href=https://blog.ymgyt.io/tags/rust/>rust</a></span></div></header><aside class=entry-toc><nav><ul class=entry-toc-toplevel-list><li><a href=https://blog.ymgyt.io/entry/try_error_stack/#backtraces>Backtraces</a><li><a href=https://blog.ymgyt.io/entry/try_error_stack/#anyhow-eyretonohu-huan-xing>anyhow/eyreã¨ã®äº’æ›æ€§</a><li><a href=https://blog.ymgyt.io/entry/try_error_stack/#matome>ã¾ã¨ã‚</a><li><a href=https://blog.ymgyt.io/entry/try_error_stack/#changelog>CHANGELOG</a></ul></nav></aside><div class=entry-content><p>ã“ã®è¨˜äº‹ã§ã¯æœ€è¿‘(2022-06-10)<code>0.1.0</code>ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚ŒãŸ<a href=https://github.com/hashintel/hash/tree/e248d06d0b783a7d93875a7323d13e4ddd319fc9/packages/libs/error-stack rel=external><code>error-stack</code></a>ã‚’è©¦ã—ã¦ã¿ã¾ã™ã€‚<br> <a href=https://github.com/hashintel/hash/blob/d14efbc38559fc38d36e03ebdd499b44cb80c668/packages/libs/error-stack/README.md rel=external>README</a>ã«ã¯<blockquote><p>error-stack is a context-aware error-handling library that supports arbitrary attached user data.</blockquote><p>ã¨ã‚ã‚Šã€crate/moduleã§åˆ©ç”¨ã™ã‚‹ã€<code>Result</code>å‹ã‚’æä¾›ã—ã¦ãŠã‚Šã€anyhow/thiserrorã®ä»£æ›¿ã§åˆ©ç”¨ã™ã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ã€‚<br> <a href=https://github.com/hashintel/hash/tree/e248d06d0b783a7d93875a7323d13e4ddd319fc9/packages/libs/error-stack rel=external><code>error-stack</code></a>ãŒé–‹ç™ºã•ã‚ŒãŸèƒŒæ™¯ã¯<a href=https://hash.dev/blog/announcing-error-stack rel=external>Announcing error-stack</a>ã¨ã„ã†ãƒ–ãƒ­ã‚°è¨˜äº‹ã§èª¬æ˜ã•ã‚Œã¦ã„ã¾ã™ã€‚<br> è‡ªåˆ†ãŒè§¦ã£ã¦ã¿ãŸç¯„å›²ã§ã€thiserrorã¨ã®é•ã„ã¯ã€thiserrorã§ã¯ã€<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=rust><span class=giallo-l><span style=color:#5e81ac>#[derive(thiserror::</span><span style=color:#8fbcbb>Error</span><span style=color:#5e81ac>,</span><span style=color:#8fbcbb> Debug</span><span style=color:#5e81ac>)]</span></span>
<span class=giallo-l><span style=color:#81a1c1>pub enum</span><span style=color:#8fbcbb> MyError</span><span style=color:#eceff4>{</span></span>
<span class=giallo-l><span style=color:#5e81ac>    #[error("</span><span style=color:#a3be8c>io error </span><span style=color:#ebcb8b>{</span><span style=color:#a3be8c>0</span><span style=color:#ebcb8b>}</span><span style=color:#5e81ac>")]</span></span>
<span class=giallo-l><span style=color:#88c0d0>    Io</span><span style=color:#eceff4>(</span><span style=color:#5e81ac>#[from]</span><span> std</span><span style=color:#81a1c1>::</span><span>io</span><span style=color:#81a1c1>::</span><span style=color:#8fbcbb>Error</span><span style=color:#eceff4>),</span></span>
<span class=giallo-l><span style=color:#5e81ac>    #[error("</span><span style=color:#a3be8c>timeout</span><span style=color:#5e81ac>")]</span></span>
<span class=giallo-l><span style=color:#8fbcbb>    Timeout</span><span style=color:#eceff4>,</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span></code></pre><p>ã®ã‚ˆã†ã«ã€åŸå› ã¨ãªã£ãŸã‚¨ãƒ©ãƒ¼ã‚’wrapã™ã‚‹ãŸã‚ã®<code>From</code>ã‚’ç”Ÿæˆã—ã¦ã„ãã“ã¨ã§ã‚¨ãƒ©ãƒ¼ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’ä¿æŒã—ã¦ã„ãã¨ç†è§£ã—ã¦ã„ã¾ã™ã€‚<br> ä¸€æ–¹ã§<a href=https://github.com/hashintel/hash/tree/e248d06d0b783a7d93875a7323d13e4ddd319fc9/packages/libs/error-stack rel=external><code>error-stack</code></a>ã§ã¯ã€<code>Report</code>ã¨ã„ã†å‹ã‚’ä¸­å¿ƒã«ã€heapã«<code>Frame</code>ã®Stackã‚’å½¢æˆã™ã‚‹ã“ã¨ã§ã‚¨ãƒ©ãƒ¼ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’è¡¨ç¾ã—ã¦ã„ãã¾ã™ã€‚<p><code>Frame</code>ã¯<code>Context</code>ã¨<code>Attachment</code>ã‹ã‚‰ãªã‚Šã¾ã™ã€‚<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=rust><span class=giallo-l><span style=color:#81a1c1>pub enum</span><span style=color:#8fbcbb> FrameKind</span><span style=color:#eceff4>&lt;'</span><span style=color:#8fbcbb>f</span><span style=color:#eceff4>> {</span></span>
<span class=giallo-l><span style=color:#88c0d0>    Context</span><span style=color:#eceff4>(</span><span style=color:#81a1c1>&</span><span style=color:#eceff4>'</span><span style=color:#8fbcbb>f</span><span style=color:#81a1c1> dyn</span><span style=color:#8fbcbb> Context</span><span style=color:#eceff4>),</span></span>
<span class=giallo-l><span style=color:#88c0d0>    Attachment</span><span style=color:#eceff4>(</span><span style=color:#8fbcbb>AttachmentKind</span><span style=color:#eceff4>&lt;'</span><span style=color:#8fbcbb>f</span><span style=color:#eceff4>>),</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span></code></pre><p><a href=https://blog.ymgyt.io/entry/try_error_stack/%5Bhttps://docs.rs/error-stack/latest/error_stack/enum.FrameKind.html%5D>https://docs.rs/error-stack/latest/error_stack/enum.FrameKind.html</a><p><code>Context</code>ã¯traitã§<a href=https://github.com/hashintel/hash/tree/e248d06d0b783a7d93875a7323d13e4ddd319fc9/packages/libs/error-stack rel=external><code>error-stack</code></a>ã‚’åˆ©ç”¨ã™ã‚‹ãƒ¦ãƒ¼ã‚¶ã¯ã‚¨ãƒ©ãƒ¼å‹ã‚’å®šç¾©ã—ã¦ã€ã“ã®<code>Context</code>ã‚’implã—ã¾ã™ã€‚<br> <code>impl&lt;C: std::error::Error + Send + Sync + 'static> Context for C</code>ã®implãŒã‚ã‚Šã€å¤§æŠµã¯ã‚¨ãƒ©ãƒ¼å‹ã«ã€<code>std::error::Error</code>ã‚’å®Ÿè£…ã—ã¦ã‚ã‚‹ã¨æ€ã†ã®ã§åŸºæœ¬çš„ã«ã¯è¿½åŠ ã®å®Ÿè£…ã¯å¿…è¦ã‚ã‚Šã¾ã›ã‚“ã€‚<br> <code>Attachment</code>ã¯ã‚¨ãƒ©ãƒ¼ã«ä»˜ä¸ã™ã‚‹genericãªãƒ‡ãƒ¼ã‚¿å‹ã§ã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æ™‚ã«ã€<code>Report::request_ref</code>ã‚„<code>Report::request_value</code>ã§å–å¾—ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚<br> ã“ã‚Œã ã‘ã ã¨ã‚ˆãã‚ã‹ã‚‰ãªã„ã¨æ€ã†ã®ã§å…·ä½“ä¾‹ã‚’ã¿ã¦ã„ãã¾ã™ã€‚<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=rust><span class=giallo-l><span style=color:#81a1c1>use</span><span> std</span><span style=color:#81a1c1>::</span><span style=color:#eceff4>{</span><span>fmt</span><span style=color:#81a1c1>::</span><span style=color:#eceff4>{</span><span style=color:#81a1c1>self</span><span style=color:#eceff4>,</span><span style=color:#8fbcbb> Formatter</span><span style=color:#eceff4>},</span><span> path</span><span style=color:#81a1c1>::</span><span style=color:#8fbcbb>Path</span><span style=color:#eceff4>};</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#81a1c1>use</span><span> error_stack</span><span style=color:#81a1c1>::</span><span style=color:#eceff4>{</span><span style=color:#8fbcbb>Context</span><span style=color:#eceff4>,</span><span style=color:#8fbcbb> IntoReport</span><span style=color:#eceff4>,</span><span style=color:#8fbcbb> ResultExt</span><span style=color:#eceff4>};</span></span>
<span class=giallo-l><span style=color:#81a1c1>use</span><span> serde</span><span style=color:#81a1c1>::</span><span style=color:#8fbcbb>Deserialize</span><span style=color:#eceff4>;</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#5e81ac>#[derive(</span><span style=color:#8fbcbb>Debug</span><span style=color:#5e81ac>)]</span></span>
<span class=giallo-l><span style=color:#81a1c1>pub struct</span><span style=color:#8fbcbb> ParseConfigError</span><span style=color:#eceff4> {}</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#81a1c1>impl</span><span style=color:#8fbcbb> ParseConfigError</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span style=color:#81a1c1>    pub fn</span><span style=color:#88c0d0> new</span><span style=color:#eceff4>()</span><span style=color:#81a1c1> -> Self</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span style=color:#81a1c1>        Self</span><span style=color:#eceff4> {}</span></span>
<span class=giallo-l><span style=color:#eceff4>    }</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#81a1c1>impl</span><span> fmt</span><span style=color:#81a1c1>::</span><span style=color:#8fbcbb>Display</span><span style=color:#81a1c1> for</span><span style=color:#8fbcbb> ParseConfigError</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span style=color:#81a1c1>    fn</span><span style=color:#88c0d0> fmt</span><span style=color:#eceff4>(</span><span style=color:#81a1c1>&self</span><span style=color:#eceff4>,</span><span> f</span><span style=color:#81a1c1>: &mut</span><span style=color:#8fbcbb> Formatter</span><span style=color:#eceff4>&lt;'</span><span style=color:#8fbcbb>_</span><span style=color:#eceff4>>)</span><span style=color:#81a1c1> -></span><span> std</span><span style=color:#81a1c1>::</span><span>fmt</span><span style=color:#81a1c1>::</span><span style=color:#8fbcbb>Result</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>        f</span><span style=color:#81a1c1>.</span><span style=color:#88c0d0>write_str</span><span style=color:#eceff4>("</span><span style=color:#a3be8c>Could not parse configuration file</span><span style=color:#eceff4>")</span></span>
<span class=giallo-l><span style=color:#eceff4>    }</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#81a1c1>impl</span><span style=color:#8fbcbb> Context</span><span style=color:#81a1c1> for</span><span style=color:#8fbcbb> ParseConfigError</span><span style=color:#eceff4> {}</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#5e81ac>#[derive(</span><span style=color:#8fbcbb>Debug</span><span style=color:#5e81ac>,</span><span style=color:#8fbcbb> Deserialize</span><span style=color:#5e81ac>)]</span></span>
<span class=giallo-l><span style=color:#81a1c1>pub struct</span><span style=color:#8fbcbb> Config</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span style=color:#5e81ac>    #[serde(deserialize_with = "</span><span style=color:#a3be8c>provider::deserialize_provider</span><span style=color:#5e81ac>")]</span></span>
<span class=giallo-l><span style=color:#81a1c1>    pub</span><span> provider</span><span style=color:#81a1c1>:</span><span style=color:#8fbcbb> Provider</span><span style=color:#eceff4>,</span></span>
<span class=giallo-l><span style=color:#81a1c1>    pub</span><span> aws</span><span style=color:#81a1c1>:</span><span style=color:#8fbcbb> Option</span><span style=color:#eceff4>&lt;</span><span style=color:#8fbcbb>AwsConfig</span><span style=color:#eceff4>>,</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#81a1c1>impl</span><span style=color:#8fbcbb> Config</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span style=color:#81a1c1>    pub fn</span><span style=color:#88c0d0> from_path</span><span style=color:#eceff4>(</span><span>path</span><span style=color:#81a1c1>: impl</span><span style=color:#8fbcbb> AsRef</span><span style=color:#eceff4>&lt;</span><span style=color:#8fbcbb>Path</span><span style=color:#eceff4>>)</span><span style=color:#81a1c1> -></span><span> error_stack</span><span style=color:#81a1c1>::</span><span style=color:#8fbcbb>Result</span><span style=color:#eceff4>&lt;</span><span style=color:#81a1c1>Self</span><span style=color:#eceff4>,</span><span style=color:#8fbcbb> ParseConfigError</span><span style=color:#eceff4>> {</span></span>
<span class=giallo-l><span style=color:#81a1c1>        let</span><span> path</span><span style=color:#81a1c1> =</span><span> path</span><span style=color:#81a1c1>.</span><span style=color:#88c0d0>as_ref</span><span style=color:#eceff4>();</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#81a1c1>        let mut</span><span> f</span><span style=color:#81a1c1> =</span><span> std</span><span style=color:#81a1c1>::</span><span>fs</span><span style=color:#81a1c1>::</span><span style=color:#8fbcbb>File</span><span style=color:#81a1c1>::</span><span style=color:#88c0d0>open</span><span style=color:#eceff4>(</span><span>path</span><span style=color:#eceff4>)</span></span>
<span class=giallo-l><span style=color:#81a1c1>            .</span><span style=color:#88c0d0>report</span><span style=color:#eceff4>()</span></span>
<span class=giallo-l><span style=color:#81a1c1>            .</span><span style=color:#88c0d0>change_context_lazy</span><span style=color:#eceff4>(</span><span style=color:#81a1c1>||</span><span> ParseConfigError</span><span style=color:#81a1c1>::</span><span style=color:#88c0d0>new</span><span style=color:#eceff4>())</span></span>
<span class=giallo-l><span style=color:#81a1c1>            .</span><span style=color:#88c0d0>attach_printable_lazy</span><span style=color:#eceff4>(</span><span style=color:#81a1c1>||</span><span style=color:#88c0d0;font-weight:700> format!</span><span style=color:#eceff4>("</span><span style=color:#a3be8c>Could not read file </span><span style=color:#ebcb8b>{</span><span style=color:#a3be8c>path:?</span><span style=color:#ebcb8b>}</span><span style=color:#eceff4>"))</span><span style=color:#81a1c1>?</span><span style=color:#eceff4>;</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span>        serde_yaml</span><span style=color:#81a1c1>::</span><span style=color:#88c0d0>from_reader</span><span style=color:#81a1c1>::</span><span style=color:#eceff4>&lt;</span><span>_</span><span style=color:#eceff4>,</span><span style=color:#8fbcbb> Config</span><span style=color:#eceff4>>(</span><span style=color:#81a1c1>&mut</span><span> f</span><span style=color:#eceff4>)</span></span>
<span class=giallo-l><span style=color:#81a1c1>            .</span><span style=color:#88c0d0>report</span><span style=color:#eceff4>()</span></span>
<span class=giallo-l><span style=color:#81a1c1>            .</span><span style=color:#88c0d0>change_context_lazy</span><span style=color:#eceff4>(</span><span style=color:#81a1c1>||</span><span> ParseConfigError</span><span style=color:#81a1c1>::</span><span style=color:#88c0d0>new</span><span style=color:#eceff4>())</span></span>
<span class=giallo-l><span style=color:#81a1c1>            .</span><span style=color:#88c0d0>attach_printable_lazy</span><span style=color:#eceff4>(</span><span style=color:#81a1c1>||</span><span style=color:#88c0d0;font-weight:700> format!</span><span style=color:#eceff4>("</span><span style=color:#a3be8c>Could not deserialize file </span><span style=color:#ebcb8b>{</span><span style=color:#a3be8c>path:?</span><span style=color:#ebcb8b>}</span><span style=color:#eceff4>"))</span></span>
<span class=giallo-l><span style=color:#eceff4>    }</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span></code></pre><p>ã“ã“ã§ã¯ã€yamlã§æ›¸ã‹ã‚ŒãŸè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¸ãˆã‚‰ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã‹ã‚‰å–å¾—ã™ã‚‹å‡¦ç†ã‚’ã¿ã¦ã„ãã¾ã™ã€‚<br> ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã—ãªã‹ã£ãŸã‚Šãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ã®é–¢ä¿‚ã§èª­ã‚ãªã„ã¨<code>std::io::Error</code>ãŒè¿”ã‚Šã¾ã™ãŒã€ãªã«ã‚‚ã—ãªã„ã¨å¼•æ•°ã®ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã¯ä¿æŒã•ã‚Œãªã„ã®ã§ã€ã‚¨ãƒ©ãƒ¼ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚„è¿½åŠ æƒ…å ±ã‚’ä»˜ä¸ã—ãŸã„å…¸å‹ä¾‹ã ã¨æ€ã„ã¾ã™ã€‚<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=rust><span class=giallo-l><span style=color:#81a1c1>pub fn</span><span style=color:#88c0d0> from_path</span><span style=color:#eceff4>(</span><span>path</span><span style=color:#81a1c1>: impl</span><span style=color:#8fbcbb> AsRef</span><span style=color:#eceff4>&lt;</span><span style=color:#8fbcbb>Path</span><span style=color:#eceff4>>)</span><span style=color:#81a1c1> -></span><span> error_stack</span><span style=color:#81a1c1>::</span><span style=color:#8fbcbb>Result</span><span style=color:#eceff4>&lt;</span><span style=color:#81a1c1>Self</span><span style=color:#eceff4>,</span><span style=color:#8fbcbb> ParseConfigError</span><span style=color:#eceff4>> {}</span></span></code></pre><p>ã¾ãšã€æˆ»ã‚Šå€¤ã®å‹ã¨ã—ã¦ã€<code>error_stack::Result</code>ã‚’åˆ©ç”¨ã—ã¦ã„ã¾ã™ã€‚<br> ã“ã‚Œã¯<code>pub type Result&lt;T, C> = Result&lt;T, Report&lt;C>></code>ã®aliasã§ã€ãƒ¦ãƒ¼ã‚¶ãŒå®šç¾©ã—ãŸã‚¨ãƒ©ãƒ¼(<code>ParseConfigError</code>)ã‚’<code>Report</code>ã§wrapã—ã¦å–ã‚Šå›ã™ã®ãŒåŸºæœ¬ã«ãªã‚Šã¾ã™ã€‚<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=rust><span class=giallo-l><span style=color:#81a1c1>let mut</span><span> f</span><span style=color:#81a1c1> =</span><span> std</span><span style=color:#81a1c1>::</span><span>fs</span><span style=color:#81a1c1>::</span><span style=color:#8fbcbb>File</span><span style=color:#81a1c1>::</span><span style=color:#88c0d0>open</span><span style=color:#eceff4>(</span><span>path</span><span style=color:#eceff4>)</span><span style=color:#616e88>                 // Result&lt;File,io::Error></span></span>
<span class=giallo-l><span style=color:#81a1c1>    .</span><span style=color:#88c0d0>report</span><span style=color:#eceff4>()</span><span style=color:#616e88>                                         // Result&lt;File, Report&lt;io::Error>></span></span>
<span class=giallo-l><span style=color:#81a1c1>    .</span><span style=color:#88c0d0>change_context_lazy</span><span style=color:#eceff4>(</span><span style=color:#81a1c1>||</span><span> ParseConfigError</span><span style=color:#81a1c1>::</span><span style=color:#88c0d0>new</span><span style=color:#eceff4>())</span><span style=color:#616e88>  // Result&lt;File, Report&lt;ParseConfigError>></span></span>
<span class=giallo-l><span style=color:#81a1c1>    .</span><span style=color:#88c0d0>attach_printable_lazy</span><span style=color:#eceff4>(</span><span style=color:#81a1c1>||</span><span style=color:#88c0d0;font-weight:700> format!</span><span style=color:#eceff4>("</span><span style=color:#a3be8c>Could not read file </span><span style=color:#ebcb8b>{</span><span style=color:#a3be8c>path:?</span><span style=color:#ebcb8b>}</span><span style=color:#eceff4>"))</span><span style=color:#81a1c1>?</span><span style=color:#eceff4>;</span></span></code></pre><p><a href=https://docs.rs/error-stack/latest/error_stack/trait.IntoReport.html rel=external><code>IntoReport</code></a>ã‚’useã—ã¦ãŠãã¨ã€<code>report</code>ãŒåˆ©ç”¨ã§ãã€<code>Result&lt;T,E></code>ã‹ã‚‰<code>Result&lt;T, Report&lt;E>></code>ã®å¤‰æ›ãŒåˆ©ç”¨ã§ãã¾ã™ã€‚ <code>Context</code>ã¯ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ã‚¨ãƒ©ãƒ¼ã¨ã„ã†ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã€åŸºæœ¬çš„ã«å„å‡¦ç†ã§ã€contextã¨ãªã‚‹ã‚¨ãƒ©ãƒ¼ã‚’å®šç¾©ã—ã¦æ˜ç¤ºçš„<code>change_context</code>ã§å¤‰æ›ã™ã‚‹ã“ã¨ãŒè¦æ±‚ã•ã‚Œã¾ã™ã€‚<br> <code>attach_printable_lazy</code>ã§contextã®ã‚¨ãƒ©ãƒ¼ã«ã‚¨ãƒ©ãƒ¼æ™‚ã®æƒ…å ±ã‚’ä»˜ä¸ã—ã¦ã„ã¾ã™ã€‚<p>ç™ºç”Ÿã—ãŸerrorã¯<code>tracing::error!</code>ã§debugå‡ºåŠ›ã™ã‚‹ã¨ã—ã¾ã™ã€‚<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=rust><span class=giallo-l><span style=color:#81a1c1>let</span><span> config</span><span style=color:#81a1c1> = match</span><span> kubeprovision</span><span style=color:#81a1c1>::</span><span style=color:#8fbcbb>Config</span><span style=color:#81a1c1>::</span><span style=color:#88c0d0>from_path</span><span style=color:#eceff4>(</span><span>cli</span><span style=color:#81a1c1>.</span><span>config</span><span style=color:#81a1c1>.</span><span style=color:#88c0d0>as_path</span><span style=color:#eceff4>())</span></span>
<span class=giallo-l><span style=color:#81a1c1>    .</span><span style=color:#88c0d0>attach_printable</span><span style=color:#eceff4>(</span><span style=color:#88c0d0;font-weight:700>format!</span><span style=color:#eceff4>("</span><span style=color:#a3be8c>Loading configuration file </span><span style=color:#ebcb8b>{</span><span style=color:#a3be8c>cli:?</span><span style=color:#ebcb8b>}</span><span style=color:#eceff4>"))</span></span>
<span class=giallo-l><span style=color:#eceff4>{</span></span>
<span class=giallo-l><span style=color:#8fbcbb>    Ok</span><span style=color:#eceff4>(</span><span>config</span><span style=color:#eceff4>)</span><span style=color:#81a1c1> =></span><span> config</span><span style=color:#eceff4>,</span></span>
<span class=giallo-l><span style=color:#8fbcbb>    Err</span><span style=color:#eceff4>(</span><span>report</span><span style=color:#eceff4>)</span><span style=color:#81a1c1> =></span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span>        tracing</span><span style=color:#81a1c1>::</span><span style=color:#88c0d0;font-weight:700>error!</span><span style=color:#eceff4>("</span><span style=color:#ebcb8b>{</span><span style=color:#a3be8c>report:?</span><span style=color:#ebcb8b>}</span><span style=color:#eceff4>");</span></span>
<span class=giallo-l><span style=color:#81a1c1>        return</span><span style=color:#8fbcbb> Ok</span><span style=color:#eceff4>(());</span></span>
<span class=giallo-l><span style=color:#eceff4>    }</span></span>
<span class=giallo-l><span style=color:#eceff4>};</span></span>
<span class=giallo-l><span style=color:#616e88>// ...</span></span></code></pre><p>å¼•æ•°ã®fileãŒå­˜åœ¨ã—ãªã„å ´åˆã€‚<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=shellscript><span class=giallo-l><span style=color:#88c0d0>2022-07-20T17:04:24.685595Z</span><span style=color:#a3be8c> ERROR src/main.rs:17: Could not parse configuration file</span></span>
<span class=giallo-l><span style=color:#88c0d0>             at</span><span style=color:#a3be8c> /Users/ymgyt/ymgyt.io/kubeprovision/src/config.rs:47:14</span></span>
<span class=giallo-l><span style=color:#88c0d0>      -</span><span style=color:#a3be8c> Loading configuration file Cli { config:</span><span style=color:#eceff4> "</span><span style=color:#a3be8c>not_exists</span><span style=color:#eceff4>"</span><span style=color:#a3be8c>, command: Status }</span></span>
<span class=giallo-l><span style=color:#88c0d0>      -</span><span style=color:#a3be8c> Could not read file</span><span style=color:#eceff4> "</span><span style=color:#a3be8c>not_exists</span><span style=color:#eceff4>"</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#88c0d0>Caused</span><span style=color:#a3be8c> by:</span></span>
<span class=giallo-l><span style=color:#88c0d0>   0:</span><span style=color:#a3be8c> No such file or directory</span><span> (os</span><span style=color:#a3be8c> error</span><span style=color:#b48ead> 2</span><span>)</span></span>
<span class=giallo-l><span style=color:#88c0d0>             at</span><span style=color:#a3be8c> /Users/ymgyt/ymgyt.io/kubeprovision/src/config.rs:46:14</span></span></code></pre><p>å¼•æ•°ã®fileã®yamlãŒä¸æ­£ãªå ´åˆã€‚<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=shellscript><span class=giallo-l><span style=color:#88c0d0>2022-07-20T17:08:10.639151Z</span><span style=color:#a3be8c> ERROR src/main.rs:17: Could not parse configuration file</span></span>
<span class=giallo-l><span style=color:#88c0d0>             at</span><span style=color:#a3be8c> /Users/ymgyt/ymgyt.io/kubeprovision/src/config.rs:52:14</span></span>
<span class=giallo-l><span style=color:#88c0d0>      -</span><span style=color:#a3be8c> Loading configuration file Cli { config:</span><span style=color:#eceff4> "</span><span style=color:#a3be8c>/tmp/hello.txt</span><span style=color:#eceff4>"</span><span style=color:#a3be8c>, command: Status }</span></span>
<span class=giallo-l><span style=color:#88c0d0>      -</span><span style=color:#a3be8c> Could not deserialize file</span><span style=color:#eceff4> "</span><span style=color:#a3be8c>/tmp/hello.txt</span><span style=color:#eceff4>"</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#88c0d0>Caused</span><span style=color:#a3be8c> by:</span></span>
<span class=giallo-l><span style=color:#88c0d0>   0:</span><span style=color:#a3be8c> invalid type: string</span><span style=color:#eceff4> "</span><span style=color:#a3be8c>hogeeeeeeeee</span><span style=color:#eceff4>"</span><span style=color:#a3be8c>, expected struct Config at line</span><span style=color:#b48ead> 1</span><span style=color:#a3be8c> column</span><span style=color:#b48ead> 1</span></span>
<span class=giallo-l><span style=color:#88c0d0>             at</span><span style=color:#a3be8c> /Users/ymgyt/ymgyt.io/kubeprovision/src/config.rs:51:14</span></span></code></pre><p>ã¨ãªã‚Šã€å¼•æ•°ã®file pathã¨åŸå› ãŒè¡¨ç¤ºã§ããŸã‹ã¨æ€ã„ã¾ã™ã€‚<h2 id=backtraces><a aria-label="Anchor link for: backtraces" class=zola-anchor href=#backtraces>Backtraces</a></h2><p><a href=https://doc.rust-lang.org/nightly/std/backtrace/struct.Backtrace.html rel=external><code>Backtraces</code></a>ã«ã¤ã„ã¦ã¯announcingã®è¨˜äº‹ã§ã¯ã€thiserrorã§ã¯ã€å¸¸ã«<code>RUST_BACKTRACE=1</code>ãŒå¿…è¦ã«ãªã£ã¦ã—ã¾ã†ã®ãŒissueã¨ã—ã¦è¿°ã¹ã‚‰ã‚Œã¦ã„ãŸã®ã§ã™ãŒã€<a href=https://github.com/hashintel/hash/tree/e248d06d0b783a7d93875a7323d13e4ddd319fc9/packages/libs/error-stack rel=external><code>error-stack</code></a>ã§åˆ©ç”¨ã™ã‚‹å ´åˆã§ã‚‚ã€<code>RUST_LIB_BACKTRACE=1</code>ã®ã‚ˆã†ãªç’°å¢ƒå¤‰æ•°ã®æŒ‡å®šã¯å¿…è¦ã§ã—ãŸã€‚<br> <a href=https://blog.ymgyt.io/entry/try_error_stack/%5Bhttps://github.com/hashintel/hash/blob/main/packages/libs/error-stack/tests/test_backtrace.rs#L13%5D>https://github.com/hashintel/hash/blob/main/packages/libs/error-stack/tests/test_backtrace.rs#L13</a><p>ä¸Šè¨˜ã®å‡¦ç†ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«<code>RUST_LIB_BACKTRACE=1 cargo +nightly</code>ã§å®Ÿè¡Œã™ã‚‹ã¨backtraceãŒå–å¾—ã§ãã¾ã™ã€‚<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=shellscript><span class=giallo-l><span style=color:#88c0d0>â¯</span><span style=color:#a3be8c> RUST_LIB_BACKTRACE=</span><span style=color:#b48ead>1</span><span style=color:#a3be8c> cargo +nightly run --quiet -- --config /tmp/hello.txt status</span></span>
<span class=giallo-l><span style=color:#88c0d0>2022-07-20T17:18:43.109086Z</span><span style=color:#a3be8c> ERROR src/main.rs:17: Could not parse configuration file</span></span>
<span class=giallo-l><span style=color:#88c0d0>at</span><span style=color:#a3be8c> /Users/ymgyt/ymgyt.io/kubeprovision/src/config.rs:52:14</span></span>
<span class=giallo-l><span style=color:#88c0d0>-</span><span style=color:#a3be8c> Loading configuration file Cli { config:</span><span style=color:#eceff4> "</span><span style=color:#a3be8c>/tmp/hello.txt</span><span style=color:#eceff4>"</span><span style=color:#a3be8c>, command: Status }</span></span>
<span class=giallo-l><span style=color:#88c0d0>-</span><span style=color:#a3be8c> Could not deserialize file</span><span style=color:#eceff4> "</span><span style=color:#a3be8c>/tmp/hello.txt</span><span style=color:#eceff4>"</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#88c0d0>Caused</span><span style=color:#a3be8c> by:</span></span>
<span class=giallo-l><span style=color:#88c0d0>0:</span><span style=color:#a3be8c> invalid type: string</span><span style=color:#eceff4> "</span><span style=color:#a3be8c>hogeeeeeeeee</span><span style=color:#eceff4>"</span><span style=color:#a3be8c>, expected struct Config at line</span><span style=color:#b48ead> 1</span><span style=color:#a3be8c> column</span><span style=color:#b48ead> 1</span></span>
<span class=giallo-l><span style=color:#88c0d0>at</span><span style=color:#a3be8c> /Users/ymgyt/ymgyt.io/kubeprovision/src/config.rs:51:14</span></span>
<span class=giallo-l></span>
<span class=giallo-l><span style=color:#88c0d0>Stack</span><span style=color:#a3be8c> backtrace:</span></span>
<span class=giallo-l><span style=color:#88c0d0>0:</span><span style=color:#a3be8c> std::backtrace_rs::backtrace::libunwind::trace</span></span>
<span class=giallo-l><span style=color:#88c0d0>    at</span><span style=color:#a3be8c> /rustc/9a7b7d5e50ab0b59c6d349bbf005680a7c880e98/library/std/src/../../backtrace/src/backtrace/mod.rs:66:5</span></span>
<span class=giallo-l><span style=color:#88c0d0>1:</span><span style=color:#a3be8c> std::backtrace_rs::backtrace::trace_unsynchronized</span></span>
<span class=giallo-l><span style=color:#88c0d0>    at</span><span style=color:#a3be8c> /rustc/9a7b7d5e50ab0b59c6d349bbf005680a7c880e98/library/std/src/../../backtrace/src/backtrace/mod.rs:66:5</span></span>
<span class=giallo-l><span style=color:#88c0d0>2:</span><span style=color:#a3be8c> std::backtrace::Backtrace::create</span></span>
<span class=giallo-l><span style=color:#88c0d0>    at</span><span style=color:#a3be8c> /rustc/9a7b7d5e50ab0b59c6d349bbf005680a7c880e98/library/std/src/backtrace.rs:328:13</span></span>
<span class=giallo-l><span style=color:#88c0d0>3:</span><span style=color:#a3be8c> error_stack::report::Report</span><span style=color:#81a1c1>&lt;</span><span>C</span><span style=color:#81a1c1>></span><span style=color:#a3be8c>::new</span></span>
<span class=giallo-l><span style=color:#88c0d0>    at</span><span style=color:#a3be8c> /Users/ymgyt/.cargo/registry/src/github.com-1ecc6299db9ec823/error-stack-0.1.1/src/report.rs:189:18</span></span>
<span class=giallo-l><span style=color:#88c0d0>4:</span><span style=color:#a3be8c> error_stack::context::</span><span style=color:#81a1c1>&lt;</span><span style=color:#a3be8c>impl core::convert::From</span><span style=color:#81a1c1>&lt;</span><span>C</span><span style=color:#81a1c1>></span><span style=color:#a3be8c> for error_stack::report::Report</span><span style=color:#81a1c1>&lt;</span><span>C</span><span style=color:#81a1c1>>></span><span style=color:#a3be8c>::from</span></span>
<span class=giallo-l><span style=color:#88c0d0>    at</span><span style=color:#a3be8c> /Users/ymgyt/.cargo/registry/src/github.com-1ecc6299db9ec823/error-stack-0.1.1/src/context.rs:82:9</span></span>
<span class=giallo-l><span style=color:#88c0d0>5:</span><span style=color:#81a1c1> &lt;</span><span style=color:#a3be8c>core::result::Result</span><span style=color:#81a1c1>&lt;</span><span style=color:#a3be8c>T,</span><span>E</span><span style=color:#81a1c1>></span><span style=color:#a3be8c> as error_stack::ext::result::IntoRepor</span><span>t</span><span style=color:#81a1c1>></span><span style=color:#a3be8c>::report</span></span>
<span class=giallo-l><span style=color:#88c0d0>    at</span><span style=color:#a3be8c> /Users/ymgyt/.cargo/registry/src/github.com-1ecc6299db9ec823/error-stack-0.1.1/src/ext/result.rs:203:31</span></span>
<span class=giallo-l><span style=color:#88c0d0>6:</span><span style=color:#a3be8c> kubeprovision::config::Config::from_path</span></span>
<span class=giallo-l><span style=color:#88c0d0>    at</span><span style=color:#a3be8c> ./src/config.rs:50:9</span></span>
<span class=giallo-l><span style=color:#88c0d0>7:</span><span style=color:#a3be8c> kubeprovision::main::{{closure}}</span></span>
<span class=giallo-l><span style=color:#88c0d0>    at</span><span style=color:#a3be8c> ./src/main.rs:12:24</span></span>
<span class=giallo-l><span style=color:#88c0d0>8:</span><span style=color:#81a1c1> &lt;</span><span style=color:#a3be8c>core::future::from_generator::GenFuture</span><span style=color:#81a1c1>&lt;</span><span>T</span><span style=color:#81a1c1>></span><span style=color:#a3be8c> as core::future::future::Futur</span><span>e</span><span style=color:#81a1c1>></span><span style=color:#a3be8c>::poll</span></span>
<span class=giallo-l><span style=color:#88c0d0>    at</span><span style=color:#a3be8c> /rustc/9a7b7d5e50ab0b59c6d349bbf005680a7c880e98/library/core/src/future/mod.rs:91:19</span></span>
<span class=giallo-l><span style=color:#88c0d0>9:</span><span style=color:#a3be8c> tokio::park::thread::CachedParkThread::block_on::{{closure}}</span></span>
<span class=giallo-l><span style=color:#88c0d0>    at</span><span style=color:#a3be8c> /Users/ymgyt/.cargo/registry/src/github.com-1ecc6299db9ec823/tokio-1.16.1/src/park/thread.rs:263:54</span></span>
<span class=giallo-l><span style=color:#88c0d0>10:</span><span style=color:#a3be8c> tokio::coop::with_budget::{{closure}}</span></span>
<span class=giallo-l><span style=color:#88c0d0>    at</span><span style=color:#a3be8c> /Users/ymgyt/.cargo/registry/src/github.com-1ecc6299db9ec823/tokio-1.16.1/src/coop.rs:102:9</span></span>
<span class=giallo-l><span style=color:#88c0d0>11:</span><span style=color:#a3be8c> std::thread::local::LocalKey</span><span style=color:#81a1c1>&lt;</span><span>T</span><span style=color:#81a1c1>></span><span style=color:#a3be8c>::try_with</span></span>
<span class=giallo-l><span style=color:#88c0d0>    at</span><span style=color:#a3be8c> /rustc/9a7b7d5e50ab0b59c6d349bbf005680a7c880e98/library/std/src/thread/local.rs:445:16</span></span>
<span class=giallo-l><span style=color:#88c0d0>12:</span><span style=color:#a3be8c> std::thread::local::LocalKey</span><span style=color:#81a1c1>&lt;</span><span>T</span><span style=color:#81a1c1>></span><span style=color:#a3be8c>::with</span></span>
<span class=giallo-l><span style=color:#88c0d0>    at</span><span style=color:#a3be8c> /rustc/9a7b7d5e50ab0b59c6d349bbf005680a7c880e98/library/std/src/thread/local.rs:421:9</span></span>
<span class=giallo-l><span style=color:#88c0d0>13:</span><span style=color:#a3be8c> tokio::coop::with_budget</span></span>
<span class=giallo-l><span style=color:#88c0d0>    at</span><span style=color:#a3be8c> /Users/ymgyt/.cargo/registry/src/github.com-1ecc6299db9ec823/tokio-1.16.1/src/coop.rs:95:5</span></span>
<span class=giallo-l><span style=color:#88c0d0>14:</span><span style=color:#a3be8c> tokio::coop::budget</span></span>
<span class=giallo-l><span style=color:#88c0d0>    at</span><span style=color:#a3be8c> /Users/ymgyt/.cargo/registry/src/github.com-1ecc6299db9ec823/tokio-1.16.1/src/coop.rs:72:5</span></span>
<span class=giallo-l><span style=color:#88c0d0>15:</span><span style=color:#a3be8c> tokio::park::thread::CachedParkThread::block_on</span></span>
<span class=giallo-l><span style=color:#88c0d0>    at</span><span style=color:#a3be8c> /Users/ymgyt/.cargo/registry/src/github.com-1ecc6299db9ec823/tokio-1.16.1/src/park/thread.rs:263:31</span></span>
<span class=giallo-l><span style=color:#88c0d0>16:</span><span style=color:#a3be8c> tokio::runtime::enter::Enter::block_on</span></span>
<span class=giallo-l><span style=color:#88c0d0>    at</span><span style=color:#a3be8c> /Users/ymgyt/.cargo/registry/src/github.com-1ecc6299db9ec823/tokio-1.16.1/src/runtime/enter.rs:151:13</span></span>
<span class=giallo-l><span style=color:#88c0d0>17:</span><span style=color:#a3be8c> tokio::runtime::thread_pool::ThreadPool::block_on</span></span>
<span class=giallo-l><span style=color:#88c0d0>    at</span><span style=color:#a3be8c> /Users/ymgyt/.cargo/registry/src/github.com-1ecc6299db9ec823/tokio-1.16.1/src/runtime/thread_pool/mod.rs:73:9</span></span>
<span class=giallo-l><span style=color:#88c0d0>18:</span><span style=color:#a3be8c> tokio::runtime::Runtime::block_on</span></span>
<span class=giallo-l><span style=color:#88c0d0>    at</span><span style=color:#a3be8c> /Users/ymgyt/.cargo/registry/src/github.com-1ecc6299db9ec823/tokio-1.16.1/src/runtime/mod.rs:477:43</span></span>
<span class=giallo-l><span style=color:#88c0d0>19:</span><span style=color:#a3be8c> kubeprovision::main</span></span>
<span class=giallo-l><span style=color:#88c0d0>    at</span><span style=color:#a3be8c> ./src/main.rs:22:5</span></span>
<span class=giallo-l><span style=color:#88c0d0>//</span><span style=color:#a3be8c> ...</span></span></code></pre><p>Backtraceã¯<a href=https://github.com/hashintel/hash/tree/e248d06d0b783a7d93875a7323d13e4ddd319fc9/packages/libs/error-stack rel=external><code>error-stack</code></a>å´ãŒ<code>cfg(all(nightly, feature= "std"))</code>ã§ç®¡ç†ã—ã¦ã„ã‚‹ã®ã§ã€ãƒ¦ãƒ¼ã‚¶å´ã§å®šç¾©ã™ã‚‹ã“ã¨ã¯ä¸è¦ã§ã™ã€‚<pre class=giallo style=color:#d8dee9;background-color:#2e3440><code data-lang=rust><span class=giallo-l><span style=color:#81a1c1>pub struct</span><span style=color:#8fbcbb> ReportImpl</span><span style=color:#eceff4> {</span></span>
<span class=giallo-l><span style=color:#81a1c1>    pub</span><span style=color:#eceff4>(</span><span style=color:#81a1c1>super</span><span style=color:#eceff4>)</span><span> frame</span><span style=color:#81a1c1>:</span><span style=color:#8fbcbb> Frame</span><span style=color:#eceff4>,</span></span>
<span class=giallo-l><span style=color:#5e81ac>    #[cfg(all(nightly, feature = "</span><span style=color:#a3be8c>std</span><span style=color:#5e81ac>"))]</span></span>
<span class=giallo-l><span>    backtrace</span><span style=color:#81a1c1>:</span><span style=color:#8fbcbb> Option</span><span style=color:#eceff4>&lt;</span><span style=color:#8fbcbb>Backtrace</span><span style=color:#eceff4>>,</span></span>
<span class=giallo-l><span style=color:#5e81ac>    #[cfg(feature = "</span><span style=color:#a3be8c>spantrace</span><span style=color:#5e81ac>")]</span></span>
<span class=giallo-l><span>    span_trace</span><span style=color:#81a1c1>:</span><span style=color:#8fbcbb> Option</span><span style=color:#eceff4>&lt;</span><span style=color:#8fbcbb>SpanTrace</span><span style=color:#eceff4>>,</span></span>
<span class=giallo-l><span style=color:#eceff4>}</span></span></code></pre><h2 id=anyhow-eyretonohu-huan-xing><a aria-label="Anchor link for: anyhow-eyretonohu-huan-xing" class=zola-anchor href=#anyhow-eyretonohu-huan-xing>anyhow/eyreã¨ã®äº’æ›æ€§</a></h2><p>ã¾ãŸã€<code>0.1.1</code>ã§ã¯anyhowã‚„eyreã¨ã®äº’æ›å‡¦ç†ã‚‚è¿½åŠ ã•ã‚Œã¦ãŠã‚Šã€æ®µéšçš„ã«ç§»è¡Œã—ã¦ã„ãã“ã¨ã‚‚ã§ããã†ã§ã™ã€‚<h2 id=matome><a aria-label="Anchor link for: matome" class=zola-anchor href=#matome>ã¾ã¨ã‚</a></h2><p>ç°¡å˜ã«ã§ã™ãŒã€<a href=https://github.com/hashintel/hash/tree/e248d06d0b783a7d93875a7323d13e4ddd319fc9/packages/libs/error-stack rel=external><code>error-stack</code></a>ã‚’åˆ©ç”¨ã—ã¦ã¿ã¾ã—ãŸã€‚<br> thiserrorã§crate/moduleå˜ä½ã§ã‚¨ãƒ©ãƒ¼ã‚’åˆ‡ã£ã¦ã„ããªã‹ã§ã€è¿½åŠ ã®ã‚¨ãƒ©ãƒ¼æƒ…å ±ã‚’ä»˜ä¸ã—ãŸããªã£ãŸéš›ã®é¸æŠè‚¢ã«ãªã‚‹ã®ã§ã¯ã¨è€ƒãˆã¦ãŠã‚Šã¾ã™ã€‚<br> ã¾ã ã¾ã è§¦ã‚Œã‚‰ã‚Œã¦ã„ãªã„æ©Ÿèƒ½ã‚‚ã‚ã‚‹ã®ã§ã€ã‚‚ã†å°‘ã—ä½¿ã£ã¦ã¿ã¦ã‚½ãƒ¼ã‚¹ã‚’èª­ã‚“ã§ã¿ãŸã„ã¨æ€ã£ã¦ã„ã¾ã™ã€‚<h2 id=changelog><a aria-label="Anchor link for: changelog" class=zola-anchor href=#changelog>CHANGELOG</a></h2><ul><li>2023-02-14: <code>https://github.com/hashintel/hash/tree/main/packages/libs/error-stack/src/compat</code>ã¸ã®linkã‚’å‰Šé™¤</ul></div></article></main><footer class=blog-footer><p>Â© 2026 <a href=https://blog.ymgyt.io> ymgyt </a> | Made with <a href=https://www.getzola.org rel=noopener target=_blank>Zola</a> | <a href=https://github.com/ymgyt/blog>Repository</a> | <a href=https://blog.ymgyt.io/atom.xml target=_blank title=rss> <svg viewbox="0 0 24 24" class=icon fill=none height=24 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=24 xmlns=http://www.w3.org/2000/svg><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx=5 cy=19 r=1></circle></svg> </a></footer></div></div>