<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="ja">
    <title>Happy developing - book</title>
    <subtitle>æ¥½ã—ã„é–‹ç™ºãƒ©ã‚¤ãƒ•</subtitle>
    <link href="https://blog.ymgyt.io/tags/book/atom.xml" rel="self" type="application/atom+xml"/>
    <link href="https://blog.ymgyt.io/entry/"/>
    <author><name>ymgyt</name></author>
    <generator uri="https://www.getzola.org/">Zola</generator>
    <updated>2026-02-24T00:00:00+00:00</updated>
    <id>https://blog.ymgyt.io/tags/book/atom.xml</id>
    <entry xml:lang="ja">
        <title>ğŸ§ Linuxãƒ‡ãƒã‚¤ã‚¹ãƒ‰ãƒ©ã‚¤ãƒãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚’èª­ã‚“ã æ„Ÿæƒ³</title>
        <published>2026-02-24T00:00:00+00:00</published>
        <updated>2026-02-24T00:00:00+00:00</updated>
        <author>
          <name>ymgyt</name>
        </author>
        <link rel="alternate" href="https://blog.ymgyt.io/entry/linux-device-driver-programming-book/" type="text/html"/>
        <id>https://blog.ymgyt.io/entry/linux-device-driver-programming-book/</id>
        
        <summary type="html">kernelã®samples&#x2F;rust&#x2F;rust_driver_*.rsã‚’èª­ã‚ã‚‹ã‚ˆã†ã«ãªã‚ŠãŸã„</summary>
        
    </entry>
    <entry xml:lang="ja">
        <title>âš™ï¸ Ironies of Automationã‚’èª­ã‚“ã æ„Ÿæƒ³</title>
        <published>2024-09-28T00:00:00+00:00</published>
        <updated>2024-09-28T00:00:00+00:00</updated>
        <author>
          <name>ymgyt</name>
        </author>
        <link rel="alternate" href="https://blog.ymgyt.io/entry/ironies-of-automation/" type="text/html"/>
        <id>https://blog.ymgyt.io/entry/ironies-of-automation/</id>
        
        <summary type="html">è‡ªå‹•åŒ–ã™ã‚‹ã»ã©ã¤ã‚‰ã„ã¨ã“ã‚ã ã‘äººã«æ®‹ã•ã‚Œã¦é€†ã«å¤§å¤‰ã«ãªã‚‹</summary>
        
    </entry>
    <entry xml:lang="ja">
        <title>ğŸ“— ãªãœä¾å­˜ã‚’æ³¨å…¥ã™ã‚‹ã®ã‹ DIã®åŸç†ãƒ»åŸå‰‡ã¨ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’èª­ã‚“ã æ„Ÿæƒ³</title>
        <published>2024-09-14T00:00:00+00:00</published>
        <updated>2024-09-14T00:00:00+00:00</updated>
        <author>
          <name>ymgyt</name>
        </author>
        <link rel="alternate" href="https://blog.ymgyt.io/entry/dependency-injection/" type="text/html"/>
        <id>https://blog.ymgyt.io/entry/dependency-injection/</id>
        
        <summary type="html">DIã¨ã„ã†è¦³ç‚¹ã‹ã‚‰ã‚³ãƒ¼ãƒ‰ã®è¨­è¨ˆã‚’è€ƒãˆã‚‹æœ¬</summary>
        
    </entry>
    <entry xml:lang="ja">
        <title>ğŸ“— Write Powerful Rust Macrosã‚’èª­ã‚“ã æ„Ÿæƒ³</title>
        <published>2024-07-15T00:00:00+00:00</published>
        <updated>2024-07-15T00:00:00+00:00</updated>
        <author>
          <name>ymgyt</name>
        </author>
        <link rel="alternate" href="https://blog.ymgyt.io/entry/write-powerful-rust-macros/" type="text/html"/>
        <id>https://blog.ymgyt.io/entry/write-powerful-rust-macros/</id>
        
        <summary type="html">ä¸€å†Šã¾ã‚‹ã”ã¨Macroã«ã¤ã„ã¦ã®æœ¬</summary>
        
    </entry>
    <entry xml:lang="ja">
        <title>ğŸ“— OSSãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã‚’æ­£ã—ãç†è§£ã™ã‚‹ãŸã‚ã®æœ¬ã‚’èª­ã‚“ã æ„Ÿæƒ³</title>
        <published>2024-05-17T00:00:00+00:00</published>
        <updated>2024-05-17T00:00:00+00:00</updated>
        <author>
          <name>ymgyt</name>
        </author>
        <link rel="alternate" href="https://blog.ymgyt.io/entry/understand-the-open-source-software-license-correctly/" type="text/html"/>
        <id>https://blog.ymgyt.io/entry/understand-the-open-source-software-license-correctly/</id>
        
        <summary type="html">OSSãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã¨è‘—ä½œæ¨©ã®é–¢ä¿‚</summary>
        
    </entry>
    <entry xml:lang="ja">
        <title>ğŸ“— Learning OpenTelemetryã‚’èª­ã‚“ã æ„Ÿæƒ³</title>
        <published>2024-03-29T00:00:00+00:00</published>
        <updated>2024-03-29T00:00:00+00:00</updated>
        <author>
          <name>ymgyt</name>
        </author>
        <link rel="alternate" href="https://blog.ymgyt.io/entry/learning-opentelemetry/" type="text/html"/>
        <id>https://blog.ymgyt.io/entry/learning-opentelemetry/</id>
        
        <summary type="html">Observability is a commitment</summary>
        
    </entry>
    <entry xml:lang="ja">
        <title>ğŸ“• Asynchronous Programming in Rustã‚’èª­ã‚“ã æ„Ÿæƒ³</title>
        <published>2024-03-14T00:00:00+00:00</published>
        <updated>2024-03-14T00:00:00+00:00</updated>
        <author>
          <name>ymgyt</name>
        </author>
        <link rel="alternate" href="https://blog.ymgyt.io/entry/asynchronous-programming-in-rust/" type="text/html"/>
        <id>https://blog.ymgyt.io/entry/asynchronous-programming-in-rust/</id>
        
        <summary type="html">CF Samsonå…ˆç”Ÿã®Futureè§£èª¬ãŒã¤ã„ã«æœ¬ã«ãªã£ãŸ</summary>
        
    </entry>
    <entry xml:lang="ja">
        <title>ğŸ“• è©³è§£ Rustã‚¢ãƒˆãƒŸãƒƒã‚¯æ“ä½œã¨ãƒ­ãƒƒã‚¯ã‚’èª­ã‚“ã æ„Ÿæƒ³</title>
        <published>2023-11-28T00:00:00+00:00</published>
        <updated>2023-11-28T00:00:00+00:00</updated>
        <author>
          <name>ymgyt</name>
        </author>
        <link rel="alternate" href="https://blog.ymgyt.io/entry/rust-atomics-and-locks-ja/" type="text/html"/>
        <id>https://blog.ymgyt.io/entry/rust-atomics-and-locks-ja/</id>
        
        <summary type="html">std::sync::atomic::{Ordering,fence}ãŒã‚ã‹ã‚‹æœ¬</summary>
        
    </entry>
    <entry xml:lang="ja">
        <title>ğŸ“™ The Purely Functional Software Deployment Modelã‚’èª­ã‚“ã æ„Ÿæƒ³</title>
        <published>2023-11-06T00:00:00+00:00</published>
        <updated>2023-11-06T00:00:00+00:00</updated>
        <author>
          <name>ymgyt</name>
        </author>
        <link rel="alternate" href="https://blog.ymgyt.io/entry/the-purely-functional-software-deployment/" type="text/html"/>
        <id>https://blog.ymgyt.io/entry/the-purely-functional-software-deployment/</id>
        
        <summary type="html">Dolstraå…ˆç”Ÿã®Nixã®è«–æ–‡ The Purely Functional Software Deployment Modelã‚’èª­ã‚“ã æ„Ÿæƒ³</summary>
        
    </entry>
    <entry xml:lang="ja">
        <title>ğŸ“— Terraform: Up and Running, 3rd Editionã‚’èª­ã‚“ã æ„Ÿæƒ³</title>
        <published>2023-10-25T00:00:00+00:00</published>
        <updated>2023-10-25T00:00:00+00:00</updated>
        <author>
          <name>ymgyt</name>
        </author>
        <link rel="alternate" href="https://blog.ymgyt.io/entry/terraform-up-and-running/" type="text/html"/>
        <id>https://blog.ymgyt.io/entry/terraform-up-and-running/</id>
        
        <summary type="html">Terraform: Up and Runningã‚’èª­ã‚“ã æ„Ÿæƒ³ã«ã¤ã„ã¦</summary>
        
    </entry>
    <entry xml:lang="ja">
        <title>ğŸ“— Linux Service Management Made Easy with systemdã‚’èª­ã‚“ã æ„Ÿæƒ³</title>
        <published>2023-10-15T00:00:00+00:00</published>
        <updated>2023-10-15T00:00:00+00:00</updated>
        <author>
          <name>ymgyt</name>
        </author>
        <link rel="alternate" href="https://blog.ymgyt.io/entry/linux-service-management-made-easy-with-systemd/" type="text/html"/>
        <id>https://blog.ymgyt.io/entry/linux-service-management-made-easy-with-systemd/</id>
        
        <summary type="html">Linux Service Management Made Easy with systemdæœ¬ã®æ¦‚è¦ã ã£ãŸã‚Šè‰¯ã‹ã£ãŸã¨ã“ã‚ã«ã¤ã„ã¦</summary>
        
    </entry>
    <entry xml:lang="ja">
        <title>ğŸ”§ Kustomizeã§åˆ©ç”¨ã•ã‚Œã‚‹RFC6902 JSON Patchã‚’èª­ã‚“ã§ã¿ã‚‹</title>
        <published>2023-07-14T00:00:00+00:00</published>
        <updated>2023-07-14T00:00:00+00:00</updated>
        <author>
          <name>ymgyt</name>
        </author>
        <link rel="alternate" href="https://blog.ymgyt.io/entry/json-patch-in-kustomize/" type="text/html"/>
        <id>https://blog.ymgyt.io/entry/json-patch-in-kustomize/</id>
        
        <summary type="html">Kustomizeã®patchã§ç”¨ã„ã‚‰ã‚Œã‚‹JSON Patchã«ã¤ã„ã¦RFCã‚’èª­ã‚“ã§ç†è§£ã™ã‚‹</summary>
        
    </entry>
    <entry xml:lang="ja">
        <title>ğŸ“• ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼ã®ãŸã‚ã®CPUå…¥é–€ã‚’èª­ã‚“ã æ„Ÿæƒ³</title>
        <published>2023-03-15T00:00:00+00:00</published>
        <updated>2023-03-15T00:00:00+00:00</updated>
        <author>
          <name>ymgyt</name>
        </author>
        <link rel="alternate" href="https://blog.ymgyt.io/entry/what-a-programmer-should-know-about-the-cpu/" type="text/html"/>
        <id>https://blog.ymgyt.io/entry/what-a-programmer-should-know-about-the-cpu/</id>
        
        <summary type="html">ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼ã®ãŸã‚ã®CPUå…¥é–€ãŒã¨ã¦ã‚‚ã‚ã‹ã‚Šã‚„ã™ã‹ã£ãŸã§ã™</summary>
        
    </entry>
    <entry xml:lang="ja">
        <title>ğŸ“• ãƒãƒ­ãƒ¼&quot;Hello, World&quot; OSã¨æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚·ã‚´ãƒˆã¨ã—ãã¿ã‚’èª­ã‚“ã æ„Ÿæƒ³</title>
        <published>2023-02-21T00:00:00+00:00</published>
        <updated>2023-02-21T00:00:00+00:00</updated>
        <author>
          <name>ymgyt</name>
        </author>
        <link rel="alternate" href="https://blog.ymgyt.io/entry/helloworld-book/" type="text/html"/>
        <id>https://blog.ymgyt.io/entry/helloworld-book/</id>
        
        <summary type="html">ãƒãƒ­ãƒ¼&quot;Hello, World&quot;OSã¨æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚·ã‚´ãƒˆã¨ã—ãã¿ã‚’èª­ã‚“ã æ„Ÿæƒ³ã«ã¤ã„ã¦</summary>
        
    </entry>
    <entry xml:lang="ja">
        <title>ğŸ“• Rust Atomics and Locksã‚’èª­ã‚“ã æ„Ÿæƒ³</title>
        <published>2022-12-31T00:00:00+00:00</published>
        <updated>2022-12-31T00:00:00+00:00</updated>
        <author>
          <name>ymgyt</name>
        </author>
        <link rel="alternate" href="https://blog.ymgyt.io/entry/rust_atomics_and_locks/" type="text/html"/>
        <id>https://blog.ymgyt.io/entry/rust_atomics_and_locks/</id>
        
        <summary type="html">Rust Atomics and LocksãŒéå¸¸ã«ã‚ˆã‹ã£ãŸã®ã§æ„Ÿæƒ³ã‚’æ›¸ã„ãŸ</summary>
        
    </entry>
    <entry xml:lang="ja">
        <title>ğŸ“— ã‚‚ã£ã¨CPUã®æ°—æŒã¡ãŒçŸ¥ã‚ŠãŸã„ã§ã™ã‹ï¼Ÿã‚’èª­ã‚“ã æ„Ÿæƒ³</title>
        <published>2022-11-27T00:00:00+00:00</published>
        <updated>2022-11-27T00:00:00+00:00</updated>
        <author>
          <name>ymgyt</name>
        </author>
        <link rel="alternate" href="https://blog.ymgyt.io/entry/cpu_no_kimochi/" type="text/html"/>
        <id>https://blog.ymgyt.io/entry/cpu_no_kimochi/</id>
        
        <summary type="html">CPUã®æ°—æŒã¡æœ¬ã‚’èª­ã‚“ã æ„Ÿæƒ³</summary>
        
    </entry>
    <entry xml:lang="ja">
        <title>ğŸ•¸  GraphQL Specificationã‚’èª­ã‚“ã§ã¿ã‚‹</title>
        <published>2022-11-04T00:00:00+00:00</published>
        <updated>2022-11-04T00:00:00+00:00</updated>
        <author>
          <name>ymgyt</name>
        </author>
        <link rel="alternate" href="https://blog.ymgyt.io/entry/graphql-specification-2021/" type="text/html"/>
        <id>https://blog.ymgyt.io/entry/graphql-specification-2021/</id>
        
        <summary type="html">GraphQLã®ä»•æ§˜ã‚’èª­ã‚“ã§ã¿ãŸæ„Ÿæƒ³ã«ã¤ã„ã¦</summary>
        
    </entry>
    <entry xml:lang="ja">
        <title>ğŸ“— RabbitMQ Essentials 2nd Editionã‚’èª­ã‚“ã æ„Ÿæƒ³</title>
        <published>2022-08-17T00:00:00+00:00</published>
        <updated>2022-08-17T00:00:00+00:00</updated>
        <author>
          <name>ymgyt</name>
        </author>
        <link rel="alternate" href="https://blog.ymgyt.io/entry/rabbitmq_essentials_2nd_edition/" type="text/html"/>
        <id>https://blog.ymgyt.io/entry/rabbitmq_essentials_2nd_edition/</id>
        
        <content type="html">&lt;h2 id=&quot;du-ndaben-green-book&quot;&gt;&lt;a class=&quot;zola-anchor&quot; href=&quot;#du-ndaben-green-book&quot; aria-label=&quot;Anchor link for: du-ndaben-green-book&quot;&gt;èª­ã‚“ã æœ¬ğŸ“—&lt;&#x2F;a&gt;&lt;&#x2F;h2&gt;

&lt;figure class=&quot;&quot;&gt;
  &lt;div class=&quot;fig-images-row&quot;&gt;
    
    &lt;img 
      src=&quot;images&amp;#x2F;rabbitmq_essentials_book.png&quot; 
      alt=&quot;&quot;, 
       
      
    &gt;
    
  &lt;&#x2F;div&gt;
  &lt;figcaption&gt;By Lovisa Johansson , David Dossot&lt;&#x2F;figcaption&gt;
&lt;&#x2F;figure&gt;
&lt;p&gt;&lt;a rel=&quot;external&quot; href=&quot;https:&#x2F;&#x2F;www.packtpub.com&#x2F;product&#x2F;rabbitmq-essentials-second-edition&#x2F;9781789131666&quot;&gt;RabbitMQ Essentials - Second Edition&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;2020å‡ºç‰ˆã§RabbitMQé–¢é€£ã®æœ¬ã§æ¯”è¼ƒçš„æ–°ã—ã‚ã ã£ãŸã®ã¨ã€Taxi Applicationã«RabbitMQã‚’çµ„ã¿è¾¼ã‚“ã§ã„ãã¨ã„ã†å½¢ãŒãŠã‚‚ã—ã‚ãã†ã ã£ãŸã®ã§èª­ã‚“ã§ã¿ã¾ã—ãŸã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;1-a-rabbit-springs-to-life&quot;&gt;&lt;a class=&quot;zola-anchor&quot; href=&quot;#1-a-rabbit-springs-to-life&quot; aria-label=&quot;Anchor link for: 1-a-rabbit-springs-to-life&quot;&gt;1 A Rabbit Springs to Life&lt;&#x2F;a&gt;&lt;&#x2F;h2&gt;
&lt;p&gt;æ¦‚è¦ã‚„ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã«ã¤ã„ã¦ã€‚&lt;br &#x2F;&gt;
RabbitMQ&#x2F;AMQP 0-9-1ã®ã‚³ãƒ³ã‚»ãƒ—ãƒˆã«ã¤ã„ã¦ç´¹ä»‹ã•ã‚Œã¦ã„ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;2-creating-a-taxi-application&quot;&gt;&lt;a class=&quot;zola-anchor&quot; href=&quot;#2-creating-a-taxi-application&quot; aria-label=&quot;Anchor link for: 2-creating-a-taxi-application&quot;&gt;2 Creating a Taxi Application&lt;&#x2F;a&gt;&lt;&#x2F;h2&gt;
&lt;p&gt;Complete Car(CC)ã¨ã„ã†ã‚¿ã‚¯ã‚·ãƒ¼äºˆç´„ã‚·ã‚¹ãƒ†ãƒ ã‚’ä½œã‚ŠãªãŒã‚‰RabbitMQã®ä½¿ã„æ–¹ã‚’å­¦ã‚“ã§ã„ãã¾ã™ã€‚&lt;br &#x2F;&gt;
æœ€åˆã¯Direct exchangeã‚’åˆ©ç”¨ã—ã¤ã¤ã€æ©Ÿèƒ½æ‹¡å¼µã¨ã„ã†å½¢ã§Topic exchangeã‚’å°å…¥ã—ã¾ã™ã€‚
ãã®ä¸­ã§ã€Connection&#x2F;Channelã®èª¬æ˜ã‚„ã€åŸºæœ¬çš„ãªPublish&#x2F;Consumer APIã®èª¬æ˜ãŒã‚ã‚Šã¾ã™ã€‚&lt;br &#x2F;&gt;
RabbitMQ Serverã®restartã‚’ã¾ãŸã„ã§messageã‚’æ°¸ç¶šåŒ–ã•ã›ã‚‹ã«ã¯ã€queueã®durableã¨messageã®persistentã®ä¸¡æ–¹ãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚&lt;br &#x2F;&gt;
messageã®ä¿¡é ¼æ€§ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•ã‚’è¦‹æ¥µã‚ã¦åˆ©ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§ã€å°å…¥ã«éš›ã—ã¦ã¯ã‚·ã‚¹ãƒ†ãƒ ã«è¦æ±‚ã•ã‚Œã‚‹ä¿¡é ¼æ€§ã‚’å®šç¾©ã™ã‚‹ã“ã¨ãŒé‡è¦ãã†ã ãªã¨è€ƒãˆã¾ã—ãŸã€‚&lt;br &#x2F;&gt;
ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯Rubyã§ã—ãŸã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;3-sending-messages-to-multiple-taxi-drivers&quot;&gt;&lt;a class=&quot;zola-anchor&quot; href=&quot;#3-sending-messages-to-multiple-taxi-drivers&quot; aria-label=&quot;Anchor link for: 3-sending-messages-to-multiple-taxi-drivers&quot;&gt;3 Sending Messages to Multiple Taxi Drivers&lt;&#x2F;a&gt;&lt;&#x2F;h2&gt;
&lt;p&gt;Consumerã«ä¸€åº¦ã«é€ã‚‰ã‚Œã‚‹messageæ•°ã‚’åˆ¶å¾¡ã™ã‚‹ãŸã‚ã®prefetch countã¨acknowledgeã«ã¤ã„ã¦èª¬æ˜ã•ã‚Œã¾ã™ã€‚messageã®æ€§è³ªã«ã‚‚ã‚ˆã‚Šã¾ã™ãŒã€prefetch countã‚’1ã«ã—ã¦manual acknowledgeã«ã—ã¦ãŠãã®ãŒä¸€ç•ªå®‰å…¨ãã†ã€‚
prefetch countã¯defaultå€¤ã«ãŸã‚ˆã‚‰ãšæ˜ç¤ºçš„ã«æŒ‡å®šã—ã¦ãŠãã“ã¨ã‚‚å¤§äº‹ã ãªã¨æ€ã„ã¾ã—ãŸã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã¾ãŸã€å…¨taxiã«back officeã‹ã‚‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ã‚ŠãŸã„ã¨ã„ã†æ©Ÿèƒ½è¦æœ›ã«ç­”ãˆã‚‹ãŸã‚ã«Fanout exchangeãŒCCã«å°å…¥ã•ã‚Œã¾ã—ãŸã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;4-tweaking-message-delivery&quot;&gt;&lt;a class=&quot;zola-anchor&quot; href=&quot;#4-tweaking-message-delivery&quot; aria-label=&quot;Anchor link for: 4-tweaking-message-delivery&quot;&gt;4 Tweaking Message Delivery&lt;&#x2F;a&gt;&lt;&#x2F;h2&gt;
&lt;p&gt;taxiã®driverã«messageã‚’é€ã‚‹fanout exchangeã‚’chapter3ã§å°å…¥ã—ãŸã€‚&lt;br &#x2F;&gt;
ã¨ã“ã‚ãŒé‹ç”¨ã—ã¦ã¿ã‚‹ã¨messageã‚’ã¾ã£ãŸãconsumeã—ãªã„driverãŒå­˜åœ¨ã—ã¦ãŠã‚Šã€queueã«messageãŒæºœã¾ã‚Šç¶šã‘ã¦ã—ã¾ã†ã€‚ãã“ã§ä¸€å®šæœŸé–“çµŒéå¾Œã«messageã‚’å‰Šé™¤ã—ã€ãã®éš›messageãŒé‡è¦ã§ã‚ã‚Œã°driverã«ãƒ¡ãƒ¼ãƒ«é€ã‚‹æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ãŸã„ã€‚ã¨ã„ã†ã‚·ãƒŠãƒªã‚ªã§time to live(TTL)ã‚„Dead letter Queueã«ã¤ã„ã¦å­¦ã‚“ã§ã„ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;messageã®expirationã«ã¤ã„ã¦ã¯ä»¥ä¸‹ã®3ã¤ã®é¸æŠè‚¢ãŒã‚ã‚‹ã€‚&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;Standard AMQP message expiration property&lt;&#x2F;li&gt;
&lt;li&gt;Queueã”ã¨ã«messageã®TTLã‚’å®šç¾©ã§ãã‚‹RabbitMQ extension&lt;&#x2F;li&gt;
&lt;li&gt;Queueè‡ªä½“ã®TTLã‚’å®šç¾©ã§ãã‚‹RabbitMQ extension&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;1ã«ã¤ã„ã¦ã¯AMQPæ¨™æº–ã¨ã„ã†ã“ã¨ã§é­…åŠ›çš„ã ãŒã€è½ã¨ã—ç©´ãŒã‚ã‚Šã€messageãŒqueueã®å…ˆé ­ã«ãã¦ã¯ã˜ã‚ã¦TTLãŒãƒã‚§ãƒƒã‚¯ã•ã‚Œã‚‹ã¨ã„ã†ä»•æ§˜ã§TTLãŒéãã¦ã„ã¦ã‚‚queueè‡ªä½“ã«ã¯æ®‹ã£ã¦ã—ã¾ã†ã€‚&lt;br &#x2F;&gt;
ã¾ãŸã€queueè‡ªä½“ã¯å‰Šé™¤ã—ãŸããªã„ã®ã§3ã‚‚é™¤å¤–ã€‚ã¨ã„ã†ã“ã¨ã§é¸æŠè‚¢2ã‚’æ¡ç”¨ã™ã‚‹ã“ã¨ã¨ãªã‚‹ã€‚
TTLãŒéããŸmessageã¯dead letterã¨åˆ¤æ–­ã•ã‚Œã‚‹ã€‚RabbitMQã¯ã“ã†ã—ãŸdead letterã‚’DLXã¨ã„ã†exchangeã«routingã™ã‚‹æ©Ÿèƒ½ã‚’ã‚‚ã¤ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;Queueã«TTLã‚„DLXã‚’è¨­å®šã™ã‚‹ã«ã¯ã€queue declareæ™‚ã®argumentsã«&lt;code&gt;x-message-ttl&lt;&#x2F;code&gt;ã‚„&lt;code&gt;x-dead-letter-{exchange,routing-key}&lt;&#x2F;code&gt;ã‚’æŒ‡å®šã™ã‚‹ã®ã§ã™ãŒã€æ—¢å­˜ã®queueã«å¯¾ã—ã¦å®£è¨€ã—ã¦ã—ã¾ã†ã¨argumentsãŒä¸€è‡´ã›ãšexceptionãŒç™ºç”Ÿã—ã¦ã—ã¾ã„ã¾ã™ã€‚&lt;br &#x2F;&gt;
ãã“ã§ã€RabbitMQã«ã¯policyã¨ã„ã†ä»•çµ„ã¿ãŒã‚ã‚Šã€policyã‚’é€šã—ã¦æ—¢å­˜ã®queueã‚„exchangeã«å¤‰æ›´ã‚’é©ç”¨ã§ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;Policyã¯AMQPã®ä»•æ§˜ã§ã¯ãªã„ã®ã§clientã«APIãŒã‚ã‚Šã¾ã›ã‚“ã€‚(ã‚ã‚‹libã‚‚ã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒ)&lt;br &#x2F;&gt;
ãã“ã§ã€rabbitmqctlã¨ã„ã†å°‚ç”¨ã®cliã‚’åˆ©ç”¨ã—ã¾ã™ã€‚&lt;br &#x2F;&gt;
dockerã§RabbitMQã‚’ãŸã¡ã‚ã’ã¦ã„ã‚‹å ´åˆã¯&lt;&#x2F;p&gt;
&lt;pre class=&quot;giallo&quot; style=&quot;color: #D8DEE9; background-color: #2E3440;&quot;&gt;&lt;code data-lang=&quot;shellscript&quot;&gt;&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;docker&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt; exec rabbitmq-rabbitmq-1 -it &#x2F;bin&#x2F;bash&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;rabbitmqctl&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt; set_policy -p &#x2F; Q_TTL_DLX&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt; &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;.*&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;#39; &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;{&amp;quot;message-ttl&amp;quot;: 1000, &amp;quot;dead-letter-exchange&amp;quot;: &amp;quot;dlx&amp;quot;}&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt; --apply-to queues&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚&lt;br &#x2F;&gt;
&lt;code&gt;-p&lt;&#x2F;code&gt;ã¯virtual hostã®æŒ‡å®š(ãªãœp?), &lt;code&gt;Q_TTL_DLX&lt;&#x2F;code&gt;ã¯policyã®åå‰ã€‚&lt;code&gt;&#x27;.*&#x27;&lt;&#x2F;code&gt;ã¯é©ç”¨ã™ã‚‹ãƒªã‚½ãƒ¼ã‚¹ã®æ­£è¦è¡¨ç¾ã€‚jsonã¯policyã®body, &lt;code&gt;--apply-to&lt;&#x2F;code&gt;ã§é©ç”¨å¯¾è±¡ã‚’queueã‹exchangeã‹æŒ‡å®šã¨ã„ã£ãŸæ„Ÿã˜ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç¶šã„ã¦ã®æ©Ÿèƒ½æ‹¡å¼µã¯ã€backofficeã‹ã‚‰taxi driverã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ã‚‹éš›ã«ã€driverç”¨ã®queueãŒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã•ã‚Œã¦ã„ãªã‘ã‚Œã°emailã‚’é€ã‚‹ã‚ˆã†ã«ã—ãŸã„ã¨ã„ã†ã‚‚ã®ã§ã™ã€‚ã“ã“ã§åˆ©ç”¨ã§ãã‚‹ã®ãŒã€publishæ™‚ã®&lt;code&gt;mandatory&lt;&#x2F;code&gt; flagã§ã™ã€‚ã“ã‚Œã¯exchangeã«é€ã‚‰ã‚ŒãŸmessageãŒã©ã®queueã«ã‚‚é€ã‚‰ã‚Œãªã‹ã£ãŸå ´åˆã«publisherã«messageã‚’é€ã‚Šè¿”ã™æ©Ÿèƒ½ã‚’æœ‰åŠ¹ã«ã—ã¾ã™ã€‚&lt;br &#x2F;&gt;
lapinã®&lt;a rel=&quot;external&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;amqp-rs&#x2F;lapin&#x2F;blob&#x2F;lapin-1.x&#x2F;examples&#x2F;publisher_confirms.rs&quot;&gt;publisher_confirms example&lt;&#x2F;a&gt;ã§å®Ÿéš›ã®åˆ©ç”¨ä¾‹ãŒã¿ã‚Œã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;5-message-routing&quot;&gt;&lt;a class=&quot;zola-anchor&quot; href=&quot;#5-message-routing&quot; aria-label=&quot;Anchor link for: 5-message-routing&quot;&gt;5 Message Routing&lt;&#x2F;a&gt;&lt;&#x2F;h2&gt;
&lt;p&gt;Consumerã‹ã‚‰Publisherã«responseã‚’è¿”ã™RPCã‚’å®Ÿè£…ã—ã¾ã™ã€‚ã‚„ã‚Šæ–¹ã¯RabbitMQ Tutorialsã®RPCã¨åŒã˜ã§ã€messageã®basic propertiesã«ã‚ã‚‹reply-toã«responseç”¨ã®queueã‚’æŒ‡å®šã™ã‚‹ã ã‘ã§ã™ã€‚request-responseæ¯ã«queueã‚’ç”Ÿæˆã™ã‚‹ã‹äº‹å‰ã«ä½œæˆã—ã¦ãŠãã‹ã®æ–¹æ³•ãŒã‚ã‚Šã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã¾ãŸã€Single Text-Oriented Message Protocol(STOMP)ç”¨ã®pluginã‚’åˆ©ç”¨ã—ã¦ã€browserã‹ã‚‰RabbitMQ Serverã«websocketã§æ¥ç¶šã—ã¦queueã‚’subscribeã™ã‚‹ä¾‹ã‚‚ç´¹ä»‹ã•ã‚Œã¦ã„ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æœ€å¾Œã«headers exchangeã‚’å°å…¥ã—ã¾ã™ã€‚topic exchangeã§ã¯ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«å¯¾å¿œã§ããªã„å ´åˆã«ã¯headers exchangeã‚’åˆ©ç”¨ã™ã‚‹æ„Ÿã˜ãªã®ã§ã—ã‚‡ã†ã‹ã€‚ç´¹ä»‹ã•ã‚Œã¦ã„ã‚‹äº‹ä¾‹ã¯æ–°ã—ãqueueã‚’ãŸã¦ã¦bindingã™ã‚Œã°å¯¾å¿œã§ãã‚‹ã‚ˆã†ã«æ€ãˆãŸã®ã§ã„ã¾ã„ã¡ä½¿ã„æ‰€ãŒã‚ã‹ã£ã¦ã„ã¾ã›ã‚“ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;6-taking-rabbitmq-to-production&quot;&gt;&lt;a class=&quot;zola-anchor&quot; href=&quot;#6-taking-rabbitmq-to-production&quot; aria-label=&quot;Anchor link for: 6-taking-rabbitmq-to-production&quot;&gt;6 Taking RabbitMQ to Production&lt;&#x2F;a&gt;&lt;&#x2F;h2&gt;
&lt;p&gt;ä»Šã¾ã§ã¯RabbitMQã‚’single nodeã§å‹•ã‹ã—ã¦ã„ã¾ã—ãŸãŒã“ã®ç« ã§ã¯clusterã‚’å°å…¥ã—ã¾ã™ã€‚RabbitMQã¯Erlangã§å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ã‚‰ã—ãã€clusterã‚‚Erlang clustering featureã‚’åˆ©ç”¨ã—ã¦å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ã¿ãŸã„ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;Client libraryã®å®Ÿè£…ã«ã‚ˆã‚‹ã‹ã¨ã¯æ€ã†ã®ã§ã™ãŒclusteråŒ–ã—ãŸéš›ã«clientå´ã§clusterã‚’æ§‹æˆã™ã‚‹nodeã‚’æŠŠæ¡ã—ã¦ãã‚Œãã‚Œã®æ¥ç¶šæƒ…å ±ã‚’ä¿æŒã—ã¦ãŠãå¿…è¦ãŒã‚ã‚Šãã†ã§ã—ãŸã€‚Rustã®å®Ÿè£…ã§ã‚ã‚‹lapinã§ã¯è¤‡æ•°ã®æ¥ç¶šå…ˆã‚’æ¸¡ã›ã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ãªã„ã‚ˆã†ã«è¦‹ãˆã‚‹ã®ã§ã€ã©ã†å¯¾å¿œã™ã‚‹ã‹ãŒèª²é¡Œã§ã™ã€‚(deadpool_lapinã§Connectionç”Ÿæˆå‡¦ç†ãŒéš è”½ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€è‡ªåˆ†ã§urlã‚’rotateã™ã‚‹ã¨ã‹ã‚‚ã§ããªã„ã®ã§å›°ã‚Šã¾ã—ãŸ)&lt;&#x2F;p&gt;
&lt;p&gt;RabbitMQã®clusterã§ã¯exchangeã‚„queueã¯nodeé–“ã§syncã•ã‚Œã‚‹ãŒã€queueã®messageã«é–¢ã—ã¦ã¯ã„ãã¤ã‹é¸æŠè‚¢ãŒã‚ã‚‹ã‚ˆã†ã§ã™ã€‚&lt;br &#x2F;&gt;
ã¾ãšã€Mirroring queuesã¨ã„ã†é¸æŠè‚¢ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã¯master, replicaæ§‹æˆã§messageã‚’å†—é•·åŒ–ã™ã‚‹æ–¹å¼ã®ã‚ˆã†ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ¬¡ã«ã€quorum queuesã¨ã„ã†æ–¹å¼ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã‚‚master replicaãƒ™ãƒ¼ã‚¹ã§ã™ãŒã€queueã®å†…å®¹ã«ã¤ã„ã¦leaderã¨replicationé–“ã§åˆæ„ã‚’ã¨ã‚‹ã“ã¨ã§ä¿¡é ¼æ€§ã‚’é«˜ã‚ã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚éåŠæ•°ã®nodeé–“ã§queueã®å†…å®¹ãŒsyncã§ããŸã‚‰clientã«confirmã‚’è¿”ã™ã“ã¨ã§å®Ÿç¾ã•ã‚Œã¦ã„ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æœ€å¾Œã«Lazy queuesãŒç´¹ä»‹ã•ã‚Œã¾ã™ã€‚
ã“ã®æ©Ÿèƒ½ãŒæœ‰åŠ¹ã‹ã•ã‚ŒãŸqueueã§ã¯messageã¯distã«ä¿å­˜ã•ã‚Œã€queueã«messageãŒå¤§é‡ã«æºœã¾ã‚‹å ´åˆã§ã‚‚RAMã®ä½¿ç”¨é‡ãŒæŠ‘ãˆã‚‰ã‚Œã‚‹ã¿ãŸã„ã§ã™ã€‚durableã‚’æœ‰åŠ¹ã«ã™ã‚‹ã®ã¨é•ã£ã¦ãã‚‚ãã‚‚ãƒ¡ãƒ¢ãƒªã«messageã‚’ä¿æŒã—ãªããªã‚‹ç‚¹ãŒç‰¹å¾´ã¨ã„ã†ç†è§£ã§ã‚ˆã„ã®ã§ã—ã‚‡ã†ã‹ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;Clusterã«ç¶šã„ã¦ã¯logã®aggregationã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã®federationã«ã¤ã„ã¦ã‚‚èª¬æ˜ãŒã‚ã‚Šã¾ã—ãŸã€‚RabbitMQã‚’fluentdã®agentã®ã‚ˆã†ã«ä½ç½®ä»˜ã‘ã‚‹ã“ã¨ã‚‚ã§ãæŸ”è»Ÿæ€§ãŒé«˜ã„ãªã¨æ€ã„ã¾ã—ãŸã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;7-best-practices-and-broker-monitoring&quot;&gt;&lt;a class=&quot;zola-anchor&quot; href=&quot;#7-best-practices-and-broker-monitoring&quot; aria-label=&quot;Anchor link for: 7-best-practices-and-broker-monitoring&quot;&gt;7 Best Practices and Broker Monitoring&lt;&#x2F;a&gt;&lt;&#x2F;h2&gt;
&lt;p&gt;RabbitMQã‚’é‹ç”¨ã—ã¦ã„ãã«ã‚ãŸã£ã¦ã®Best Practicesã«ã¤ã„ã¦ã®ç´¹ä»‹ã§ã™ã€‚&lt;br &#x2F;&gt;
ã¾ãšã¯ã€messageã‚’å¤±ã‚ãªã„ãŸã‚ã®Best practicesã«ã¤ã„ã¦ã€‚&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;æœ€ä½3å°ä»¥ä¸Šã§clusterã‚’çµ„ã‚€&lt;&#x2F;li&gt;
&lt;li&gt;quorum queueã‚’ä½¿ã†&lt;&#x2F;li&gt;
&lt;li&gt;queueã‚’durableã«ã—ã¦message publishæ™‚ã«persistent delivery modeã‚’æœ‰åŠ¹ã«ã™ã‚‹&lt;&#x2F;li&gt;
&lt;li&gt;transient messageã‚’åˆ©ç”¨ã—ã¦ã‚‚Lazy queuesã®å ´åˆã«ã¯performanceä¸Šã®trade-offãŒç™ºç”Ÿã™ã‚‹ã€‚ã¾ãŸã€queueãŒdurableã§ã‚ã£ã¦ã‚‚messageãŒå¤±ã‚ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã“ã¨ã‚’ç†è§£ã—ã¦ãŠã&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;ã¾ãŸã€å½“ç„¶ã§ã¯ã‚ã‚Šã¾ã™ãŒdead letter exchangeã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã‚‚æŒ™ã’ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚&lt;br &#x2F;&gt;
messageã®TTLã‚„queueã®max length, nackç­‰ã§messageãŒå‡¦ç†ã•ã‚Œãªã„ã‚±ãƒ¼ã‚¹ãŒã‚ã‚‹ã®ã§ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚‚ãƒ—ãƒ­ã‚°ãƒ©ãƒ çš„ã«ã¤ãã£ã¦ãŠãã¾ã—ã‚‡ã†ã¨è¨€ã‚ã‚Œã¦ã„ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;performanceçš„ãªå•é¡ŒãŒãªã„é™ã‚Šã¯publisher&#x2F;consumerã¨ã‚‚ã«confirmã‚‚æœ‰åŠ¹ã«ã™ã‚‹ã“ã¨ã‚’ã¾ãšã¯æ¤œè¨ã—ãŸã»ã†ãŒã‚ˆã•ãã†ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;Messageã®handlingã«é–¢ã—ã¦ã¯ä»¥ä¸‹ã®ç‚¹ãŒæŒ™ã’ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;message sizeã¯å¤§ãéãã¦ã‚‚å°ã•éãã¦ã‚‚å•é¡Œ
&lt;ul&gt;
&lt;li&gt;å°ã•ã™ãã‚‹iterableãªdataã¯chunkåŒ–ã—ã¦ã¿ã‚‹&lt;&#x2F;li&gt;
&lt;li&gt;å¤§ãã™ãã‚‹å ´åˆã¯åˆ¥ã®componentã«offloadã§ãã‚‹ã‹è©¦ã¿ã‚‹&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;consumerã®å‡¦ç†æ™‚é–“ã«å¿œã˜ã¦prefetching valueã‚’èª¿æ•´ã™ã‚‹&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;queueã¨brokersã‚’cleanã«ä¿ã¨ã†ã¨ã„ã†ç‚¹ã«ã¤ã„ã¦æŒ‡æ‘˜ã•ã‚Œã¦ã„ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;queueã«ã¯TTL(&lt;code&gt;x-message-ttl&lt;&#x2F;code&gt;)ã‚’è¨­å®šã™ã‚‹&lt;&#x2F;li&gt;
&lt;li&gt;queueã«ã¯max-lengthã‚’æŒ‡å®šã™ã‚‹&lt;&#x2F;li&gt;
&lt;li&gt;ä½¿ã‚ã‚Œã¦ã„ãªã„queueã‚’å‰Šé™¤ã™ã‚‹
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;x-expires&lt;&#x2F;code&gt;ã§åˆ©ç”¨ã•ã‚Œãªããªã£ã¦ã‹ã‚‰å‰Šé™¤ã•ã‚Œã‚‹ã¾ã§ã®æœŸé–“ã‚’æŒ‡å®šã—ã¦ãŠã&lt;&#x2F;li&gt;
&lt;li&gt;queueã®auto-delete propertyã‚’æœ‰åŠ¹ã«ã™ã‚‹&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;ãã®ä»–ã€messageã®routing keyã«å¿œã˜ã¦queueã‚’åˆ†æ•£ã•ã›ã‚‹ãŸã‚ã®pluginãŒç´¹ä»‹ã•ã‚Œã¦ã„ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;monitoring&quot;&gt;&lt;a class=&quot;zola-anchor&quot; href=&quot;#monitoring&quot; aria-label=&quot;Anchor link for: monitoring&quot;&gt;Monitoring&lt;&#x2F;a&gt;&lt;&#x2F;h3&gt;
&lt;p&gt;ç¾åœ¨ã®RabbitMQ serverã®æƒ…å ±ã‚’å–å¾—ã™ã‚‹æ–¹æ³•ã¨ã—ã¦ã¯rabbitmqctlã¨REST APIã®äºŒã¤ã®æ‰‹æ®µãŒã‚ã‚‹ã€‚ç›£è¦–ã«æœ‰ç”¨ãªmetricsãŒç´¹ä»‹ã•ã‚Œã¦ã„ã¾ã™ã€‚&lt;br &#x2F;&gt;
node&#x2F;clusterã®çŠ¶æ…‹ã‹ã‚‰queueã”ã¨ã®å‡¦ç†çŠ¶æ³ã€file descriptorã‚„socketã®åˆ©ç”¨çŠ¶æ³ã‚‚APIã§å–å¾—ã§ãã‚‹ã®ã¯åŠ©ã‹ã‚Šãã†ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;matome&quot;&gt;&lt;a class=&quot;zola-anchor&quot; href=&quot;#matome&quot; aria-label=&quot;Anchor link for: matome&quot;&gt;ã¾ã¨ã‚&lt;&#x2F;a&gt;&lt;&#x2F;h2&gt;
&lt;p&gt;æœ¬æ›¸ã‚’èª­ã‚“ã æ„Ÿæƒ³ã‚’ç°¡å˜ã«æ›¸ã„ã¦ã„ãã¾ã—ãŸã€‚&lt;br &#x2F;&gt;
RabbitMQã®å„æ©Ÿèƒ½ã«ã¤ã„ã¦å…·ä½“ä¾‹ã‚’ãµã¾ãˆã¦ç´¹ä»‹ã•ã‚Œã¦ãŠã‚Šæ¦‚è¦ã‚’æŠŠæ¡ã™ã‚‹ã®ã«é©ã—ã¦ã„ã‚‹ã¨æ€ã„ã¾ã—ãŸã€‚&lt;br &#x2F;&gt;
&lt;a rel=&quot;external&quot; href=&quot;https:&#x2F;&#x2F;www.manning.com&#x2F;books&#x2F;rabbitmq-in-depth&quot;&gt;RabbitMQ in Depth&lt;&#x2F;a&gt;ã¨ã„ã†æœ¬ã‚’è¦‹ã¤ã‘ãŸã®ã§æ¬¡ã¯ã“ã¡ã‚‰ã‚’èª­ã‚“ã§ã¿ã‚ˆã†ã‹ãªã¨æ€ã£ã¦ã¾ã™ã€‚&lt;&#x2F;p&gt;
</content>
        
    </entry>
    <entry xml:lang="ja">
        <title>ğŸ“• å…¥é–€WebAssemblyã‚’èª­ã‚“ã§WASMã‚’ã¯ã˜ã‚ãŸ</title>
        <published>2022-07-06T00:00:00+00:00</published>
        <updated>2022-07-06T00:00:00+00:00</updated>
        <author>
          <name>ymgyt</name>
        </author>
        <link rel="alternate" href="https://blog.ymgyt.io/entry/the_art_of_webassembly_jp/" type="text/html"/>
        <id>https://blog.ymgyt.io/entry/the_art_of_webassembly_jp/</id>
        
        <content type="html">&lt;h2 id=&quot;du-ndaben&quot;&gt;&lt;a class=&quot;zola-anchor&quot; href=&quot;#du-ndaben&quot; aria-label=&quot;Anchor link for: du-ndaben&quot;&gt;èª­ã‚“ã æœ¬&lt;&#x2F;a&gt;&lt;&#x2F;h2&gt;

&lt;figure class=&quot;&quot;&gt;
  &lt;div class=&quot;fig-images-row&quot;&gt;
    
    &lt;img 
      src=&quot;images&amp;#x2F;the_art_of_webassembly_book.png&quot; 
      alt=&quot;&quot;, 
       
      
    &gt;
    
  &lt;&#x2F;div&gt;
  &lt;figcaption&gt;Rick Battagline è‘—&lt;&#x2F;figcaption&gt;
&lt;&#x2F;figure&gt;
&lt;p&gt;&lt;a rel=&quot;external&quot; href=&quot;https:&#x2F;&#x2F;www.shoeisha.co.jp&#x2F;book&#x2F;detail&#x2F;9784798173597&quot;&gt;å…¥é–€WebAssembly&lt;&#x2F;a&gt;&lt;br &#x2F;&gt;
&lt;a rel=&quot;external&quot; href=&quot;https:&#x2F;&#x2F;nostarch.com&#x2F;art-webassembly&quot;&gt;The Art Of WebAssembly&lt;&#x2F;a&gt;ã®ç¿»è¨³æ›¸ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æœ¬æ›¸ã‚’èª­ã¿ãªãŒã‚‰ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚’å†™çµŒã—ãŸã®ã§æ„Ÿæƒ³ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚&lt;br &#x2F;&gt;
&lt;a rel=&quot;external&quot; href=&quot;https:&#x2F;&#x2F;wasmbook.com&#x2F;&quot;&gt;è‘—è€…ã®Webã‚µã‚¤ãƒˆ&lt;&#x2F;a&gt;ã«ã¯ä»–ã«ã‚‚WebAssemblyã«ã¤ã„ã¦ã®ãƒˆãƒ”ãƒƒã‚¯ãŒã‚ã‚Šã¾ã™ã€‚&lt;br &#x2F;&gt;
ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯&lt;a rel=&quot;external&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;battlelinegames&#x2F;ArtOfWasm&quot;&gt;GitHub&lt;&#x2F;a&gt;ã‹ã‚‰è¦‹ã‚Œã¾ã™ã€‚&lt;br &#x2F;&gt;
canvasã«3000å€‹ã®objectã®è¡çªåˆ¤å®šã‚’renderingã™ã‚‹ã‚µãƒ³ãƒ—ãƒ«ã‚’å‹•ã‹ã™ã¨ã“ã‚ã¾ã§ã‚„ã‚Šã¾ã—ãŸã€‚&lt;br &#x2F;&gt;
https:&#x2F;&#x2F;wasmbook.com&#x2F;collide.html&lt;&#x2F;p&gt;

&lt;figure class=&quot;&quot;&gt;
  &lt;div class=&quot;fig-images-row&quot;&gt;
    
    &lt;img 
      src=&quot;images&amp;#x2F;wasm_object_collision.gif&quot; 
      alt=&quot;&quot;, 
       
      
    &gt;
    
  &lt;&#x2F;div&gt;
  &lt;figcaption&gt;collide.html&lt;&#x2F;figcaption&gt;
&lt;&#x2F;figure&gt;
&lt;h2 id=&quot;kitukake&quot;&gt;&lt;a class=&quot;zola-anchor&quot; href=&quot;#kitukake&quot; aria-label=&quot;Anchor link for: kitukake&quot;&gt;ãã£ã‹ã‘&lt;&#x2F;a&gt;&lt;&#x2F;h2&gt;
&lt;p&gt;Rustã§WASMã®ecosystemã«ãµã‚Œã¦ã„ãå‰ã«ç´ ã®WASMã«ã¤ã„ã¦ãªã‚“ã¨ãªãã§ã‚‚ç†è§£ã—ãŸã„ã¨æ€ã£ã¦ã„ã¾ã—ãŸã€‚(ã‚ã‚‹ç¨‹åº¦ç”Ÿæˆã•ã‚ŒãŸã‚°ãƒ«ãƒ¼ã‚³ãƒ¼ãƒ‰èª­ã‚ãªã„ã¨è½ã¡ç€ã‹ãªã„)&lt;br &#x2F;&gt;
æœ¬æ›¸ã§ã¯WATã‚’æ›¸ã„ã¦WASMã«å¤‰æ›ã—ã¦å‹•ã‹ã—ãªãŒã‚‰WASMã®ä»•æ§˜ã‚’è¿½ã£ã¦ã„ãã®ã§ã€WASMã ã‘ã‚’å­¦ã¹ã‚‹ã¨æ€ã£ã¦èª­ã‚“ã§ã¿ã¾ã—ãŸã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;matome&quot;&gt;&lt;a class=&quot;zola-anchor&quot; href=&quot;#matome&quot; aria-label=&quot;Anchor link for: matome&quot;&gt;ã¾ã¨ã‚&lt;&#x2F;a&gt;&lt;&#x2F;h2&gt;
&lt;ul&gt;
&lt;li&gt;ç‰¹ã«ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ç”¨ã„ãšã«WATã‚’æ›¸ã„ã¦WASMã«å¤‰æ›ã—ã¦ã€node&#x2F;browserã‹ã‚‰å‹•ã‹ã›ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸ&lt;&#x2F;li&gt;
&lt;li&gt;WASMãŒã‚¹ã‚¿ãƒƒã‚¯ãƒã‚·ãƒ³ã¨ã—ã¦å‹•ä½œã—ã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã—ãŸ&lt;&#x2F;li&gt;
&lt;li&gt;ç¾çŠ¶ã®WASM(1.0)ã¨Javascriptã®å½¹å‰²åˆ†æ‹…ãŒã‚ã‹ã‚Šã¾ã—ãŸ&lt;&#x2F;li&gt;
&lt;li&gt;ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ã‚„ã€ãƒ‡ãƒãƒƒã‚°æ–¹æ³•ã«ã¤ã„ã¦ã‚‚æ›¸ã„ã¦ã‚ã‚Šã¾ã™&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h2 id=&quot;somosomowasmtoha&quot;&gt;&lt;a class=&quot;zola-anchor&quot; href=&quot;#somosomowasmtoha&quot; aria-label=&quot;Anchor link for: somosomowasmtoha&quot;&gt;ãã‚‚ãã‚‚WASMã¨ã¯&lt;&#x2F;a&gt;&lt;&#x2F;h2&gt;
&lt;p&gt;ãã‚‚ãã‚‚WebAssembly(WASM)ã¨ã¯ãªã«ã‹ã¨ã„ã†è©±ãªã®ã§ã™ãŒã€ä»¥ä¸‹ã®ã‚ˆã†ã«å®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;WebAssemblyã¨ã¯ã€ã‚¹ã‚¿ãƒƒã‚¯ãƒã‚·ãƒ³ç”¨ã®ä»®æƒ³å‘½ä»¤ã‚»ãƒƒãƒˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£(Virtual ISA)ã€‚&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;WebAssembly (abbreviated Wasm) is a binary instruction format for a stack-based virtual machine. Wasm is designed as a portable compilation target for programming languages, enabling deployment on the web for client and server applications.&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;https:&#x2F;&#x2F;webassembly.org&#x2F;&lt;&#x2F;p&gt;
&lt;p&gt;ã‚¹ã‚¿ãƒƒã‚¯ãƒã‚·ãƒ³ç”¨ã¨ã„ã†ã®ã¯ã€CPUå‘½ä»¤ã«ãƒ¬ã‚¸ã‚¹ã‚¿ãƒ¼ãŒã§ã¦ã“ãªã„ã¨ã„ã†æ„å‘³ã§ã€å¸¸ã«æš—é»™çš„ã«å­˜åœ¨ã™ã‚‹ã‚°ãƒ­ãƒ¼ãƒãƒ«ãªã‚¹ã‚¿ãƒƒã‚¯ã‚’æ“ä½œã™ã‚‹ã“ã¨ã§ãƒ‡ãƒ¼ã‚¿ã‚’å‡¦ç†ã—ã¦ã„ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã¾ãŸã€ç¾æ™‚ç‚¹ã®MVP(Minimum Viable Product) 1.0ã§ã¯ã€JavaScript(React,Vue)ã‚’ç½®ãæ›ãˆã‚‹ã‚ˆã†ãªã“ã¨ã¯ã§ããªã„ã—ã€æ„å›³ã•ã‚Œã¦ã‚‚ã„ãªã„ãã†ã§ã™ã€‚&lt;br &#x2F;&gt;
ã“ã®ã‚ãŸã‚Šã‚‚ã“ã‚Œã‹ã‚‰è¦‹ã¦ã„ãã®ã§ã™ãŒã€WASMã‹ã‚‰DOMã‚’æ“ä½œã§ããªã„ã®ã§jsã‚’ç½®ãæ›ãˆã‚‹ã¨ã„ã†ã®ã¯ã§ããªãã†ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;wattoha&quot;&gt;&lt;a class=&quot;zola-anchor&quot; href=&quot;#wattoha&quot; aria-label=&quot;Anchor link for: wattoha&quot;&gt;WATã¨ã¯&lt;&#x2F;a&gt;&lt;&#x2F;h2&gt;
&lt;p&gt;WebAssembly Text(WAT)ã¯ã€WASMã®ã‚¢ã‚»ãƒ³ãƒ–ãƒªè¨€èª(ã®ã‚ˆã†ãªã‚‚ã®)ã§ã™ã€‚&lt;br &#x2F;&gt;
WASM,WATé–“ã§ç›¸äº’ã«å¤‰æ›ã§ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;zhun-bei&quot;&gt;&lt;a class=&quot;zola-anchor&quot; href=&quot;#zhun-bei&quot; aria-label=&quot;Anchor link for: zhun-bei&quot;&gt;æº–å‚™&lt;&#x2F;a&gt;&lt;&#x2F;h2&gt;
&lt;p&gt;ä»¥ä¸‹ã‚’æº–å‚™ã—ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;WASMã®å®Ÿè¡Œç’°å¢ƒã¨ã—ã¦node&lt;&#x2F;li&gt;
&lt;li&gt;WATã‚’WASMã«å¤‰æ›ã™ã‚‹cli(&lt;code&gt;wat2wasm&lt;&#x2F;code&gt;)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;pre class=&quot;giallo&quot; style=&quot;color: #D8DEE9; background-color: #2E3440;&quot;&gt;&lt;code data-lang=&quot;shellscript&quot;&gt;&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;â¯&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt; node -v&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;v16.13.2&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;nodeã¯v16ã‚’åˆ©ç”¨ã—ã¾ã—ãŸã€æœ¬æ›¸ã§ã¯&lt;code&gt;12.14.0&lt;&#x2F;code&gt;ãŒå‰æã¨ãªã£ã¦ã„ã¾ã™ã€‚&lt;br &#x2F;&gt;
ä½™è«‡ã§ã™ãŒã€nodeã®versionç®¡ç†ã¯nvmã‹ã‚‰Rustè£½ã®&lt;a rel=&quot;external&quot; href=&quot;https:&#x2F;&#x2F;github.com&#x2F;Schniz&#x2F;fnm&quot;&gt;fnm&lt;&#x2F;a&gt;ã«åˆ‡ã‚Šæ›¿ãˆã¾ã—ãŸã€‚&lt;br &#x2F;&gt;
nodeã‚’installã™ã‚‹ã¨ã—ãŸã‚‰ä»¥ä¸‹ã®ã‚ˆã†ãªæ„Ÿã˜ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre class=&quot;giallo&quot; style=&quot;color: #D8DEE9; background-color: #2E3440;&quot;&gt;&lt;code data-lang=&quot;shellscript&quot;&gt;&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;â¯&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt; cargo install fnm&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;â¯&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt; fnm install v16.13.2&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;â¯&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt; fnm default v16.13.2&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;â¯&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt; eval&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt; &amp;quot;$(&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;fnm&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt; env&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;)&amp;quot;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æ¬¡ã«WATã‚’WASMã«å¤‰æ›ã™ã‚‹ãŸã‚ã®&lt;code&gt;wat2wasm&lt;&#x2F;code&gt;ã‚’installã—ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre class=&quot;giallo&quot; style=&quot;color: #D8DEE9; background-color: #2E3440;&quot;&gt;&lt;code data-lang=&quot;shellscript&quot;&gt;&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;â¯&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt; npm install -g wat-wasm&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;â¯&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt; cat&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; &amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt; file.wat&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;  &amp;lt;&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;EOF&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;(module)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;EOF&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;â¯&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt; wat2wasm file.wat&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;========================================================&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;  WAT2WASM&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;========================================================&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;  Need&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt; help?&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;  Contact&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt; Rick Battagline&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;  Twitter:&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt; @battagline&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;  https:&#x2F;&#x2F;wasmbook.com&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;  v1.0.43&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;no&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt; memory&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;Writing&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt; to file.wasm&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;WASM&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt; File Saved!&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ã“ã‚Œã§ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«&lt;code&gt;file.wasm&lt;&#x2F;code&gt;ãŒç”Ÿæˆã•ã‚Œã‚‹ã®ã§ä¸­èº«ã‚’è¦‹ã¦ã¿ã¾ã™ã€‚&lt;br &#x2F;&gt;
toolã¯ãªã‚“ã§ã‚‚ã‚ˆã„ã®ã§ã™ãŒè‡ªåˆ†ã¯&lt;code&gt;hexyl&lt;&#x2F;code&gt;ã‚’åˆ©ç”¨ã—ã¦ã„ã¾ã™ã€‚(&lt;code&gt;cargo install hexyl&lt;&#x2F;code&gt;)&lt;&#x2F;p&gt;
&lt;pre class=&quot;giallo&quot; style=&quot;color: #D8DEE9; background-color: #2E3440;&quot;&gt;&lt;code data-lang=&quot;shellscript&quot;&gt;&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;â¯&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt; hexyl file.wasm&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;â”‚00000000â”‚&lt;&#x2F;span&gt;&lt;span style=&quot;color: #B48EAD;&quot;&gt; 00 61 73&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt; 6d&lt;&#x2F;span&gt;&lt;span style=&quot;color: #B48EAD;&quot;&gt; 01 00 00 00&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt; â”Š                         â”‚0asmâ€¢000â”Š        â”‚&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;a rel=&quot;external&quot; href=&quot;https:&#x2F;&#x2F;webassembly.github.io&#x2F;spec&#x2F;core&#x2F;binary&#x2F;modules.html#binary-module&quot;&gt;WASMã®Binary Formatã«é–¢ã™ã‚‹ä»•æ§˜&lt;&#x2F;a&gt;ã§moduleã¯ä»¥ä¸‹ã®ã‚ˆã†ã«å®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre class=&quot;giallo&quot; style=&quot;color: #D8DEE9; background-color: #2E3440;&quot;&gt;&lt;code data-lang=&quot;plain&quot;&gt;&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;magic   ::= 0x00 0x61 0x73 0x6D&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;version ::= 0x01 0x00 0x00 0x00&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;module  ::= magic&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            version&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            (çœç•¥)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ã¨ã„ã†ã“ã¨ã§ã€å…ˆé ­ãŒ&lt;code&gt;0asm&lt;&#x2F;code&gt;ã®MAGIC NUMBERã§æ¬¡ã®4byteãŒBinary Formatã®version 1ã«ãªã£ã¦ã„ã¾ã™ã€‚(61=a, 73=s, 6d=m)&lt;br &#x2F;&gt;
&lt;a rel=&quot;external&quot; href=&quot;https:&#x2F;&#x2F;webassembly.github.io&#x2F;spec&#x2F;core&#x2F;binary&#x2F;values.html#integers&quot;&gt;WASMã¯ãƒªãƒˆãƒ«ã‚¨ãƒ³ãƒ‡ã‚£ã‚¢ãƒ³&lt;&#x2F;a&gt;ãªã®ã§ã€01ãŒå…ˆé ­ã«ãã¦ã„ã¾ã™ã­ã€‚&lt;br &#x2F;&gt;
WATã‚’WASMã«å¤‰æ›ã§ãã¦ã„ã‚‹ã“ã¨ãŒç¢ºèªã§ãã‚Œã°æº–å‚™å®Œäº†ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;watnomentarumoderu&quot;&gt;&lt;a class=&quot;zola-anchor&quot; href=&quot;#watnomentarumoderu&quot; aria-label=&quot;Anchor link for: watnomentarumoderu&quot;&gt;WATã®ãƒ¡ãƒ³ã‚¿ãƒ«ãƒ¢ãƒ‡ãƒ«&lt;&#x2F;a&gt;&lt;&#x2F;h2&gt;
&lt;p&gt;ã•ã£ããHello Worldã«å…¥ã‚ŠãŸã„ã¨ã“ã‚ãªã®ã§ã™ãŒã€WASMã«ã¯Stringå‹ã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ ãŒãªã‹ã£ãŸã‚Šã€çµ„ã¿è¾¼ã¿ç’°å¢ƒ(å®Ÿè¡Œç’°å¢ƒ)ã¨ã®import&#x2F;exportãŒæœ€åˆã¯ã‚ã‹ã‚Šã¥ã‚‰ã‹ã£ãŸã‚Šã—ãŸã®ã§ã€WATã®æ›¸ãæ–¹ã‹ã‚‰è¦‹ã¦ã„ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;WATã§ã¯æš—é»™çš„ãªã‚°ãƒ­ãƒ¼ãƒ‘ãƒ«ã®ã‚¹ã‚¿ãƒƒã‚¯ã‚’æ“ä½œã™ã‚‹ã“ã¨ã§æ¼”ç®—ã‚„é–¢æ•°ã¨ã®ã‚„ã‚Šå–ã‚Šã‚’è¡Œã„ã¾ã™ã€‚&lt;br &#x2F;&gt;
ä¾‹ãˆã°å®šæ•°ã®10ã¨20ã‚’åŠ ç®—ã™ã‚‹ã«ã¯&lt;&#x2F;p&gt;
&lt;pre class=&quot;giallo&quot; style=&quot;color: #D8DEE9; background-color: #2E3440;&quot;&gt;&lt;code data-lang=&quot;plain&quot;&gt;&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;i32.const 10 ;; [ 10 ]&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;i32.const 20 ;; [ 10 20 ]&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;i32.add      ;; [ 30 ]&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ã®ã‚ˆã†ã«æ›¸ãã¾ã™ã€‚å„æ¥­ã®å‘½ä»¤ãŒå®Ÿè¡Œã•ã‚ŒãŸã‚ã¨ã®ã‚¹ã‚¿ãƒƒã‚¯ã®çŠ¶æ…‹ã‚’ã‚³ãƒ¡ãƒ³ãƒˆã§æ›¸ã„ã¦ã‚ã‚Šã¾ã™ã€‚&lt;br &#x2F;&gt;
ãƒ¬ã‚¸ã‚¹ã‚¿ãƒ¼ã‚’æŒ‡å®šã™ã‚‹å‘½ä»¤ãŒãªã„ã®ãŒã‚¹ã‚¿ãƒƒã‚¯ãƒã‚·ãƒ¼ãƒ³ç”¨ã¨ã„ã†ã“ã¨ãªã‚“ã ã‚ã†ã¨æ€ã„ã¾ã™ã€‚&lt;br &#x2F;&gt;
WATã§ã¯ã‚‚ã†ã²ã¨ã¤ã€S expression(Så¼)ã¨ã„ã†æ›¸ãæ–¹ãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ãŠã‚Šã€ä¸Šè¨˜ã®åŠ ç®—ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ã‚‚æ›¸ã‘ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre class=&quot;giallo&quot; style=&quot;color: #D8DEE9; background-color: #2E3440;&quot;&gt;&lt;code data-lang=&quot;plain&quot;&gt;&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;(i32.add (i32.const 10) (i32.const 20))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;Så¼ã¨é€šå¸¸ã®è¨˜æ³•ã¯æ··åœ¨ã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚&lt;br &#x2F;&gt;
ã¾ãŸã€WASMã®å®Ÿè¡Œå˜ä½ã§ã‚ã‚‹moduleã‚‚ã²ã¨ã¤ã®Så¼ã¨ã—ã¦è¡¨ç¾ã•ã‚Œã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;nodekaranodong-kasifang&quot;&gt;&lt;a class=&quot;zola-anchor&quot; href=&quot;#nodekaranodong-kasifang&quot; aria-label=&quot;Anchor link for: nodekaranodong-kasifang&quot;&gt;Nodeã‹ã‚‰ã®å‹•ã‹ã—æ–¹&lt;&#x2F;a&gt;&lt;&#x2F;h2&gt;
&lt;p&gt;WATã®æ›¸ãæ–¹ãŒãªã‚“ã¨ãªãã‚ã‹ã£ãŸã®ã§nodeã‹ã‚‰å‹•ã‹ã—ã¦ã¿ã¾ã™ã€‚&lt;br &#x2F;&gt;
&lt;code&gt;node add.js 10 20&lt;&#x2F;code&gt;ã®ã‚ˆã†ã«å¼•æ•°ã§ä¸ãˆã‚‰ã‚ŒãŸæ•°ã‚’WASMã§åŠ ç®—ã—ã¦çµæœã‚’è¡¨ç¤ºã™ã‚‹å‡¦ç†ã‚’ä½œã£ã¦ã„ãã¾ã™ã€‚&lt;br &#x2F;&gt;
&lt;a rel=&quot;external&quot; href=&quot;https:&#x2F;&#x2F;webassembly.github.io&#x2F;spec&#x2F;core&#x2F;text&#x2F;conventions.html#conventions&quot;&gt;WATã®æ¨å¥¨æ‹¡å¼µå­ã¯&lt;code&gt;wat&lt;&#x2F;code&gt;ã‚‰ã—ã„ã§ã™&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;addInt.wat&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;pre class=&quot;giallo&quot; style=&quot;color: #D8DEE9; background-color: #2E3440;&quot;&gt;&lt;code data-lang=&quot;plain&quot;&gt;&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;(module&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    (func (export &amp;quot;addInt&amp;quot;)                   ;; 1&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    (param $value_1 i32) (param $value_2 i32) ;; 2&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    (result i32)                              ;; 3&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    local.get $value_1&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    local.get $value_2&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    i32.add                                   ;; 4&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    )&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ã¾ãšã€åŠ ç®—ã‚’è¡Œã†WASM moduleã‚’ä½œæˆã—ã¾ã™ã€‚&lt;br &#x2F;&gt;
&lt;code&gt;(module)&lt;&#x2F;code&gt;ã¯ãŠæ±ºã¾ã‚Šã§å¿…ãšæ›¸ãã¾ã™ã€‚moduleã¯WASMã«ãŠã‘ã‚‹ã€&lt;a rel=&quot;external&quot; href=&quot;https:&#x2F;&#x2F;webassembly.github.io&#x2F;spec&#x2F;core&#x2F;syntax&#x2F;modules.html#modules&quot;&gt;deploy,loading,compileã®å˜ä½&lt;&#x2F;a&gt;ã§ã™ã€‚
æ¬¡ã«WASMã§ã¯é–¢æ•°å˜ä½ã§æ©Ÿèƒ½ã‚’å®šç¾©ã—ã¦ã„ãã®ã§ã€jsã‹ã‚‰å‘¼ã³å‡ºã™é–¢æ•°ã‚’å®šç¾©ã—ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;jså´ã‹ã‚‰ã“ã®é–¢æ•°ã‚’&lt;code&gt;addInt&lt;&#x2F;code&gt;ã¨ã—ã¦å‘¼ã¹ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚exportã‚’å¤‰ãªã¨ã“ã‚ã«å®šç¾©ã™ã‚‹ãªã¨æ€ã†ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ã“ã‚Œã¯&lt;a rel=&quot;external&quot; href=&quot;https:&#x2F;&#x2F;webassembly.github.io&#x2F;spec&#x2F;core&#x2F;text&#x2F;modules.html#text-func-abbrev&quot;&gt;syntactic sugar&lt;&#x2F;a&gt;ã®ã‚ˆã†ã§ã™&lt;&#x2F;li&gt;
&lt;li&gt;é–¢æ•°ã¯äºŒã¤ã®i32å‹ã®å¼•æ•°ã‚’ã¨ã‚‹ã“ã¨ã‚’å®£è¨€ã—ã¦ã„ã¾ã™ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;é–¢æ•°ã¯i32å‹ã®çµæœã‚’æˆ»ã‚Šå€¤ã¨ã—ã¦è¿”ã™ã“ã¨ã‚’å®£è¨€ã—ã¦ã„ã¾ã™ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;$value_1&lt;&#x2F;code&gt;ã¨&lt;code&gt;$value_2&lt;&#x2F;code&gt;ã®åŠ ç®—çµæœã‚’stackã«æ®‹ã—ã¦ãŠãã“ã¨ã§çµæœã‚’è¿”ã—ã¾ã™ã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;&lt;code&gt;wat2wasm addInt.wat&lt;&#x2F;code&gt;ã§``addInt.wasm`ãŒç”Ÿæˆã§ãã‚Œã°å®Œäº†ã§ã™ã€‚&lt;br &#x2F;&gt;
æ¬¡ã«ã“ã®WASMã‚’å‘¼ã³å‡ºã™jsã‚’æ›¸ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;addInt.js&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;pre class=&quot;giallo&quot; style=&quot;color: #D8DEE9; background-color: #2E3440;&quot;&gt;&lt;code data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;const&lt;&#x2F;span&gt;&lt;span&gt; fs&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt; require&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;fs&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;const&lt;&#x2F;span&gt;&lt;span&gt; bytes&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span&gt; fs&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;readFileSync&lt;&#x2F;span&gt;&lt;span&gt;(__dirname&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; +&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt; &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;&#x2F;addInt.wasm&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #616E88;&quot;&gt;           &#x2F;&#x2F; 1&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;const&lt;&#x2F;span&gt;&lt;span&gt; value_1&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt; parseInt&lt;&#x2F;span&gt;&lt;span&gt;(process&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;argv[&lt;&#x2F;span&gt;&lt;span style=&quot;color: #B48EAD;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;])&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;const&lt;&#x2F;span&gt;&lt;span&gt; value_2&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt; parseInt&lt;&#x2F;span&gt;&lt;span&gt;(process&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;argv[&lt;&#x2F;span&gt;&lt;span style=&quot;color: #B48EAD;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;])&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;async&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt; ()&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt; {&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;  const&lt;&#x2F;span&gt;&lt;span&gt; obj&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; = await&lt;&#x2F;span&gt;&lt;span&gt; WebAssembly&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;instantiate&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;new&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt; Uint8Array&lt;&#x2F;span&gt;&lt;span&gt;(bytes))&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #616E88;&quot;&gt;  &#x2F;&#x2F; 2&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;  let&lt;&#x2F;span&gt;&lt;span&gt; add_value&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span&gt; obj&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;instance&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;exports&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;addInt&lt;&#x2F;span&gt;&lt;span&gt;(value_1&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;,&lt;&#x2F;span&gt;&lt;span&gt; value_2)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #616E88;&quot;&gt;     &#x2F;&#x2F; 3&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;  console&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;log&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;`&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;${&lt;&#x2F;span&gt;&lt;span&gt;value_1&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;}&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt; + &lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;${&lt;&#x2F;span&gt;&lt;span&gt;value_2&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;}&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt; = &lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;${&lt;&#x2F;span&gt;&lt;span&gt;add_value&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;}&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;`&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;}&lt;&#x2F;span&gt;&lt;span&gt;)()&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;ol&gt;
&lt;li&gt;WASMã‚’fileã‹ã‚‰èª­ã¿è¾¼ã¿ã¾ã™ã€‚browserã®å ´åˆã¯ã“ã“ãŒfetch(ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¶Šã—)ã«ãªã‚Šã¾ã™ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;WASMã‚’instanceåŒ–ã—ã¾ã™ã€‚ãƒ¡ãƒ³ã‚¿ãƒ«ãƒ¢ãƒ‡ãƒ«çš„ã«ã¯ã“ã“ã§ã€èª­ã¿è¾¼ã‚“ã wasmã®moduleã®åˆæœŸåŒ–å‡¦ç†ãŒèµ°ã‚Šã¾ã™ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;WASMã‹ã‚‰exportã—ãŸé–¢æ•°ã¯&lt;code&gt;instance.exports&lt;&#x2F;code&gt;ã«æ ¼ç´ã•ã‚Œã¦ã„ã‚‹ã®ã§å‘¼ã³å‡ºã—ã¾ã™ã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;pre class=&quot;giallo&quot; style=&quot;color: #D8DEE9; background-color: #2E3440;&quot;&gt;&lt;code data-lang=&quot;shellscript&quot;&gt;&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;â¯&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt; node addInt.js&lt;&#x2F;span&gt;&lt;span style=&quot;color: #B48EAD;&quot;&gt; 1 2&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt; +&lt;&#x2F;span&gt;&lt;span style=&quot;color: #B48EAD;&quot;&gt; 2&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span style=&quot;color: #B48EAD;&quot;&gt; 3&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;jsã‹ã‚‰WASMã‚’å‘¼ã³å‡ºã™ã“ã¨ãŒã§ãã¾ã—ãŸğŸ‰&lt;br &#x2F;&gt;
ã“ã®ã‚ˆã†ã«WASMå´ã§exportã—ãŸé–¢æ•°ã‚’jså´ã‹ã‚‰å‘¼ã³å‡ºã™ã“ã¨ã§åˆ©ç”¨ã—ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;browserkaranodong-kasifang&quot;&gt;&lt;a class=&quot;zola-anchor&quot; href=&quot;#browserkaranodong-kasifang&quot; aria-label=&quot;Anchor link for: browserkaranodong-kasifang&quot;&gt;Browserã‹ã‚‰ã®å‹•ã‹ã—æ–¹&lt;&#x2F;a&gt;&lt;&#x2F;h2&gt;
&lt;p&gt;æ¬¡ã«WASMã‚’browserã‹ã‚‰å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚&lt;br &#x2F;&gt;
WASMã®binaryã‚’å–å¾—ã—ã¦instantiateã—ãŸã®ã¡ã«ã€exportã•ã‚ŒãŸé–¢æ•°ã‚’å‘¼ã³å‡ºã™ã¨ã„ã†åŸºæœ¬çš„ãªæµã‚Œã¯åŒã˜ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã¾ãšã€browserã«WASMã¨htmlã‚’serveã—ãŸã„ã®ã§ã€http serverã‚’å»ºã¦ã‚‰ã‚Œã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚(localã®fileã‚’serveã§ãã‚Œã°ãªã‚“ã§ã‚‚ã‚ˆã„ã§ã™)&lt;&#x2F;p&gt;
&lt;pre class=&quot;giallo&quot; style=&quot;color: #D8DEE9; background-color: #2E3440;&quot;&gt;&lt;code data-lang=&quot;shellscript&quot;&gt;&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;â¯&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt; npm install --save-dev connect serve-static&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æ¬¡ã«ä»¥ä¸‹ã®å†…å®¹ã®&lt;code&gt;index.html&lt;&#x2F;code&gt;ã‚’ä½œã‚Šã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre class=&quot;giallo&quot; style=&quot;color: #D8DEE9; background-color: #2E3440;&quot;&gt;&lt;code data-lang=&quot;html&quot;&gt;&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;&amp;lt;!DOCTYPE&lt;&#x2F;span&gt;&lt;span style=&quot;color: #8FBCBB;&quot;&gt; html&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;&amp;lt;html&lt;&#x2F;span&gt;&lt;span style=&quot;color: #8FBCBB;&quot;&gt; lang&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;en&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;&amp;lt;head&amp;gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;    &amp;lt;meta&lt;&#x2F;span&gt;&lt;span style=&quot;color: #8FBCBB;&quot;&gt; charset&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;UTF-8&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;    &amp;lt;meta&lt;&#x2F;span&gt;&lt;span style=&quot;color: #8FBCBB;&quot;&gt; name&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;â€viewportâ€&lt;&#x2F;span&gt;&lt;span style=&quot;color: #8FBCBB;&quot;&gt; content&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;â€width&lt;&#x2F;span&gt;&lt;span style=&quot;background-color: #BF616A;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;device-width,initial-scale&lt;&#x2F;span&gt;&lt;span style=&quot;background-color: #BF616A;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;1â€³&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;    &amp;lt;title&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;Add Int&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;&amp;lt;&#x2F;title&amp;gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;    &amp;lt;script&amp;gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;        let&lt;&#x2F;span&gt;&lt;span&gt; output&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; = null;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;        let&lt;&#x2F;span&gt;&lt;span&gt; addIntWasm&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #616E88;&quot;&gt;        &#x2F;&#x2F; 1&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;        let&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt; logAddInt&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt; (&lt;&#x2F;span&gt;&lt;span&gt;a&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;,&lt;&#x2F;span&gt;&lt;span&gt; b&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;,&lt;&#x2F;span&gt;&lt;span&gt; sum&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt; {&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;            if&lt;&#x2F;span&gt;&lt;span&gt; (output&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; == null&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt; {&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                console&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;log&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;page load not complete&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;                return;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;            }&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            output&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;innerHTML&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; +=&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt; `&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;${&lt;&#x2F;span&gt;&lt;span&gt;a&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;}&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt; + &lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;${&lt;&#x2F;span&gt;&lt;span&gt;b&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;}&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt; = &lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;${&lt;&#x2F;span&gt;&lt;span&gt;sum&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;}&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;&amp;lt;br&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;`&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;        }&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #616E88;&quot;&gt;        &#x2F;&#x2F; 2&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;        let&lt;&#x2F;span&gt;&lt;span&gt; importObject&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt; {&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;            env&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;: {&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;                logAddInt&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; logAddInt&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;            }&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;        }&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;async&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt; ()&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt; {&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;            let&lt;&#x2F;span&gt;&lt;span&gt; obj&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; = await&lt;&#x2F;span&gt;&lt;span&gt; WebAssembly&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;instantiateStreaming&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;fetch&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;addInt.wasm&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;,&lt;&#x2F;span&gt;&lt;span&gt; importObject)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #616E88;&quot;&gt; &#x2F;&#x2F; 3&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            addIntWasm&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span&gt; obj&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;instance&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;exports&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;addInt&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #616E88;&quot;&gt;                                             &#x2F;&#x2F; 4&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;            let&lt;&#x2F;span&gt;&lt;span&gt; btn&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span&gt; document&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;getElementById&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;addIntButton&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            btn&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;style&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;display&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;block&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;        }&lt;&#x2F;span&gt;&lt;span&gt;)()&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;        function&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt; onPageLoad&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;() {&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            (&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;async&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt; ()&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt; {&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                output&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span&gt; document&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;getElementById&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;output&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;            }&lt;&#x2F;span&gt;&lt;span&gt;)()&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;        }&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;    &amp;lt;&#x2F;script&amp;gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;&amp;lt;&#x2F;head&amp;gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;&amp;lt;body&lt;&#x2F;span&gt;&lt;span style=&quot;color: #8FBCBB;&quot;&gt; onLoad&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;onPageLoad()&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;&amp;lt;input&lt;&#x2F;span&gt;&lt;span style=&quot;color: #8FBCBB;&quot;&gt; type&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;number&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #8FBCBB;&quot;&gt; id&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;a_val&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #8FBCBB;&quot;&gt; value&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;&amp;gt;&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;&amp;lt;input&lt;&#x2F;span&gt;&lt;span style=&quot;color: #8FBCBB;&quot;&gt; type&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;number&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #8FBCBB;&quot;&gt; id&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;b_val&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #8FBCBB;&quot;&gt; value&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;&amp;gt;&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;&amp;lt;button&lt;&#x2F;span&gt;&lt;span style=&quot;color: #8FBCBB;&quot;&gt; id&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;addIntButton&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #8FBCBB;&quot;&gt; type&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;button&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #8FBCBB;&quot;&gt; style&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;display:none&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #8FBCBB;&quot;&gt;        onclick&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;addIntWasm&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;(&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                document&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;getElementById&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;a_val&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;value&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                document&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;getElementById&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;b_val&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;value&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    Add Values&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;&amp;lt;&#x2F;button&amp;gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;&amp;lt;br&amp;gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;&amp;lt;p&lt;&#x2F;span&gt;&lt;span style=&quot;color: #8FBCBB;&quot;&gt; id&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;output&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #8FBCBB;&quot;&gt; style&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;float:left; width:200px; min-height:300px;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;&amp;lt;&#x2F;p&amp;gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;&amp;lt;&#x2F;body&amp;gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;&amp;lt;&#x2F;html&amp;gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;logAddInt&lt;&#x2F;code&gt;ã¯jsã‹ã‚‰wasmã«æ¸¡ã™é–¢æ•°ã§ã™ã€‚wasmã‹ã‚‰å‘¼ã°ã‚ŒãŸã‚‰çµæœã‚’DOMã«è¿½è¨˜ã—ã¦ã„ãã¾ã™ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;jsã‹ã‚‰wasmã«æ¸¡ã™objectã§ã™ã€‚&lt;code&gt;logAddInt&lt;&#x2F;code&gt;ã¯wasmå´ã¨ä¸€è‡´ã—ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;wasmã®instanceåŒ–ã§ã™ã€‚binaryã‚’&lt;code&gt;fetch()&lt;&#x2F;code&gt;ã§å–å¾—ã—ã¦ã„ã¾ã™ã€‚ç¬¬äºŒå¼•æ•°ã§importç”¨ã®objectã‚’æ¸¡ã—ã¾ã™ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;jsã‹ã‚‰callã™ã‚‹wasmã®é–¢æ•°ã§ã™ã€‚buttonã®onclickã«è¨­å®šã—ã¾ã™ã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;&lt;code&gt;addInt.wat&lt;&#x2F;code&gt;ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«å¤‰æ›´ã—ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre class=&quot;giallo&quot; style=&quot;color: #D8DEE9; background-color: #2E3440;&quot;&gt;&lt;code data-lang=&quot;plain&quot;&gt;&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;(module&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    (import &amp;quot;env&amp;quot; &amp;quot;logAddInt&amp;quot; (func $logAddInt (param i32 i32 i32))) ;; 1&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    (func (export &amp;quot;addInt&amp;quot;)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    (param $value_1 i32) (param $value_2 i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    (local $sum i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    local.get $value_1&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    local.get $value_2&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    i32.add&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    local.set $sum&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    (call $logAddInt (local.get $value_1) (local.get $value_2) (local.get $sum)) ;; 2&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    )&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;ol&gt;
&lt;li&gt;wasmãŒçµ„ã¿è¾¼ã¿ç’°å¢ƒ(å®Ÿè¡Œç’°å¢ƒ&#x2F;hostç’°å¢ƒ)ã‹ã‚‰å–å¾—ã™ã‚‹é–¢æ•°ã‚’å®£è¨€ã—ã¾ã™ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;importã—ãŸé–¢æ•°ã®å‘¼ã³å‡ºã—ã§ã™ã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;å¤‰æ›´ã—ãŸã‚‰ã€&lt;code&gt;wat2wasm addInt.wat&lt;&#x2F;code&gt;ã§wasmã«å¤‰æ›ã—ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æœ€å¾Œã«htmlã¨wasmã‚’serveã™ã‚‹ãŸã‚ã®&lt;code&gt;server.js&lt;&#x2F;code&gt;ã‚’ä½œæˆã—ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre class=&quot;giallo&quot; style=&quot;color: #D8DEE9; background-color: #2E3440;&quot;&gt;&lt;code data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;const&lt;&#x2F;span&gt;&lt;span&gt; connect&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt; require&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;connect&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;const&lt;&#x2F;span&gt;&lt;span&gt; serveStatic&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt; require&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;serve-static&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;connect&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;use&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;serveStatic&lt;&#x2F;span&gt;&lt;span&gt;(__dirname&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;))&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;listen&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color: #B48EAD;&quot;&gt;8080&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; function&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;() {&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;  console&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;log&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;localhost:8080&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;}&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ã“ã‚Œã§ä»¥ä¸‹ã®ã‚ˆã†ã«serverã‚’èµ·å‹•ã—ãŸã®ã¡browserã§&lt;code&gt;localhost:8080&lt;&#x2F;code&gt;ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre class=&quot;giallo&quot; style=&quot;color: #D8DEE9; background-color: #2E3440;&quot;&gt;&lt;code data-lang=&quot;shellscript&quot;&gt;&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;node&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt; server.js&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;[f:id:yamaguchi7073xtt:20220705044410p:plain]&lt;&#x2F;p&gt;
&lt;p&gt;ã“ã®ã‚ˆã†ã«çµ„ã¿è¾¼ã¿ç’°å¢ƒ(browser, node)ã¨wasmé–“ã§ã¯import&#x2F;exportã‚’ãŠäº’ã„ã®é–¢æ•°ã‚’å‘¼ã³åˆã†ã“ã¨ãŒã§ãã‚‹ã“ã¨ãŒç¢ºã‹ã‚ã‚‰ã‚Œã¾ã—ãŸã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;hello-world&quot;&gt;&lt;a class=&quot;zola-anchor&quot; href=&quot;#hello-world&quot; aria-label=&quot;Anchor link for: hello-world&quot;&gt;Hello World&lt;&#x2F;a&gt;&lt;&#x2F;h2&gt;
&lt;p&gt;WATã‚’WASMã«å¤‰æ›ã—ã¦çµ„ã¿è¾¼ã¿ç’°å¢ƒ(node,browser)ã‹ã‚‰å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒã§ããŸã®ã§ã€Hello Worldã‚’ã‚„ã£ã¦ã¿ã¾ã™ã€‚&lt;br &#x2F;&gt;
ã¾ãšä»¥ä¸‹ã®WATã‚’ä½œæˆã—ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre class=&quot;giallo&quot; style=&quot;color: #D8DEE9; background-color: #2E3440;&quot;&gt;&lt;code data-lang=&quot;plain&quot;&gt;&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;(module&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    (import &amp;quot;env&amp;quot; &amp;quot;print_string&amp;quot; (func $print_string(param i32)))  ;; 1&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    (import &amp;quot;env&amp;quot; &amp;quot;buffer&amp;quot; (memory 1))                             ;; 2&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    (global $start_string (import &amp;quot;env&amp;quot; &amp;quot;start_string&amp;quot;) i32)       ;; 3&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    (global $string_len i32 (i32.const 12))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    (data (global.get $start_string) &amp;quot;hello world!&amp;quot;)               ;; 4&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    (func (export &amp;quot;helloworld&amp;quot;)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (call $print_string (global.get $string_len))              ;; 5&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    )&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;ol&gt;
&lt;li&gt;WASMã‹ã‚‰I&#x2F;Oã‚’ã™ã‚‹ã“ã¨ãŒã§ããªã„ã®ã§ã€çµ„ã¿è¾¼ã¿ç’°å¢ƒã‹ã‚‰hello worldå‡ºåŠ›ç”¨ã®é–¢æ•°ã‚’importã—ã¾ã™ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;ç·šå½¢ãƒ¡ãƒ¢ãƒªã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã‚’å®£è¨€ã—ã¾ã™ã€‚å®Ÿéš›ã®ãƒ¡ãƒ¢ãƒªã¯jså´ã§ç¢ºä¿ã—ã¦WASMã«æ¸¡ã—ã¾ã™ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;ç·šå½¢ãƒ¡ãƒ¢ãƒªã®ã©ã®ä½ç½®ã«hello worldæ–‡å­—åˆ—ã‚’ç”Ÿæˆã™ã‚‹ã‹ã‚’jså´ã‹ã‚‰æŒ‡å®šã—ã¾ã™ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;æŒ‡å®šã•ã‚ŒãŸç·šå½¢ãƒ¡ãƒ¢ãƒªä½ç½®ã«UTF-8ã®byteåˆ—ã‚’ç”Ÿæˆã—ã¾ã™ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;importã—ãŸæ–‡å­—åˆ—å‡ºåŠ›ç”¨é–¢æ•°ã«å‡ºåŠ›ã™ã‚‹æ–‡å­—åˆ—ã®é•·ã•ã‚’æ¸¡ã—ã¾ã™ã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;jsã¨WASMã®å½¹å‰²åˆ†æ‹…ãŒã‚„ã‚„ã“ã—ã„ã§ã™ãŒä»¥ä¸‹ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;jså´
&lt;ul&gt;
&lt;li&gt;ãƒ¡ãƒ¢ãƒªç¢ºä¿&lt;&#x2F;li&gt;
&lt;li&gt;ç¢ºä¿ã—ãŸãƒ¡ãƒ¢ãƒªã®ã©ã®ä½ç½®ã«hello worldã‚’å‡ºåŠ›ã™ã‚‹ã‹ã‚’æŒ‡å®š&lt;&#x2F;li&gt;
&lt;li&gt;å‡ºåŠ›ã™ã‚‹æ–‡å­—åˆ—ã®é•·ã•ã‚’å¼•æ•°ã«ã¨ã‚‹é–¢æ•°ã‚’WASMã«æ¸¡ã™&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;WASMå´
&lt;ul&gt;
&lt;li&gt;importã—ãŸãƒ¡ãƒ¢ãƒªã®æŒ‡å®šã•ã‚ŒãŸä½ç½®ã«&quot;hello world&quot; UTF-8 byteåˆ—ã‚’ç”Ÿæˆ&lt;&#x2F;li&gt;
&lt;li&gt;å‡ºåŠ›ç”¨é–¢æ•°ã«&quot;hello world&quot;ã®é•·ã•ã‚’å¼•æ•°ã«ã—ã¦å‘¼ã³å‡ºã™&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;jså´ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ä½œæˆã—ã¾ã™ã€‚(&lt;code&gt;helloworld.js&lt;&#x2F;code&gt;)&lt;&#x2F;p&gt;
&lt;pre class=&quot;giallo&quot; style=&quot;color: #D8DEE9; background-color: #2E3440;&quot;&gt;&lt;code data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;const&lt;&#x2F;span&gt;&lt;span&gt; fs&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt; require&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;fs&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;const&lt;&#x2F;span&gt;&lt;span&gt; bytes&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span&gt; fs&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;readFileSync&lt;&#x2F;span&gt;&lt;span&gt;(__dirname&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; +&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt; &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;&#x2F;helloworld.wasm&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; hello_world&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; = null;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; start_string_index&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span style=&quot;color: #B48EAD;&quot;&gt; 200&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #616E88;&quot;&gt;                       &#x2F;&#x2F; 1&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; memory&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; = new&lt;&#x2F;span&gt;&lt;span&gt; WebAssembly&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;Memory&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;{&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;initial&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: #B48EAD;&quot;&gt; 1&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;}&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #616E88;&quot;&gt;  &#x2F;&#x2F; 2&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; importObject&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt; {&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;  env&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;: {&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;    buffer&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; memory&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color: #616E88;&quot;&gt;                                 &#x2F;&#x2F; 3&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;    start_string&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; start_string_index&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;    print_string&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; function&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt; (&lt;&#x2F;span&gt;&lt;span&gt;str_len&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;) {&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #616E88;&quot;&gt;      &#x2F;&#x2F; 4  &lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;      const&lt;&#x2F;span&gt;&lt;span&gt; bytes&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; = new&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt; Uint8Array&lt;&#x2F;span&gt;&lt;span&gt;(memory&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;buffer&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;          start_string_index&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;          str_len)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;      const&lt;&#x2F;span&gt;&lt;span&gt; log_string&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; = new&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt; TextDecoder&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;utf8&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;decode&lt;&#x2F;span&gt;&lt;span&gt;(bytes)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;      console&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;log&lt;&#x2F;span&gt;&lt;span&gt;(log_string)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;    }&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;  }&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;}&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;async&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt; ()&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt; {&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;  let&lt;&#x2F;span&gt;&lt;span&gt; obj&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; = await&lt;&#x2F;span&gt;&lt;span&gt; WebAssembly&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;instantiate&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;new&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt; Uint8Array&lt;&#x2F;span&gt;&lt;span&gt;(bytes)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;,&lt;&#x2F;span&gt;&lt;span&gt; importObject)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;  (&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;{&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;helloworld&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; hello_world&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;}&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span&gt; obj&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;instance&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;exports)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;  hello_world&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;}&lt;&#x2F;span&gt;&lt;span&gt;)()&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;ol&gt;
&lt;li&gt;é–‹å§‹200byteç›®ã«hello worldã‚’å‡ºåŠ›ã™ã‚‹ã“ã¨ã‚’æŒ‡å®š&lt;&#x2F;li&gt;
&lt;li&gt;WASMã«æ¸¡ã™ãƒ¡ãƒ¢ãƒªã‚’ç¢ºä¿ã—ã¾ã™&lt;&#x2F;li&gt;
&lt;li&gt;ç¢ºä¿ã—ãŸãƒ¡ãƒ¢ãƒªã‚’WASMã«æ¸¡ã—ã¾ã™&lt;&#x2F;li&gt;
&lt;li&gt;ç¢ºä¿ã—ãŸãƒ¡ãƒ¢ãƒªä½ç½®ã‚’UTF8ã¨ã—ã¦è§£é‡ˆã—ã¾ã™&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;pre class=&quot;giallo&quot; style=&quot;color: #D8DEE9; background-color: #2E3440;&quot;&gt;&lt;code data-lang=&quot;shellscript&quot;&gt;&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;â¯&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt; node helloworld.js&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;hello&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt; world!&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ç„¡äº‹ã€hello world!ãŒWASMã§ã§ãã¾ã—ãŸğŸ‰&lt;br &#x2F;&gt;
ã¾ãŸã“ã“ã§ç™»å ´ã—ãŸç·šå½¢ãƒ¡ãƒ¢ãƒª(&lt;code&gt;WebAssembly.Memory&lt;&#x2F;code&gt;)ã«ã¤ã„ã¦ã¯6ç« ã§è©³ã—ãèª¬æ˜ã•ã‚Œã¦ã„ã¾ã™ã€‚&lt;br &#x2F;&gt;
è‡ªåˆ†ã®ç†è§£ã¨ã—ã¦ã¯WASMã¨jsé–“ã§å…±æœ‰ã§ãã‚‹Bufferã§ã€ãƒšãƒ¼ã‚¸(64KB)å˜ä½ã§ç¢ºä¿ã™ã‚‹ã‚‚ã®ã¨è€ƒãˆã¦ãŠã‚Šã¾ã™ã€‚&lt;br &#x2F;&gt;
ã“ã®ç·šå½¢ãƒ¡ãƒ¢ãƒªã®å®Ÿç”¨çš„ãªåˆ©ç”¨ä¾‹ã¯æœ€å¾Œã®DOMæ“ä½œã§ãµã‚Œã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;is-prime&quot;&gt;&lt;a class=&quot;zola-anchor&quot; href=&quot;#is-prime&quot; aria-label=&quot;Anchor link for: is-prime&quot;&gt;&lt;code&gt;is_prime&lt;&#x2F;code&gt;&lt;&#x2F;a&gt;&lt;&#x2F;h2&gt;
&lt;p&gt;Hello WorldãŒæ¸ˆã‚“ã ã®ã§ã€WATã®åˆ¶å¾¡ãƒ•ãƒ­ãƒ¼(loop,if)ã‚’è¦‹ã¦ã„ãã¾ã™ã€‚åŠ ç®—ã‹ã‚‰ä¸€æ­©é€²ã‚“ã§ã€ç´ æ•°ã‚’åˆ¤å®šã™ã‚‹moduleã‚’ä½œã£ã¦ã„ãã¾ã™ã€‚&lt;br &#x2F;&gt;
ã¾ãšWATã‹ã‚‰ã§ã™ãŒé•·ããªã‚‹ã®ã§å°‘ã—ã¤ã¥ã¿ã¦ã„ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre class=&quot;giallo&quot; style=&quot;color: #D8DEE9; background-color: #2E3440;&quot;&gt;&lt;code data-lang=&quot;plain&quot;&gt;&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;(module&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    ;; å¶æ•°ã®åˆ¤å®š&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    (func $even_check (param $n i32) (result i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        local.get $n          ;; [ n ]&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        i32.const 2           ;; [ n 2 ]&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        i32.rem_u             ;; [ 0 ]   | [ 1 ] &lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        i32.const 0           ;; [ 0 0 ] | [ 1 0 ]&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        i32.eq ;; $n % 2 == 0 ;; [ 1 ] | [ 0 ] &lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    )&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;helperé–¢æ•°ã¨ã—ã¦å¶æ•°ã‚’åˆ¤å®šã™ã‚‹&lt;code&gt;even_check&lt;&#x2F;code&gt;ã‚’å®šç¾©ã—ã¾ã™ã€‚&lt;br &#x2F;&gt;
ã‚³ãƒ¡ãƒ³ãƒˆã§å‘½ä»¤å®Ÿè¡Œå¾Œã®ã‚¹ã‚¿ãƒƒã‚¯ã®æ§˜å­ã‚’æ›¸ã„ã¦ã‚ã‚Šã¾ã™ã€‚(&lt;code&gt;|&lt;&#x2F;code&gt;ã¯ã¾ãŸã¯ã®æ„å‘³ã§ã™)&lt;br &#x2F;&gt;
WASMã«ã¯ãƒ‡ãƒ¼ã‚¿å‹ã¨ã—ã¦booleanãŒãªã0ä»¥å¤–ãŒtrue, 0ãŒfalseã¨ã—ã¦æ‰±ã‚ã‚Œã¾ã™ã€‚&lt;br &#x2F;&gt;
&lt;code&gt;rem_u&lt;&#x2F;code&gt;ã¯é™¤ç®—ã®ä½™ã‚Šã‚’å‡ºåŠ›ã—ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre class=&quot;giallo&quot; style=&quot;color: #D8DEE9; background-color: #2E3440;&quot;&gt;&lt;code data-lang=&quot;plain&quot;&gt;&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    ;; 2ã¨ç­‰ã—ã„ã‹ã®åˆ¤å®š&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    (func $eq_2 (param $n i32) (result i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        local.get $n&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        i32.const 2&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        i32.eq&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    )&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    ;; n = m * q. nãŒmã®å€æ•°ã‹ã®åˆ¤å®šã€‚&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    (func $multiple_check (param $n i32) (param $m i32) (result i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        local.get $n&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        local.get $m&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        i32.rem_u ;; $n % $m&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        i32.const 0&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        i32.eq&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    )&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æ¬¡ã«2ã¨ç­‰ã—ã„ã‹åˆ¤å®šã™ã‚‹&lt;code&gt;eq_2&lt;&#x2F;code&gt;ã¨ç¬¬ä¸€å¼•æ•°ãŒç¬¬äºŒå¼•æ•°ã®å€æ•°ã‹ã‚’åˆ¤å®šã™ã‚‹&lt;code&gt;multiple_check&lt;&#x2F;code&gt;ã‚’å®šç¾©ã—ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre class=&quot;giallo&quot; style=&quot;color: #D8DEE9; background-color: #2E3440;&quot;&gt;&lt;code data-lang=&quot;plain&quot;&gt;&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    ;; ç´ æ•°ã®åˆ¤å®š&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    (func (export &amp;quot;is_prime&amp;quot;) (param $n i32) (result i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (local $i i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        ;; 1ã¨ç­‰ã—ã„ã‹ã®åˆ¤å®š&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (if (i32.eq (local.get $n) (i32.const 1))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            (then&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                i32.const 0&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                return&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            )&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        )&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        ;; 2ã¨ç­‰ã—ã„ã‹ã®åˆ¤å®š&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (if (call $eq_2 (local.get $n))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            (then&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                i32.const 1&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                return&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            )&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        )&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (block $not_prime &lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            (call $even_check (local.get $n))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            br_if $not_prime ;; å¶æ•°ãªã®ã§ç´ æ•°ã§ã¯ãªã„&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            (local.set $i (i32.const 1))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            (loop $prime_test_loop&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                ;; $i += 2&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                ;; teeã¯setã¨åŒã˜ã ãŒstackã‚’popã—ãªã„&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                (local.tee $i&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                    (i32.add (local.get $i) (i32.const 2)))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                local.get $n ;; stack = [ $i $n ]&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                i32.ge_u ;; $i &amp;gt;= $n&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                if&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                    ;; $nã‚’èª¿ã¹ãã£ãŸã®ã§ç´ æ•°ã¨åˆ¤å®š&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                    i32.const 1&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                    return&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                end&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                ;; stack = [];&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                ;; $nãŒ$iã®å€æ•°ãªã‚‰ç´ æ•°ã§ã¯ãªã„&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                (call $multiple_check (local.get $n) (local.get $i))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                br_if $not_prime&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                ;; loopã‚’ç¹°ã‚Šè¿”ã™&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                br $prime_test_loop&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            ) ;; $prime_test_loop end&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        )&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        ;; br $not_prime jump here&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        i32.const 0&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    )&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ã“ã“ã§ã€æ¡ä»¶åˆ†å²(&lt;code&gt;if&lt;&#x2F;code&gt;)ã¨loopã«ã¤ã„ã¦ç°¡å˜ã«è§£èª¬ã—ã¾ã™ã€‚&lt;br &#x2F;&gt;
&lt;code&gt;if&lt;&#x2F;code&gt;ã¯å®Ÿè¡Œæ™‚ã®ã‚¹ã‚¿ãƒƒã‚¯ã®å…ˆé ­ã‚’è©•ä¾¡ã—ã¦true(0ä»¥å¤–)ãªã‚‰&lt;code&gt;end&lt;&#x2F;code&gt;ã¾ã§ã®å‘½ä»¤ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚ã“ã“ã§ã¯åˆ©ç”¨ã—ã¦ã„ã¾ã›ã‚“ãŒ&lt;code&gt;else&lt;&#x2F;code&gt;ã‚‚æ›¸ã‘ã¾ã™ã€‚&lt;br &#x2F;&gt;
blockã¯å°‘ã€…ã‚ã‹ã‚Šã¥ã‚‰ã„ã®ã§ã™ãŒã€&lt;code&gt;br&lt;&#x2F;code&gt;(branch)å‘½ä»¤ã§blockã‚’æŠœã‘å‡ºã™ã“ã¨ãŒã§ãã¾ã™ã€‚&lt;code&gt;br_if&lt;&#x2F;code&gt;ã¯ã‚¹ã‚¿ãƒƒã‚¯ã®å…ˆé ­ã‚’è©•ä¾¡ã—ã¦trueãªã‚‰&lt;code&gt;br&lt;&#x2F;code&gt;ã™ã‚‹å‘½ä»¤ã§ã™ã€‚ä¸Šã®ä¾‹ã§ã¯&lt;code&gt;br $not_prime&lt;&#x2F;code&gt;ã§blockåˆ†ã‚’æŠœã‘å‡ºã™ã®ã§çµæœçš„ã«false(0)ãŒæˆ»ã‚Šå€¤ã¨ãªã‚Šã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;loopã‚‚ç›´æ„Ÿã«åã—ã¦è‡ªå‹•ã§ã¯loopã—ã¦ãã‚Œã¾ã›ã‚“ã€‚æ˜ç¤ºçš„ã«loopã®å…ˆé ­ã«jumpã™ã‚‹&lt;code&gt;br&lt;&#x2F;code&gt;å‘½ä»¤ã‚’åˆ©ç”¨ã—ã¦ã¯ã˜ã‚ã¦loopã§ãã¾ã™ã€‚&lt;br &#x2F;&gt;
ä¸Šã®ä¾‹ã§ã¯&lt;code&gt;br $prime_test_loop&lt;&#x2F;code&gt;ã§loopã®å…ˆé ­ã«æˆ»ã‚Šã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;local.tee $i&lt;&#x2F;code&gt;ã¯ã€ã‚¹ã‚¿ãƒƒã‚¯ã®å…ˆé ­ã‚’&lt;code&gt;$i&lt;&#x2F;code&gt;ã«ä»£å…¥ã—ã¤ã¤ã€ãã®å€¤ã‚’ã‚¹ã‚¿ãƒƒã‚¯ã«æ®‹ã—ã¾ã™(å‡ºåŠ›ã—ã¾ã™)&lt;br &#x2F;&gt;
loopåˆ¶å¾¡ç”¨ã®indexå¤‰æ•°ã‚’ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆã—ã¤ã¤ã€çµ‚äº†åˆ¤å®šã™ã‚‹å ´åˆã«ã‚ˆãä½¿ã‚ã‚Œã¦ã„ã¾ã—ãŸã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã“ã®WATã‚’WASMã«å¤‰æ›ã—ã¦ã€å‘¼ã³å‡ºã™jsã‚’ä½œæˆã—ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre class=&quot;giallo&quot; style=&quot;color: #D8DEE9; background-color: #2E3440;&quot;&gt;&lt;code data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;const&lt;&#x2F;span&gt;&lt;span&gt; fs&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt; require&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;fs&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;const&lt;&#x2F;span&gt;&lt;span&gt; bytes&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span&gt; fs&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;readFileSync&lt;&#x2F;span&gt;&lt;span&gt;(__dirname&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; +&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt; &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;&#x2F;is_prime.wasm&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;const&lt;&#x2F;span&gt;&lt;span&gt; value&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt; parseInt&lt;&#x2F;span&gt;&lt;span&gt;(process&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;argv[&lt;&#x2F;span&gt;&lt;span style=&quot;color: #B48EAD;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;])&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;async&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt; ()&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt; {&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;  let&lt;&#x2F;span&gt;&lt;span&gt; obj&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; = await&lt;&#x2F;span&gt;&lt;span&gt; WebAssembly&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;instantiate&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;new&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt; Uint8Array&lt;&#x2F;span&gt;&lt;span&gt;(bytes))&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;  if&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;!!&lt;&#x2F;span&gt;&lt;span&gt;obj&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;instance&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;exports&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;is_prime&lt;&#x2F;span&gt;&lt;span&gt;(value))&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt; {&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    console&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;log&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;`&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;${&lt;&#x2F;span&gt;&lt;span&gt;value&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;}&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt; is prime!&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;`&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;  }&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; else&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt; {&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    console&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;log&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;`&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;${&lt;&#x2F;span&gt;&lt;span&gt;value&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;}&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt; is NOT prime&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;`&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;  }&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;}&lt;&#x2F;span&gt;&lt;span&gt;)()&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;pre class=&quot;giallo&quot; style=&quot;color: #D8DEE9; background-color: #2E3440;&quot;&gt;&lt;code data-lang=&quot;shellscript&quot;&gt;&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;â¯&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt; node is_prime.js&lt;&#x2F;span&gt;&lt;span style=&quot;color: #B48EAD;&quot;&gt; 57&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;57&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt; is NOT prime&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ç„¡äº‹åˆ¤å®šã§ãã¾ã—ãŸã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;domcao-zuo&quot;&gt;&lt;a class=&quot;zola-anchor&quot; href=&quot;#domcao-zuo&quot; aria-label=&quot;Anchor link for: domcao-zuo&quot;&gt;DOMæ“ä½œ&lt;&#x2F;a&gt;&lt;&#x2F;h2&gt;
&lt;p&gt;æœ€å¾Œã«canvasã‚’æ“ä½œã™ã‚‹ä¾‹ã‚’è¦‹ã¦ã„ãã¾ã™ã€‚&lt;br &#x2F;&gt;
WASMã‹ã‚‰canvasã¯æ“ä½œã§ããªã„ã®ã§ã€canvasã«æç”»ã™ã‚‹ãƒ¡ãƒ¢ãƒªã‚’WASMå´ã§æ“ä½œã—ã¦ãã‚Œã‚’jså´ã§ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹ã“ã¨ã§å®Ÿç¾ã—ã¾ã™ã€‚&lt;br &#x2F;&gt;
ã“ã“ã§ä½œã‚‹ã®ã¯ã€ã‚ã‚‹ç§»å‹•ã™ã‚‹è¤‡æ•°ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã—ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒ‰åŒå£«ãŒè¡çªã—ã¦ã„ã‚‹ã‹ã‚’åˆ¤å®šã™ã‚‹WASMã§ã™ã€‚&lt;br &#x2F;&gt;
ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯x,yåº§æ¨™ã¨x,yãã‚Œãã‚Œã®é€Ÿåº¦ã‚’ä¿æŒã—ã¾ã™ã€‚&lt;br &#x2F;&gt;
WASMã¯canvasã«æç”»ã•ã‚Œã‚‹ãƒ¡ãƒ¢ãƒªé ˜åŸŸã¨ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®çŠ¶æ…‹ã‚’ç®¡ç†ã™ã‚‹é ˜åŸŸã‚’ç®¡ç†ã—ã¾ã™ã€‚&lt;&#x2F;p&gt;

&lt;figure class=&quot;&quot;&gt;
  &lt;div class=&quot;fig-images-row&quot;&gt;
    
    &lt;img 
      src=&quot;images&amp;#x2F;wasm_memory_overview.png&quot; 
      alt=&quot;&quot;, 
       
      
    &gt;
    
  &lt;&#x2F;div&gt;
  &lt;figcaption&gt;ãƒ¡ãƒ¢ãƒªé ˜åŸŸã®æ¦‚è¦&lt;&#x2F;figcaption&gt;
&lt;&#x2F;figure&gt;
&lt;p&gt;ã¾ãšã€htmlã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;collide.html&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;pre class=&quot;giallo&quot; style=&quot;color: #D8DEE9; background-color: #2E3440;&quot;&gt;&lt;code data-lang=&quot;html&quot;&gt;&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;&amp;lt;!DOCTYPE&lt;&#x2F;span&gt;&lt;span style=&quot;color: #8FBCBB;&quot;&gt; html&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;&amp;lt;html&amp;gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;&amp;lt;head&amp;gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;  &amp;lt;meta&lt;&#x2F;span&gt;&lt;span style=&quot;color: #8FBCBB;&quot;&gt; charset&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;UTF-8&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;  &amp;lt;meta&lt;&#x2F;span&gt;&lt;span style=&quot;color: #8FBCBB;&quot;&gt; name&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;viewport&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #8FBCBB;&quot;&gt; content&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;widh=device-width,initial-scale=1.0&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;&amp;gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;  &amp;lt;title&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;Collision Detection&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;&amp;lt;&#x2F;title&amp;gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;&amp;lt;&#x2F;head&amp;gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;&amp;lt;body&amp;gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;  &amp;lt;canvas&lt;&#x2F;span&gt;&lt;span style=&quot;color: #8FBCBB;&quot;&gt; id&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;cnvs&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #8FBCBB;&quot;&gt; width&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;512&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #8FBCBB;&quot;&gt; height&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;=&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;512&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;&amp;gt;&amp;lt;&#x2F;canvas&amp;gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;  &amp;lt;script&amp;gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;    const&lt;&#x2F;span&gt;&lt;span&gt; cnvs_size&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span style=&quot;color: #B48EAD;&quot;&gt; 512&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;    const&lt;&#x2F;span&gt;&lt;span&gt; no_hit_color&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span style=&quot;color: #B48EAD;&quot;&gt; 0xff_00_ff_00&lt;&#x2F;span&gt;&lt;span style=&quot;color: #616E88;&quot;&gt; &#x2F;&#x2F; green&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;    const&lt;&#x2F;span&gt;&lt;span&gt; hit_color&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span style=&quot;color: #B48EAD;&quot;&gt; 0xff_00_00_ff&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #616E88;&quot;&gt; &#x2F;&#x2F; red&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;    const&lt;&#x2F;span&gt;&lt;span&gt; pixel_count&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span&gt; cnvs_size&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; *&lt;&#x2F;span&gt;&lt;span&gt; cnvs_size&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;    const&lt;&#x2F;span&gt;&lt;span&gt; canvas&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span&gt; document&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;getElementById&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;cnvs&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;    const&lt;&#x2F;span&gt;&lt;span&gt; ctx&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span&gt; canvas&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;getContext&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;2d&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    ctx&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;clearRect&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color: #B48EAD;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color: #B48EAD;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color: #B48EAD;&quot;&gt;512&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color: #B48EAD;&quot;&gt;512&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;    const&lt;&#x2F;span&gt;&lt;span&gt; obj_start&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span&gt; pixel_count&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; *&lt;&#x2F;span&gt;&lt;span style=&quot;color: #B48EAD;&quot;&gt; 4&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;    const&lt;&#x2F;span&gt;&lt;span&gt; obj_start_32&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span&gt; pixel_count&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;    const&lt;&#x2F;span&gt;&lt;span&gt; obj_size&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span style=&quot;color: #B48EAD;&quot;&gt; 4&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;    const&lt;&#x2F;span&gt;&lt;span&gt; obj_cnt&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span style=&quot;color: #B48EAD;&quot;&gt; 3000&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;    const&lt;&#x2F;span&gt;&lt;span&gt; stride_bytes&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span style=&quot;color: #B48EAD;&quot;&gt; 16&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;    const&lt;&#x2F;span&gt;&lt;span&gt; x_offset&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span style=&quot;color: #B48EAD;&quot;&gt; 0&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;    const&lt;&#x2F;span&gt;&lt;span&gt; y_offset&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span style=&quot;color: #B48EAD;&quot;&gt; 4&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;    const&lt;&#x2F;span&gt;&lt;span&gt; xv_offset&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span style=&quot;color: #B48EAD;&quot;&gt; 8&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;    const&lt;&#x2F;span&gt;&lt;span&gt; yv_offset&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span style=&quot;color: #B48EAD;&quot;&gt; 12&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;    const&lt;&#x2F;span&gt;&lt;span&gt; memory&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; = new&lt;&#x2F;span&gt;&lt;span&gt; WebAssembly&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;Memory&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;{&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt; initial&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span style=&quot;color: #B48EAD;&quot;&gt; 80&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt; }&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;    const&lt;&#x2F;span&gt;&lt;span&gt; mem_i8&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; = new&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt; Uint8Array&lt;&#x2F;span&gt;&lt;span&gt;(memory&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;buffer)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;    const&lt;&#x2F;span&gt;&lt;span&gt; mem_i32&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; = new&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt; Uint32Array&lt;&#x2F;span&gt;&lt;span&gt;(memory&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;buffer)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;    const&lt;&#x2F;span&gt;&lt;span&gt; importObject&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt; {&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;      env&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;: {&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;        buffer&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; memory&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;        cnvs_size&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; cnvs_size&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;        no_hit_color&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; no_hit_color&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;        hit_color&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; hit_color&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;        obj_start&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; obj_start&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;        obj_cnt&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; obj_cnt&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;        obj_size&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; obj_size&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;        x_offset&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; x_offset&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;        y_offset&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; y_offset&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;        xv_offset&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; xv_offset&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;        yv_offset&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;:&lt;&#x2F;span&gt;&lt;span&gt; yv_offset&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;,&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;      }&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;    }&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;    const&lt;&#x2F;span&gt;&lt;span&gt; image_data&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; = new&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt; ImageData&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;        new&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt; Uint8ClampedArray&lt;&#x2F;span&gt;&lt;span&gt;(memory&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;buffer&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color: #B48EAD;&quot;&gt; 0&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;,&lt;&#x2F;span&gt;&lt;span&gt; obj_start)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;,&lt;&#x2F;span&gt;&lt;span&gt; cnvs_size&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;,&lt;&#x2F;span&gt;&lt;span&gt; cnvs_size&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    )&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;    const&lt;&#x2F;span&gt;&lt;span&gt; stride_i32&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span&gt; stride_bytes&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; &#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #B48EAD;&quot;&gt; 4&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;    for&lt;&#x2F;span&gt;&lt;span&gt; (&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; i&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span style=&quot;color: #B48EAD;&quot;&gt; 0&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;span&gt; i&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; &amp;lt;&lt;&#x2F;span&gt;&lt;span&gt; obj_cnt&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; *&lt;&#x2F;span&gt;&lt;span&gt; stride_i32&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;span&gt; i&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; +=&lt;&#x2F;span&gt;&lt;span&gt; stride_i32)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt; {&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;      let&lt;&#x2F;span&gt;&lt;span&gt; temp&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span&gt; Math&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;floor&lt;&#x2F;span&gt;&lt;span&gt;(Math&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;random&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; *&lt;&#x2F;span&gt;&lt;span&gt; cnvs_size)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;      mem_i32[obj_start_32&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span&gt;i]&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span&gt; temp&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;      temp&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span&gt; Math&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;floor&lt;&#x2F;span&gt;&lt;span&gt;(Math&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;random&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; *&lt;&#x2F;span&gt;&lt;span&gt; cnvs_size)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;      mem_i32[obj_start_32&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span&gt;i&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; +&lt;&#x2F;span&gt;&lt;span style=&quot;color: #B48EAD;&quot;&gt; 1&lt;&#x2F;span&gt;&lt;span&gt;]&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span&gt; temp&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;      temp&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span&gt; (Math&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;round&lt;&#x2F;span&gt;&lt;span&gt;(Math&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;random&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; *&lt;&#x2F;span&gt;&lt;span style=&quot;color: #B48EAD;&quot;&gt; 4&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; -&lt;&#x2F;span&gt;&lt;span style=&quot;color: #B48EAD;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt; )&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;      mem_i32[obj_start_32&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; +&lt;&#x2F;span&gt;&lt;span&gt; i&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; +&lt;&#x2F;span&gt;&lt;span style=&quot;color: #B48EAD;&quot;&gt; 2&lt;&#x2F;span&gt;&lt;span&gt;]&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span&gt; temp&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;      temp&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span&gt; (Math&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;round&lt;&#x2F;span&gt;&lt;span&gt;(Math&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;random&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; *&lt;&#x2F;span&gt;&lt;span style=&quot;color: #B48EAD;&quot;&gt; 4&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; -&lt;&#x2F;span&gt;&lt;span style=&quot;color: #B48EAD;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt; )&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;      mem_i32[obj_start_32&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; +&lt;&#x2F;span&gt;&lt;span&gt; i&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; +&lt;&#x2F;span&gt;&lt;span style=&quot;color: #B48EAD;&quot;&gt; 3&lt;&#x2F;span&gt;&lt;span&gt;]&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span&gt; temp&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;    }&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;    let&lt;&#x2F;span&gt;&lt;span&gt; animation_wasm&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;    function&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt; animate&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;() {&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;      animation_wasm&lt;&#x2F;span&gt;&lt;span&gt;()&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;      ctx&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;putImageData&lt;&#x2F;span&gt;&lt;span&gt;(image_data&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color: #B48EAD;&quot;&gt; 0&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color: #B48EAD;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;      requestAnimationFrame&lt;&#x2F;span&gt;&lt;span&gt;(animate)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;    }&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    (&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;async&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt; ()&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt; {&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;      let&lt;&#x2F;span&gt;&lt;span&gt; obj&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; = await&lt;&#x2F;span&gt;&lt;span&gt; WebAssembly&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;instantiateStreaming&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;fetch&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt;collide.wasm&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;,&lt;&#x2F;span&gt;&lt;span&gt; importObject)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;      animation_wasm&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt; =&lt;&#x2F;span&gt;&lt;span&gt; obj&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;instance&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;exports&lt;&#x2F;span&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span&gt;main&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;      requestAnimationFrame&lt;&#x2F;span&gt;&lt;span&gt;(animate)&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #ECEFF4;&quot;&gt;    }&lt;&#x2F;span&gt;&lt;span&gt;)()&lt;&#x2F;span&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;  &amp;lt;&#x2F;script&amp;gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;&amp;lt;&#x2F;body&amp;gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #81A1C1;&quot;&gt;&amp;lt;&#x2F;html&amp;gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;canvasã®frameã‚’æç”»ã™ã‚‹ãŸã³ã«ã€WASMå´ã®&lt;code&gt;main&lt;&#x2F;code&gt;ã‚’å‘¼ã³å‡ºã—ã¾ã™ã€‚&lt;br &#x2F;&gt;
WASMå´ã¯&lt;code&gt;main&lt;&#x2F;code&gt;ã®ä¸­ã§äºŒã¤ã®ã“ã¨ã‚’è¡Œã„ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;objectã®çŠ¶æ…‹å¤‰æ›´&lt;&#x2F;li&gt;
&lt;li&gt;canvasã®æç”»é ˜åŸŸã®æ›´æ–°&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;WATã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre class=&quot;giallo&quot; style=&quot;color: #D8DEE9; background-color: #2E3440;&quot;&gt;&lt;code data-lang=&quot;plain&quot;&gt;&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;(module&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    (global $cnvs_size (import &amp;quot;env&amp;quot; &amp;quot;cnvs_size&amp;quot;) i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    (global $no_hit_color (import &amp;quot;env&amp;quot; &amp;quot;no_hit_color&amp;quot;) i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    (global $hit_color (import &amp;quot;env&amp;quot; &amp;quot;hit_color&amp;quot;) i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    (global $obj_start (import &amp;quot;env&amp;quot; &amp;quot;obj_start&amp;quot;) i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    (global $obj_size (import &amp;quot;env&amp;quot; &amp;quot;obj_size&amp;quot;) i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    (global $obj_cnt (import &amp;quot;env&amp;quot; &amp;quot;obj_cnt&amp;quot;) i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    (global $x_offset (import &amp;quot;env&amp;quot; &amp;quot;x_offset&amp;quot;) i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    (global $y_offset (import &amp;quot;env&amp;quot; &amp;quot;y_offset&amp;quot;) i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    (global $xv_offset (import &amp;quot;env&amp;quot; &amp;quot;xv_offset&amp;quot;) i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    (global $yv_offset (import &amp;quot;env&amp;quot; &amp;quot;yv_offset&amp;quot;) i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    (import &amp;quot;env&amp;quot; &amp;quot;buffer&amp;quot; (memory 80))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    (func $clear_canvas&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (local $i i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (local $pixel_bytes i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        global.get $cnvs_size&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        global.get $cnvs_size&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        i32.mul&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        i32.const 4&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        i32.mul&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        local.set $pixel_bytes;; $pixel_bytes = $width * $height * 4&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (loop $pixel_loop&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            (i32.store (local.get $i) (i32.const 0xff_00_00_00))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            (i32.add (local.get $i) (i32.const 4))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            local.set $i ;; $i += 4&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            (i32.lt_u (local.get $i) (local.get $pixel_bytes))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            br_if $pixel_loop&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        )&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    )&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    (func $abs&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (param $value i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (result i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (i32.lt_s (local.get $value) (i32.const 0))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        if&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            i32.const 0&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            local.get $value&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            i32.sub&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            return&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        end&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        local.get $value&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    )&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    (func $set_pixel&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (param $x i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (param $y i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (param $c i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (i32.ge_u (local.get $x) (global.get $cnvs_size))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        if&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            return&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        end&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (i32.ge_u (local.get $y) (global.get $cnvs_size))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        if&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            return&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        end&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        local.get $y&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        global.get $cnvs_size&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        i32.mul&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        local.get $x&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        i32.add&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        i32.const 4&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        i32.mul&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        local.get $c&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        i32.store&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    )&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    (func $draw_obj&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (param $x i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (param $y i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (param $c i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (local $max_x i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (local $max_y i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (local $xi i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (local $yi i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        local.get $x&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        local.tee $xi&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        global.get $obj_size&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        i32.add&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        local.set $max_x&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        local.get $y&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        local.tee $yi&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        global.get $obj_size&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        i32.add&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        local.set $max_y&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (block $break (loop $draw_loop&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            local.get $xi&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            local.get $yi&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            local.get $c&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            call $set_pixel&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            local.get $xi&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            i32.const 1&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            i32.add&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            local.tee $xi&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            local.get $max_x&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            i32.ge_u&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            if&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                local.get $x&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                local.set $xi&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                local.get $yi&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                i32.const 1&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                i32.add&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                local.tee $yi&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                local.get $max_y&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                i32.ge_u&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                br_if $break&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            end&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            br $draw_loop&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        ))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    )&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    (func $set_obj_attr&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (param $obj_number i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (param $attr_offset i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (param $value i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        local.get $obj_number&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        i32.const 16&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        i32.mul&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        global.get $obj_start&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        i32.add&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        local.get $attr_offset&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        i32.add&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        local.get $value&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        i32.store&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    )&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    (func $get_obj_attr&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (param $obj_number i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (param $attr_offset i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (result i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        local.get $obj_number&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        i32.const 16&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        i32.mul&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        global.get $obj_start&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        i32.add&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        local.get $attr_offset&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        i32.add&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        i32.load&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    )&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    (func $main (export &amp;quot;main&amp;quot;)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (local $i i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (local $j i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (local $outer_ptr i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (local $inner_ptr i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (local $x1 i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (local $x2 i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (local $y1 i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (local $y2 i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (local $xdist i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (local $ydist i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (local $i_hit i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (local $xv i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (local $yv i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (call $clear_canvas)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (loop $move_loop&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            (call $get_obj_attr (local.get $i) (global.get $x_offset))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            local.set $x1&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            (call $get_obj_attr (local.get $i) (global.get $y_offset))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            local.set $y1&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            (call $get_obj_attr (local.get $i) (global.get $xv_offset))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            local.set $xv&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            (call $get_obj_attr (local.get $i) (global.get $yv_offset))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            local.set $yv&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            (i32.add (local.get $xv) (local.get $x1))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            i32.const 0x1ff ;; 511&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            i32.and&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            local.set $x1&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            (i32.add (local.get $yv) (local.get $y1))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            i32.const 0x1ff ;; 511&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            i32.and&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            local.set $y1&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            (call $set_obj_attr&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                (local.get $i)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                (global.get $x_offset)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                (local.get $x1)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            )&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            (call $set_obj_attr&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                (local.get $i)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                (global.get $y_offset)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                (local.get $y1)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            )&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            local.get $i&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            i32.const 1&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            i32.add&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            local.tee $i&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            global.get $obj_cnt&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            i32.lt_u&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            if&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                br $move_loop&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            end&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        )&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        i32.const 0&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        local.set $i&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (loop $outer_loop (block $outer_break&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            i32.const 0&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            local.tee $j&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            local.set $i_hit&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            (call $get_obj_attr (local.get $i) (global.get $x_offset))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            local.set $x1&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            (call $get_obj_attr (local.get $i) (global.get $y_offset))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            local.set $y1&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            (loop $inner_loop (block $inner_break&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                local.get $i&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                local.get $j&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                i32.eq&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                if&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                    local.get $j&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                    i32.const 1&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                    i32.add&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                    local.set $j&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                end&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                local.get $j&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                global.get $obj_cnt&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                i32.ge_u&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                if&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                    br $inner_break&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                end&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                (call $get_obj_attr (local.get $j) (global.get $x_offset))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                local.set $x2&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                (i32.sub (local.get $x1) (local.get $x2))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                call $abs&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                local.tee $xdist&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                global.get $obj_size&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                i32.ge_u&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                ;; è¡çªã—ã¦ã„ãªã„&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                if&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                    local.get $j&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                    i32.const 1&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                    i32.add&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                    local.set $j&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                    br $inner_loop&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                end&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                (call $get_obj_attr (local.get $j) (global.get $y_offset))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                local.set $y2&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                (i32.sub (local.get $y1) (local.get $y2))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                call $abs&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                local.tee $ydist&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                global.get $obj_size&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                i32.ge_u&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                ;; è¡çªã—ã¦ã„ãªã„&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                if&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                    local.get $j&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                    i32.const 1&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                    i32.add&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                    local.set $j&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                    br $inner_loop&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                end&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                i32.const 1&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                local.set $i_hit&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            ))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            local.get $i_hit&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            i32.const 0&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            i32.eq&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            if&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                (call $draw_obj&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                    (local.get $x1) (local.get $y1) (global.get $no_hit_color))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            else&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                (call $draw_obj&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                    (local.get $x1) (local.get $y1) (global.get $hit_color))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            end&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            local.get $i&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            i32.const 1&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            i32.add&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            local.tee $i&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            global.get $obj_cnt&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            i32.lt_u&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            if&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                br $outer_loop&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            end&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        ))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    )&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;é•·ã„ã§ã™ãŒã€æœ€å¾Œã®&lt;code&gt;main&lt;&#x2F;code&gt;ã‹ã‚‰è¦‹ã¦ã„ãã¨ã¨ã¦ã‚‚å˜ç´”ãªå‡¦ç†ã‚’ã—ã¦ã„ã‚‹ã ã‘ãªã®ãŒã‚ã‹ã‚Šã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre class=&quot;giallo&quot; style=&quot;color: #D8DEE9; background-color: #2E3440;&quot;&gt;&lt;code data-lang=&quot;plain&quot;&gt;&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    (func $main (export &amp;quot;main&amp;quot;)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (local $i i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (local $j i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (local $x1 i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (local $x2 i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (local $y1 i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (local $y2 i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (local $xdist i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (local $ydist i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (local $i_hit i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (local $xv i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (local $yv i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (call $clear_canvas)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ã¾ãšã€å¿…è¦ãªlocalå¤‰æ•°ã‚’å®£è¨€ã—ã¾ã™ã€‚&lt;br &#x2F;&gt;
Frameæ¯ã«å„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®çŠ¶æ…‹ã‚’æ›´æ–°ã™ã‚‹ã®ã§ã€&lt;code&gt;$i&lt;&#x2F;code&gt;ã¯ç¾åœ¨ã®å‡¦ç†å¯¾è±¡ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®indexã§ã™ã€‚&lt;code&gt;$j&lt;&#x2F;code&gt;ã¯å„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã®è¡çªåˆ¤å®šã‚’ã™ã‚‹ãŸã‚ã®inner loopã®indexã§ã™ã€‚&lt;br &#x2F;&gt;
æœ€åˆã«&lt;code&gt;$clear_canvas&lt;&#x2F;code&gt;ã‚’å‘¼ã³å‡ºã—ã¦ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°é ˜åŸŸã‚’ãƒªã‚»ãƒƒãƒˆã—ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre class=&quot;giallo&quot; style=&quot;color: #D8DEE9; background-color: #2E3440;&quot;&gt;&lt;code data-lang=&quot;plain&quot;&gt;&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    (func $clear_canvas&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (local $i i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (local $pixel_bytes i32)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        global.get $cnvs_size&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        global.get $cnvs_size&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        i32.mul&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        i32.const 4&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        i32.mul&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        local.set $pixel_bytes;; $pixel_bytes = $width * $height * 4&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (loop $pixel_loop&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            (i32.store (local.get $i) (i32.const 0xff_00_00_00))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            (i32.add (local.get $i) (i32.const 4))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            local.set $i ;; $i += 4&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            (i32.lt_u (local.get $i) (local.get $pixel_bytes))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            br_if $pixel_loop&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        )&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;    )&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;1pixel 4byteãªã®ã§4byteãšã¤ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆã—ãªãŒã‚‰ã€é»’è‰²(&lt;code&gt;0xff_00_00_00&lt;&#x2F;code&gt;)ã«ã—ã¦ã„ãã¾ã™ã€‚&lt;br &#x2F;&gt;
æ¬¡ã«&lt;&#x2F;p&gt;
&lt;pre class=&quot;giallo&quot; style=&quot;color: #D8DEE9; background-color: #2E3440;&quot;&gt;&lt;code data-lang=&quot;plain&quot;&gt;&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (loop $move_loop&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            (call $get_obj_attr (local.get $i) (global.get $x_offset))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            local.set $x1&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            (call $get_obj_attr (local.get $i) (global.get $y_offset))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            local.set $y1&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            (call $get_obj_attr (local.get $i) (global.get $xv_offset))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            local.set $xv&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            (call $get_obj_attr (local.get $i) (global.get $yv_offset))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            local.set $yv&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            (i32.add (local.get $xv) (local.get $x1))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            i32.const 0x1ff ;; 511&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            i32.and&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            local.set $x1&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            (i32.add (local.get $yv) (local.get $y1))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            i32.const 0x1ff ;; 511&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            i32.and&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            local.set $y1&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            (call $set_obj_attr&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                (local.get $i)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                (global.get $x_offset)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                (local.get $x1)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            )&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            (call $set_obj_attr&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                (local.get $i)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                (global.get $y_offset)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                (local.get $y1)&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            )&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            local.get $i&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            i32.const 1&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            i32.add&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            local.tee $i&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            global.get $obj_cnt&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            i32.lt_u&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            if&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                br $move_loop&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            end&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        )&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å‡¦ç†å¯¾è±¡ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®&lt;code&gt;x,y,xv,xy&lt;&#x2F;code&gt;ã‚’å–å¾—ã—ã¦ã€ãã‚Œãã‚Œã®é€Ÿåº¦ã‚’åŠ ç®—ã—ãŸã®ã¡ã€ãƒ¡ãƒ¢ãƒªã‚’æ›´æ–°ã—ã¾ã™ã€‚&lt;br &#x2F;&gt;
&lt;code&gt;0x1ff&lt;&#x2F;code&gt;ã¨andã‚’ã¨ã‚‹ã“ã¨ã§ã€æç”»é ˜åŸŸã‚’ã¯ã¿ã§ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä½ç½®ãŒãƒªã‚»ãƒƒãƒˆã•ã‚Œã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚&lt;br &#x2F;&gt;
ãƒ“ãƒƒãƒˆæ¼”ç®—ã§ã“ã‚“ãªã“ã¨ãŒã§ãã‚‹ã®ã‹ã¨æ€ã„ã¾ã—ãŸã€‚æœ¬æ›¸ã§ã¯ãƒ“ãƒƒãƒˆæ¼”ç®—ã«ã¤ã„ã¦ã‚‚ä¸å¯§ã«è§£èª¬ã•ã‚Œã¦ãŠã‚Šã¾ã™ã€‚&lt;br &#x2F;&gt;
ã“ã“ã¾ã§ã§ã€frameã®æç”»æ¯ã«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä½ç½®æƒ…å ±ãŒæ›´æ–°ã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã—ãŸã€‚&lt;br &#x2F;&gt;
æœ€å¾Œã«ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®è¡çªåˆ¤å®šã‚’è¡Œã„ã€æç”»é ˜åŸŸã‚’æ›´æ–°ã—ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre class=&quot;giallo&quot; style=&quot;color: #D8DEE9; background-color: #2E3440;&quot;&gt;&lt;code data-lang=&quot;plain&quot;&gt;&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        i32.const 0&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        local.set $i&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        (loop $outer_loop (block $outer_break&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            i32.const 0&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            local.tee $j&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            local.set $i_hit&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            (call $get_obj_attr (local.get $i) (global.get $x_offset))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            local.set $x1&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            (call $get_obj_attr (local.get $i) (global.get $y_offset))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            local.set $y1&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            (loop $inner_loop (block $inner_break&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                local.get $i&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                local.get $j&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                i32.eq&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                if&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                    local.get $j&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                    i32.const 1&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                    i32.add&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                    local.set $j&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                end&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                local.get $j&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                global.get $obj_cnt&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                i32.ge_u&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                if&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                    br $inner_break&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                end&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                (call $get_obj_attr (local.get $j) (global.get $x_offset))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                local.set $x2&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                (i32.sub (local.get $x1) (local.get $x2))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                call $abs&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                local.tee $xdist&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                global.get $obj_size&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                i32.ge_u&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                ;; è¡çªã—ã¦ã„ãªã„&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                if&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                    local.get $j&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                    i32.const 1&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                    i32.add&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                    local.set $j&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                    br $inner_loop&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                end&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                (call $get_obj_attr (local.get $j) (global.get $y_offset))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                local.set $y2&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                (i32.sub (local.get $y1) (local.get $y2))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                call $abs&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                local.tee $ydist&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                global.get $obj_size&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                i32.ge_u&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                ;; è¡çªã—ã¦ã„ãªã„&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                if&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                    local.get $j&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                    i32.const 1&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                    i32.add&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                    local.set $j&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                    br $inner_loop&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                end&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                i32.const 1&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                local.set $i_hit&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            ))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            local.get $i_hit&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            i32.const 0&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            i32.eq&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            if&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                (call $draw_obj&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                    (local.get $x1) (local.get $y1) (global.get $no_hit_color))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            else&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                (call $draw_obj&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                    (local.get $x1) (local.get $y1) (global.get $hit_color))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            end&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            local.get $i&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            i32.const 1&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            i32.add&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            local.tee $i&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            global.get $obj_cnt&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            i32.lt_u&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            if&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;                br $outer_loop&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;            end&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;
&lt;span class=&quot;giallo-l&quot;&gt;&lt;span&gt;        ))&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®è¡çªåˆ¤å®šã¯&lt;code&gt;|x1 - x2|&lt;&#x2F;code&gt; &amp;lt; &lt;code&gt;object_size&lt;&#x2F;code&gt; ã‹ã¤ &lt;code&gt;|y1 - y2| &amp;lt; object_size&lt;&#x2F;code&gt;ã§åˆ¤å®šã—ã¾ã™ã€‚
WATã‚’WASMã«å¤‰æ›ã—ã¦&lt;&#x2F;p&gt;
&lt;pre class=&quot;giallo&quot; style=&quot;color: #D8DEE9; background-color: #2E3440;&quot;&gt;&lt;code data-lang=&quot;shellscript&quot;&gt;&lt;span class=&quot;giallo-l&quot;&gt;&lt;span style=&quot;color: #88C0D0;&quot;&gt;node&lt;&#x2F;span&gt;&lt;span style=&quot;color: #A3BE8C;&quot;&gt; server.js&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ã‚’å®Ÿè¡Œã—ã¦ã€&lt;code&gt;localhost:8080&#x2F;collide.html&lt;&#x2F;code&gt;ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã¿ã‚‹ã¨ä»¥ä¸‹ã®ã‚ˆã†ã«æç”»ã•ã‚Œã¾ã—ãŸğŸ‰&lt;&#x2F;p&gt;

&lt;figure class=&quot;&quot;&gt;
  &lt;div class=&quot;fig-images-row&quot;&gt;
    
    &lt;img 
      src=&quot;images&amp;#x2F;wasm_object_collision.gif&quot; 
      alt=&quot;&quot;, 
       
      
    &gt;
    
  &lt;&#x2F;div&gt;
  &lt;figcaption&gt;å®Œæˆ&lt;&#x2F;figcaption&gt;
&lt;&#x2F;figure&gt;
&lt;h2 id=&quot;hurerarenakatutakoto&quot;&gt;&lt;a class=&quot;zola-anchor&quot; href=&quot;#hurerarenakatutakoto&quot; aria-label=&quot;Anchor link for: hurerarenakatutakoto&quot;&gt;ãµã‚Œã‚‰ã‚Œãªã‹ã£ãŸã“ã¨&lt;&#x2F;a&gt;&lt;&#x2F;h2&gt;
&lt;p&gt;æœ¬è¨˜äº‹ã§ã¯ãµã‚Œã‚‰ã‚Œã¾ã›ã‚“ã§ã—ãŸãŒã€æœ¬æ›¸ã§ã¯ã•ã‚‰ã«ã“ã“ã‹ã‚‰WASMã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ã‚„ãƒ‡ãƒãƒƒã‚°ã‚’ãŠã“ãªã†ãŸã‚ã®å®Ÿç”¨çš„ãªçŸ¥è­˜ãŒè¿°ã¹ã‚‰ã‚Œã¦ãŠã‚Šã¾ã™ã€‚&lt;&#x2F;p&gt;
</content>
        
    </entry>
    
    
    
    
    
</feed>
