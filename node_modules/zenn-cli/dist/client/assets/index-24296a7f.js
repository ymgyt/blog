const c={};function a({src:s,id:t}){return new Promise((n,i)=>{if(document.getElementById(t)){const e=setInterval(()=>{c[t]&&(clearInterval(e),n())},100)}else{const e=document.createElement("script");e.setAttribute("src",s),e.setAttribute("id",t),document.head.appendChild(e),e.onload=()=>{c[t]=!0,n()},e.onerror=o=>i(o)}})}function d({href:s,id:t}){return new Promise((n,i)=>{if(document.getElementById(t))return n();const r=document.createElement("link");r.setAttribute("href",s),r.setAttribute("rel","stylesheet"),r.setAttribute("id",t),document.head.appendChild(r),r.onload=()=>{n()},r.onerror=e=>i(e)})}const l="katex-container";class m extends HTMLElement{constructor(){super();const t=document.createElement("div");t.setAttribute("id",l),this._container=t}async connectedCallback(){this.render()}async render(){typeof katex>"u"&&await a({src:"https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js",id:"katex-js"}),d({href:"https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css",id:"katex-css"});const t=!!this.getAttribute("display-mode"),n=this.textContent||this.innerText;katex==null||katex.render(n,this._container,{macros:{"\\RR":"\\mathbb{R}"},throwOnError:!1,displayMode:t}),this.innerHTML=this._container.innerHTML}}customElements.define("embed-katex",m);
